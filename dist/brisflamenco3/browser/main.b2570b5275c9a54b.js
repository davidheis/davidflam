"use strict";(self.webpackChunkbrisflamenco3=self.webpackChunkbrisflamenco3||[]).push([[179],{2011:(Dt,Le,M)=>{M.d(Le,{Dh:()=>fe,GT:()=>Ce,cc:()=>ke,hO:()=>je,on:()=>z,pX:()=>be,xv:()=>we});var c=M(4650),F=M(127),R=M(4386);Dt=M.hmd(Dt);const oe=["ngOnDestroy"],be=(pe,ut,tt,He={})=>new Proxy(pe,{get:(Be,Se)=>tt.runOutsideAngular(()=>{var nt;if(pe[Se])return!(null===(nt=He?.spy)||void 0===nt)&&nt.get&&He.spy.get(Se,pe[Se]),pe[Se];if(oe.indexOf(Se)>-1)return()=>{};const ie=ut.toPromise().then(me=>{const Ae=me&&me[Se];return"function"==typeof Ae?Ae.bind(me):Ae&&Ae.then?Ae.then(Y=>tt.run(()=>Y)):tt.run(()=>Ae)});return new Proxy(()=>{},{get:(me,Ae)=>ie[Ae],apply:(me,Ae,Y)=>ie.then(ae=>{var de;const Ee=ae&&ae(...Y);return!(null===(de=He?.spy)||void 0===de)&&de.apply&&He.spy.apply(Se,Y,Ee),Ee})})})}),Ce=(pe,ut)=>{ut.forEach(tt=>{Object.getOwnPropertyNames(tt.prototype||tt).forEach(He=>{Object.defineProperty(pe.prototype,He,Object.getOwnPropertyDescriptor(tt.prototype||tt,He))})})};class se{constructor(ut){return ut}}const fe=new c.OlP("angularfire2.app.options"),we=new c.OlP("angularfire2.app.name");function z(pe,ut,tt){const Be="object"==typeof tt&&tt||{};Be.name=Be.name||"string"==typeof tt&&tt||"[DEFAULT]";const nt=F.Z.apps.filter(ie=>ie&&ie.name===Be.name)[0]||ut.runOutsideAngular(()=>F.Z.initializeApp(pe,Be));try{JSON.stringify(pe)!==JSON.stringify(nt.options)&&$("error",`${nt.name} Firebase App already initialized with different options${Dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new se(nt)}const $=(pe,...ut)=>{(0,c.X6Q)()&&typeof console<"u"&&console[pe](...ut)},X={provide:se,useFactory:z,deps:[fe,c.R0b,[new c.FiY,we]]};let je=(()=>{class pe{constructor(tt){F.Z.registerVersion("angularfire",R.q4.full,"core"),F.Z.registerVersion("angularfire",R.q4.full,"app-compat"),F.Z.registerVersion("angular",c.q4F.full,tt.toString())}static initializeApp(tt,He){return{ngModule:pe,providers:[{provide:fe,useValue:tt},{provide:we,useValue:He}]}}}return pe.\u0275fac=function(tt){return new(tt||pe)(c.LFG(c.Lbi))},pe.\u0275mod=c.oAB({type:pe}),pe.\u0275inj=c.cJS({providers:[X]}),pe})();function ke(pe,ut,tt,He,Be){const[,Se,nt]=globalThis.\u0275AngularfireInstanceCache.find(ie=>ie[0]===pe)||[];if(Se)return function Ne(pe,ut){try{return pe.toString()===ut.toString()}catch{return pe===ut}}(Be,nt)||(Ie("error",`${ut} was already initialized on the ${tt} Firebase App with different settings.${Je?" You may need to reload as Firebase is not HMR aware.":""}`),Ie("warn",{is:Be,was:nt})),Se;{const ie=He();return globalThis.\u0275AngularfireInstanceCache.push([pe,ie,Be]),ie}}const Je=!!Dt.hot,Ie=(pe,...ut)=>{(0,c.X6Q)()&&typeof console<"u"&&console[pe](...ut)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4386:(Dt,Le,M)=>{M.d(Le,{q4:()=>Ot,iC:()=>gt,HU:()=>st,vb:()=>ge,JM:()=>K,nk:()=>B,n1:()=>ee,u3:()=>kt});var c=M(4650),F=M(5867),R=M(5861),oe=M(9681),be=M(2090),Ce=M(4859),se=M(1877);M(2833);const we="@firebase/remote-config",z="0.3.10",ke=new be.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Tt{constructor(te,re,ze,N){this.client=te,this.storage=re,this.storageCache=ze,this.logger=N}isCachedDataFresh(te,re){if(!re)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ze=Date.now()-re,N=ze<=te;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ze}. Cache max age millis (minimumFetchIntervalMillis setting): ${te}. Is cache hit: ${N}.`),N}fetch(te){var re=this;return(0,R.Z)(function*(){const[ze,N]=yield Promise.all([re.storage.getLastSuccessfulFetchTimestampMillis(),re.storage.getLastSuccessfulFetchResponse()]);if(N&&re.isCachedDataFresh(te.cacheMaxAgeMillis,ze))return N;te.eTag=N&&N.eTag;const Z=yield re.client.fetch(te),Oe=[re.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Z.status&&Oe.push(re.storage.setLastSuccessfulFetchResponse(Z)),yield Promise.all(Oe),Z})()}}function Yt(ve=navigator){return ve.languages&&ve.languages[0]||ve.language}class Lt{constructor(te,re,ze,N,Z,Oe){this.firebaseInstallations=te,this.sdkVersion=re,this.namespace=ze,this.projectId=N,this.apiKey=Z,this.appId=Oe}fetch(te){var re=this;return(0,R.Z)(function*(){var ze,N,Z;const[Oe,Pe]=yield Promise.all([re.firebaseInstallations.getId(),re.firebaseInstallations.getToken()]),G=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${re.projectId}/namespaces/${re.namespace}:fetch?key=${re.apiKey}`,ue={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":te.eTag||"*"},Me={sdk_version:re.sdkVersion,app_instance_id:Oe,app_instance_id_token:Pe,app_id:re.appId,language_code:Yt()},it={method:"POST",headers:ue,body:JSON.stringify(Me)},fn=fetch(G,it),Jt=new Promise((fs,wr)=>{te.signal.addEventListener(()=>{const jo=new Error("The operation was aborted.");jo.name="AbortError",wr(jo)})});let wt;try{yield Promise.race([fn,Jt]),wt=yield fn}catch(fs){let wr="fetch-client-network";throw"AbortError"===(null===(ze=fs)||void 0===ze?void 0:ze.name)&&(wr="fetch-timeout"),ke.create(wr,{originalErrorMessage:null===(N=fs)||void 0===N?void 0:N.message})}let Sn=wt.status;const ur=wt.headers.get("ETag")||void 0;let nn,Yr;if(200===wt.status){let fs;try{fs=yield wt.json()}catch(wr){throw ke.create("fetch-client-parse",{originalErrorMessage:null===(Z=wr)||void 0===Z?void 0:Z.message})}nn=fs.entries,Yr=fs.state}if("INSTANCE_STATE_UNSPECIFIED"===Yr?Sn=500:"NO_CHANGE"===Yr?Sn=304:("NO_TEMPLATE"===Yr||"EMPTY_CONFIG"===Yr)&&(nn={}),304!==Sn&&200!==Sn)throw ke.create("fetch-status",{httpStatus:Sn});return{status:Sn,eTag:ur,config:nn}})()}}class Un{constructor(te,re){this.client=te,this.storage=re}fetch(te){var re=this;return(0,R.Z)(function*(){const ze=(yield re.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return re.attemptFetch(te,ze)})()}attemptFetch(te,{throttleEndTimeMillis:re,backoffCount:ze}){var N=this;return(0,R.Z)(function*(){yield function Xe(ve,te){return new Promise((re,ze)=>{const N=Math.max(te-Date.now(),0),Z=setTimeout(re,N);ve.addEventListener(()=>{clearTimeout(Z),ze(ke.create("fetch-throttle",{throttleEndTimeMillis:te}))})})}(te.signal,re);try{const Z=yield N.client.fetch(te);return yield N.storage.deleteThrottleMetadata(),Z}catch(Z){if(!function Nt(ve){if(!(ve instanceof be.ZR&&ve.customData))return!1;const te=Number(ve.customData.httpStatus);return 429===te||500===te||503===te||504===te}(Z))throw Z;const Oe={throttleEndTimeMillis:Date.now()+(0,be.$s)(ze),backoffCount:ze+1};return yield N.storage.setThrottleMetadata(Oe),N.attemptFetch(te,Oe)}})()}}class Ht{constructor(te,re,ze,N,Z){this.app=te,this._client=re,this._storageCache=ze,this._storage=N,this._logger=Z,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Vt(ve,te){var re;const ze=ve.target.error||void 0;return ke.create(te,{originalErrorMessage:ze&&(null===(re=ze)||void 0===re?void 0:re.message)})}const sn="app_namespace_store";class kn{constructor(te,re,ze,N=function gn(){return new Promise((ve,te)=>{var re;try{const ze=indexedDB.open("firebase_remote_config",1);ze.onerror=N=>{te(Vt(N,"storage-open"))},ze.onsuccess=N=>{ve(N.target.result)},ze.onupgradeneeded=N=>{0===N.oldVersion&&N.target.result.createObjectStore(sn,{keyPath:"compositeKey"})}}catch(ze){te(ke.create("storage-open",{originalErrorMessage:null===(re=ze)||void 0===re?void 0:re.message}))}})}()){this.appId=te,this.appName=re,this.namespace=ze,this.openDbPromise=N}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(te){return this.set("last_fetch_status",te)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(te){return this.set("last_successful_fetch_timestamp_millis",te)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(te){return this.set("last_successful_fetch_response",te)}getActiveConfig(){return this.get("active_config")}setActiveConfig(te){return this.set("active_config",te)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(te){return this.set("active_config_etag",te)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(te){return this.set("throttle_metadata",te)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(te){var re=this;return(0,R.Z)(function*(){const ze=yield re.openDbPromise;return new Promise((N,Z)=>{var Oe;const vt=ze.transaction([sn],"readonly").objectStore(sn),G=re.createCompositeKey(te);try{const ue=vt.get(G);ue.onerror=Me=>{Z(Vt(Me,"storage-get"))},ue.onsuccess=Me=>{const it=Me.target.result;N(it?it.value:void 0)}}catch(ue){Z(ke.create("storage-get",{originalErrorMessage:null===(Oe=ue)||void 0===Oe?void 0:Oe.message}))}})})()}set(te,re){var ze=this;return(0,R.Z)(function*(){const N=yield ze.openDbPromise;return new Promise((Z,Oe)=>{var Pe;const G=N.transaction([sn],"readwrite").objectStore(sn),ue=ze.createCompositeKey(te);try{const Me=G.put({compositeKey:ue,value:re});Me.onerror=it=>{Oe(Vt(it,"storage-set"))},Me.onsuccess=()=>{Z()}}catch(Me){Oe(ke.create("storage-set",{originalErrorMessage:null===(Pe=Me)||void 0===Pe?void 0:Pe.message}))}})})()}delete(te){var re=this;return(0,R.Z)(function*(){const ze=yield re.openDbPromise;return new Promise((N,Z)=>{var Oe;const vt=ze.transaction([sn],"readwrite").objectStore(sn),G=re.createCompositeKey(te);try{const ue=vt.delete(G);ue.onerror=Me=>{Z(Vt(Me,"storage-delete"))},ue.onsuccess=()=>{N()}}catch(ue){Z(ke.create("storage-delete",{originalErrorMessage:null===(Oe=ue)||void 0===Oe?void 0:Oe.message}))}})})()}createCompositeKey(te){return[this.appId,this.appName,this.namespace,te].join()}}class Kn{constructor(te){this.storage=te}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var te=this;return(0,R.Z)(function*(){const re=te.storage.getLastFetchStatus(),ze=te.storage.getLastSuccessfulFetchTimestampMillis(),N=te.storage.getActiveConfig(),Z=yield re;Z&&(te.lastFetchStatus=Z);const Oe=yield ze;Oe&&(te.lastSuccessfulFetchTimestampMillis=Oe);const Pe=yield N;Pe&&(te.activeConfig=Pe)})()}setLastFetchStatus(te){return this.lastFetchStatus=te,this.storage.setLastFetchStatus(te)}setLastSuccessfulFetchTimestampMillis(te){return this.lastSuccessfulFetchTimestampMillis=te,this.storage.setLastSuccessfulFetchTimestampMillis(te)}setActiveConfig(te){return this.activeConfig=te,this.storage.setActiveConfig(te)}}function bt(){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,R.Z)(function*(){if(!(0,be.hl)())return!1;try{return yield(0,be.eu)()}catch{return!1}})).apply(this,arguments)}!function ei(){(0,oe._registerComponent)(new Ce.wA("remote-config",function ve(te,{instanceIdentifier:re}){const ze=te.getProvider("app").getImmediate(),N=te.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ke.create("registration-window");if(!(0,be.hl)())throw ke.create("indexed-db-unavailable");const{projectId:Z,apiKey:Oe,appId:Pe}=ze.options;if(!Z)throw ke.create("registration-project-id");if(!Oe)throw ke.create("registration-api-key");if(!Pe)throw ke.create("registration-app-id");const vt=new kn(Pe,ze.name,re=re||"firebase"),G=new Kn(vt),ue=new se.Yd(we);ue.logLevel=se.in.ERROR;const Me=new Lt(N,oe.SDK_VERSION,re,Z,Oe,Pe),it=new Un(Me,vt),fn=new Tt(it,vt,G,ue),Jt=new Ht(ze,fn,G,vt,ue);return function nt(ve){const te=(0,be.m9)(ve);te._initializePromise||(te._initializePromise=te._storageCache.loadFromStorage().then(()=>{te._isInitializationComplete=!0}))}(Jt),Jt},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(we,z),(0,oe.registerVersion)(we,z,"esm2017")}();var hn=M(2375),Xt=M(6148),On=M(4408),Hn=M(7565);const Nn=new class Dn extends Hn.v{}(class Qn extends On.o{constructor(te,re){super(te,re),this.scheduler=te,this.work=re}schedule(te,re=0){return re>0?super.schedule(te,re):(this.delay=re,this.state=te,this.scheduler.flush(this),this)}execute(te,re){return re>0||this.closed?super.execute(te,re):this._execute(te,re)}requestAsyncId(te,re,ze=0){return null!=ze&&ze>0||null==ze&&this.delay>0?super.requestAsyncId(te,re,ze):te.flush(this)}});var $t=M(4986),et=M(9751),pt=M(8505),ti=M(9468),Ln=M(5363);const Ot=new c.GfV("7.4.1"),xn="__angularfire_symbol__analyticsIsSupportedValue",_n="__angularfire_symbol__analyticsIsSupported",ln="__angularfire_symbol__remoteConfigIsSupportedValue",on="__angularfire_symbol__remoteConfigIsSupported",W="__angularfire_symbol__messagingIsSupportedValue",U="__angularfire_symbol__messagingIsSupported";globalThis[_n]||(globalThis[_n]=(0,Xt.Gb)().then(ve=>globalThis[xn]=ve).catch(()=>globalThis[xn]=!1)),globalThis[U]||(globalThis[U]=(0,hn.Gb)().then(ve=>globalThis[W]=ve).catch(()=>globalThis[W]=!1)),globalThis[on]||(globalThis[on]=bt().then(ve=>globalThis[ln]=ve).catch(()=>globalThis[ln]=!1));const Q=ve=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${ve} in the constructor, first ensure that ${ve} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${ve})\`.`,ee={async:()=>globalThis[U],sync:()=>{const ve=globalThis[W];if(void 0===ve)throw new Error(Q("Messaging"));return ve}},B={async:()=>globalThis[_n],sync:()=>{const ve=globalThis[xn];if(void 0===ve)throw new Error(Q("Analytics"));return ve}};function K(ve,te,re){if(te){if(1===te.length)return te[0];const Z=te.filter(Oe=>Oe.app===re);if(1===Z.length)return Z[0]}return re.container.getProvider(ve).getImmediate({optional:!0})}const ge=(ve,te)=>{const re=te?[te]:(0,F.C6)(),ze=[];return re.forEach(N=>{N.container.getProvider(ve).instances.forEach(Oe=>{ze.includes(Oe)||ze.push(Oe)})}),ze};function Ue(){}class We{constructor(te,re=Nn){this.zone=te,this.delegate=re}now(){return this.delegate.now()}schedule(te,re,ze){const N=this.zone;return this.delegate.schedule(function(Oe){N.runGuarded(()=>{te.apply(this,[Oe])})},re,ze)}}class at{constructor(te){this.zone=te,this.task=null}call(te,re){const ze=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ue,{},Ue,Ue)),re.pipe((0,pt.b)({next:ze,complete:ze,error:ze})).subscribe(te).add(ze)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let st=(()=>{class ve{constructor(re){this.ngZone=re,this.outsideAngular=re.runOutsideAngular(()=>new We(Zone.current)),this.insideAngular=re.run(()=>new We(Zone.current,$t.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ve.\u0275fac=function(re){return new(re||ve)(c.LFG(c.R0b))},ve.\u0275prov=c.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})();function J(){const ve=globalThis.\u0275AngularFireScheduler;if(!ve)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return ve}function V(ve){return J().ngZone.runOutsideAngular(()=>ve())}function j(ve){return J().ngZone.run(()=>ve())}function gt(ve){return J(),function Re(ve){return function(re){return(re=re.lift(new at(ve.ngZone))).pipe((0,ti.R)(ve.outsideAngular),(0,Ln.Q)(ve.insideAngular))}}(J())(ve)}const dt=(ve,te)=>function(){const ze=arguments;return te&&setTimeout(()=>{"scheduled"===te.state&&te.invoke()},10),j(()=>ve.apply(void 0,ze))},kt=(ve,te)=>function(){let re;const ze=arguments;for(let Z=0;Z<arguments.length;Z++)"function"==typeof ze[Z]&&(te&&(re||(re=j(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ue,{},Ue,Ue)))),ze[Z]=dt(ze[Z],re));const N=V(()=>ve.apply(this,ze));if(!te){if(N instanceof et.y){const Z=J();return N.pipe((0,ti.R)(Z.outsideAngular),(0,Ln.Q)(Z.insideAngular))}return j(()=>N)}return N instanceof et.y?N.pipe(gt):N instanceof Promise?j(()=>new Promise((Z,Oe)=>N.then(Pe=>j(()=>Z(Pe)),Pe=>j(()=>Oe(Pe))))):"function"==typeof N&&re?function(){return setTimeout(()=>{re&&"scheduled"===re.state&&re.invoke()},10),N.apply(this,arguments)}:j(()=>N)}},3673:(Dt,Le,M)=>{M.d(Le,{$:()=>zt,A:()=>$,B:()=>ke,G:()=>ue,H:()=>wt,J:()=>Ps,L:()=>We,M:()=>Ns,N:()=>E_,P:()=>Hs,Q:()=>Hd,R:()=>M_,T:()=>tu,U:()=>Aa,V:()=>zl,W:()=>Fr,X:()=>e0,Y:()=>gs,Z:()=>Gd,_:()=>Cp,a:()=>tc,a0:()=>Ip,a1:()=>I_,a2:()=>Ge,a3:()=>Ra,a4:()=>Ii,a5:()=>Wo,a6:()=>cu,a7:()=>uu,a8:()=>D_,a9:()=>t0,aA:()=>qa,aB:()=>Tr,aC:()=>ra,aD:()=>P_,aE:()=>vt,aI:()=>Rn,aL:()=>$l,aa:()=>Wd,ab:()=>Ls,ac:()=>du,af:()=>Zd,ag:()=>fu,ah:()=>T_,ak:()=>Xn,al:()=>nr,an:()=>Mp,ao:()=>l0,ap:()=>ve,aq:()=>Ae,ar:()=>kt,as:()=>gt,at:()=>tt,au:()=>Ya,av:()=>Wa,aw:()=>He,ax:()=>ie,ay:()=>ae,az:()=>at,b:()=>gu,c:()=>jp,d:()=>un,e:()=>wu,f:()=>ts,g:()=>zp,h:()=>oh,i:()=>Vp,j:()=>ah,k:()=>ws,l:()=>wi,m:()=>$_,n:()=>Qp,o:()=>fe,r:()=>ii,s:()=>h0,u:()=>Up,v:()=>Sp});var c=M(5861),F=M(2090),R=M(9681),oe=M(655),be=M(1877),Ce=M(4859);const fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ke=function X(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ne=function je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Je=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pe=new be.Yd("@firebase/auth");function ut(b,...m){pe.logLevel<=be.in.ERROR&&pe.error(`Auth (${R.SDK_VERSION}): ${b}`,...m)}function tt(b,...m){throw nt(b,...m)}function He(b,...m){return nt(b,...m)}function Be(b,m,_){const E=Object.assign(Object.assign({},Ne()),{[m]:_});return new F.LL("auth","Firebase",E).create(m,{appName:b.name})}function Se(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&tt(b,"argument-error"),Be(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nt(b,...m){if("string"!=typeof b){const _=m[0],E=[...m.slice(1)];return E[0]&&(E[0].appName=b.name),b._errorFactory.create(_,...E)}return Je.create(b,...m)}function ie(b,m,..._){if(!b)throw nt(m,..._)}function me(b){const m="INTERNAL ASSERTION FAILED: "+b;throw ut(m),new Error(m)}function Ae(b,m){b||me(m)}const Y=new Map;function ae(b){Ae(b instanceof Function,"Expected a class definition");let m=Y.get(b);return m?(Ae(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,Y.set(b,m),m)}function he(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function $e(){return"http:"===Tt()||"https:"===Tt()}function Tt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Xe{constructor(m,_){this.shortDelay=m,this.longDelay=_,Ae(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function Yt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($e()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nt(b,m){Ae(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class Un{static initialize(m,_,E){this.fetchImpl=m,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},tn=new Xe(3e4,6e4);function Ht(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function Vt(b,m,_,E){return sn.apply(this,arguments)}function sn(){return(sn=(0,c.Z)(function*(b,m,_,E,S={}){return Tn(b,S,(0,c.Z)(function*(){let k={},le={};E&&("GET"===m?le=E:k={body:JSON.stringify(E)});const Ve=(0,F.xO)(Object.assign({key:b.config.apiKey},le)).slice(1),_t=yield b._getAdditionalHeaders();return _t["Content-Type"]="application/json",b.languageCode&&(_t["X-Firebase-Locale"]=b.languageCode),Un.fetch()(Kn(b,b.config.apiHost,_,Ve),Object.assign({method:m,headers:_t,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function Tn(b,m,_){return di.apply(this,arguments)}function di(){return(di=(0,c.Z)(function*(b,m,_){b._canInitEmulator=!1;const E=Object.assign(Object.assign({},yn),m);try{const S=new ei(b),k=yield Promise.race([_(),S.promise]);S.clearNetworkTimeout();const le=yield k.json();if("needConfirmation"in le)throw In(b,"account-exists-with-different-credential",le);if(k.ok&&!("errorMessage"in le))return le;{const Ve=k.ok?le.errorMessage:le.error.message,[_t,Rt]=Ve.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===_t)throw In(b,"credential-already-in-use",le);if("EMAIL_EXISTS"===_t)throw In(b,"email-already-in-use",le);if("USER_DISABLED"===_t)throw In(b,"user-disabled",le);const an=E[_t]||_t.toLowerCase().replace(/[_\s]+/g,"-");if(Rt)throw Be(b,an,Rt);tt(b,an)}}catch(S){if(S instanceof F.ZR)throw S;tt(b,"network-request-failed")}})).apply(this,arguments)}function gn(b,m,_,E){return kn.apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(b,m,_,E,S={}){const k=yield Vt(b,m,_,E,S);return"mfaPendingCredential"in k&&tt(b,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function Kn(b,m,_,E){const S=`${m}${_}?${E}`;return b.config.emulator?Nt(b.config,S):`${b.config.apiScheme}://${S}`}class ei{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(He(this.auth,"network-request-failed")),tn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function In(b,m,_){const E={appName:b.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const S=He(b,m,E);return S.customData._tokenResponse=_,S}function bt(){return(bt=(0,c.Z)(function*(b,m){return Vt(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Yn(b,m){return hn.apply(this,arguments)}function hn(){return(hn=(0,c.Z)(function*(b,m){return Vt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Xt(b,m){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(b,m){return Vt(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Qn(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Nn(){return(Nn=(0,c.Z)(function*(b,m=!1){const _=(0,F.m9)(b),E=yield _.getIdToken(m),S=$t(E);ie(S&&S.exp&&S.auth_time&&S.iat,_.auth,"internal-error");const k="object"==typeof S.firebase?S.firebase:void 0,le=k?.sign_in_provider;return{claims:S,token:E,authTime:Qn(Fi(S.auth_time)),issuedAtTime:Qn(Fi(S.iat)),expirationTime:Qn(Fi(S.exp)),signInProvider:le||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function Fi(b){return 1e3*Number(b)}function $t(b){var m;const[_,E,S]=b.split(".");if(void 0===_||void 0===E||void 0===S)return ut("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,F.tV)(E);return k?JSON.parse(k):(ut("Failed to decode base64 JWT payload"),null)}catch(k){return ut("Caught error parsing JWT payload as JSON",null===(m=k)||void 0===m?void 0:m.toString()),null}}function pt(b,m){return ti.apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(E){throw E instanceof F.ZR&&Ln(E)&&b.auth.currentUser===b&&(yield b.auth.signOut()),E}})).apply(this,arguments)}function Ln({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Ot{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const S=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(m);this.timerId=setTimeout((0,c.Z)(function*(){yield _.iteration()}),E)}iteration(){var m=this;return(0,c.Z)(function*(){var _;try{yield m.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(_=E)||void 0===_?void 0:_.code)&&m.schedule(!0))}m.schedule()})()}}class xn{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qn(this.lastLoginAt),this.creationTime=Qn(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _n(b){return ln.apply(this,arguments)}function ln(){return(ln=(0,c.Z)(function*(b){var m;const _=b.auth,E=yield b.getIdToken(),S=yield pt(b,Xt(_,{idToken:E}));ie(S?.users.length,_,"internal-error");const k=S.users[0];b._notifyReloadListener(k);const le=null!==(m=k.providerUserInfo)&&void 0!==m&&m.length?Q(k.providerUserInfo):[],Ve=U(b.providerData,le),an=!!b.isAnonymous&&!(b.email&&k.passwordHash||Ve?.length),An={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:Ve,metadata:new xn(k.createdAt,k.lastLoginAt),isAnonymous:an};Object.assign(b,An)})).apply(this,arguments)}function W(){return(W=(0,c.Z)(function*(b){const m=(0,F.m9)(b);yield _n(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function U(b,m){return[...b.filter(E=>!m.some(S=>S.providerId===E.providerId)),...m]}function Q(b){return b.map(m=>{var{providerId:_}=m,E=(0,oe._T)(m,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function L(){return(L=(0,c.Z)(function*(b,m){const _=yield Tn(b,{},(0,c.Z)(function*(){const E=(0,F.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:S,apiKey:k}=b.config,le=Kn(b,S,"/v1/token",`key=${k}`),Ve=yield b._getAdditionalHeaders();return Ve["Content-Type"]="application/x-www-form-urlencoded",Un.fetch()(le,{method:"POST",headers:Ve,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class B{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){ie(m.idToken,"internal-error"),ie(typeof m.idToken<"u","internal-error"),ie(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function et(b){const m=$t(b);return ie(m,"internal-error"),ie(typeof m.exp<"u","internal-error"),ie(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var E=this;return(0,c.Z)(function*(){return ie(!E.accessToken||E.refreshToken,m,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(m,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var E=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:k,expiresIn:le}=yield function ee(b,m){return L.apply(this,arguments)}(m,_);E.updateTokensAndExpiration(S,k,Number(le))})()}updateTokensAndExpiration(m,_,E){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(m,_){const{refreshToken:E,accessToken:S,expirationTime:k}=_,le=new B;return E&&(ie("string"==typeof E,"internal-error",{appName:m}),le.refreshToken=E),S&&(ie("string"==typeof S,"internal-error",{appName:m}),le.accessToken=S),k&&(ie("number"==typeof k,"internal-error",{appName:m}),le.expirationTime=k),le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new B,this.toJSON())}_performRefresh(){return me("not implemented")}}function K(b,m){ie("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class ge{constructor(m){var{uid:_,auth:E,stsTokenManager:S}=m,k=(0,oe._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ot(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new xn(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,c.Z)(function*(){const E=yield pt(_,_.stsTokenManager.getToken(_.auth,m));return ie(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(m){return function Dn(b){return Nn.apply(this,arguments)}(this,m)}reload(){return function on(b){return W.apply(this,arguments)}(this)}_assign(m){this!==m&&(ie(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new ge(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var E=this;return(0,c.Z)(function*(){let S=!1;m.idToken&&m.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(m),S=!0),_&&(yield _n(E)),yield E.auth._persistUserIfCurrent(E),S&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var m=this;return(0,c.Z)(function*(){const _=yield m.getIdToken();return yield pt(m,function Zn(b,m){return bt.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var E,S,k,le,Ve,_t,Rt,an;const An=null!==(E=_.displayName)&&void 0!==E?E:void 0,Ur=null!==(S=_.email)&&void 0!==S?S:void 0,Li=null!==(k=_.phoneNumber)&&void 0!==k?k:void 0,Hr=null!==(le=_.photoURL)&&void 0!==le?le:void 0,pc=null!==(Ve=_.tenantId)&&void 0!==Ve?Ve:void 0,Mu=null!==(_t=_._redirectEventId)&&void 0!==_t?_t:void 0,dh=null!==(Rt=_.createdAt)&&void 0!==Rt?Rt:void 0,hh=null!==(an=_.lastLoginAt)&&void 0!==an?an:void 0,{uid:fh,emailVerified:g0,isAnonymous:ph,providerData:xu,stsTokenManager:mh}=_;ie(fh&&mh,m,"internal-error");const Xp=B.fromJSON(this.name,mh);ie("string"==typeof fh,m,"internal-error"),K(An,m.name),K(Ur,m.name),ie("boolean"==typeof g0,m,"internal-error"),ie("boolean"==typeof ph,m,"internal-error"),K(Li,m.name),K(Hr,m.name),K(pc,m.name),K(Mu,m.name),K(dh,m.name),K(hh,m.name);const Jp=new ge({uid:fh,auth:m,email:Ur,emailVerified:g0,displayName:An,isAnonymous:ph,photoURL:Hr,phoneNumber:Li,tenantId:pc,stsTokenManager:Xp,createdAt:dh,lastLoginAt:hh});return xu&&Array.isArray(xu)&&(Jp.providerData=xu.map(em=>Object.assign({},em))),Mu&&(Jp._redirectEventId=Mu),Jp}static _fromIdTokenResponse(m,_,E=!1){return(0,c.Z)(function*(){const S=new B;S.updateFromServerResponse(_);const k=new ge({uid:_.localId,auth:m,stsTokenManager:S,isAnonymous:E});return yield _n(k),k})()}}const We=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(_,E){var S=this;return(0,c.Z)(function*(){S.storage[_]=E})()}_get(_){var E=this;return(0,c.Z)(function*(){const S=E.storage[_];return void 0===S?null:S})()}_remove(_){var E=this;return(0,c.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return b.type="NONE",b})();function at(b,m,_){return`firebase:${b}:${m}:${_}`}class st{constructor(m,_,E){this.persistence=m,this.auth=_,this.userKey=E;const{config:S,name:k}=this.auth;this.fullUserKey=at(this.userKey,S.apiKey,k),this.fullPersistenceKey=at("persistence",S.apiKey,k),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,c.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?ge._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,c.Z)(function*(){if(_.persistence===m)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,E="authUser"){return(0,c.Z)(function*(){if(!_.length)return new st(ae(We),m,E);const S=(yield Promise.all(_.map(function(){var Rt=(0,c.Z)(function*(an){if(yield an._isAvailable())return an});return function(an){return Rt.apply(this,arguments)}}()))).filter(Rt=>Rt);let k=S[0]||ae(We);const le=at(E,m.config.apiKey,m.name);let Ve=null;for(const Rt of _)try{const an=yield Rt._get(le);if(an){const An=ge._fromJSON(m,an);Rt!==k&&(Ve=An),k=Rt;break}}catch{}const _t=S.filter(Rt=>Rt._shouldAllowMigration);return k._shouldAllowMigration&&_t.length?(k=_t[0],Ve&&(yield k._set(le,Ve.toJSON())),yield Promise.all(_.map(function(){var Rt=(0,c.Z)(function*(an){if(an!==k)try{yield an._remove(le)}catch{}});return function(an){return Rt.apply(this,arguments)}}())),new st(k,m,E)):new st(k,m,E)})()}}function J(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Ye(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(V(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Re(m))return"Blackberry";if(dt(m))return"Webos";if(j(m))return"Safari";if((m.includes("chrome/")||_e(m))&&!m.includes("edge/"))return"Chrome";if(gt(m))return"Android";{const E=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function V(b=(0,F.z$)()){return/firefox\//i.test(b)}function j(b=(0,F.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function _e(b=(0,F.z$)()){return/crios\//i.test(b)}function Ye(b=(0,F.z$)()){return/iemobile/i.test(b)}function gt(b=(0,F.z$)()){return/android/i.test(b)}function Re(b=(0,F.z$)()){return/blackberry/i.test(b)}function dt(b=(0,F.z$)()){return/webos/i.test(b)}function kt(b=(0,F.z$)()){return/iphone|ipad|ipod/i.test(b)}function ve(b=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function ze(b=(0,F.z$)()){return kt(b)||gt(b)||dt(b)||Re(b)||/windows phone/i.test(b)||Ye(b)}function Z(b,m=[]){let _;switch(b){case"Browser":_=J((0,F.z$)());break;case"Worker":_=`${J((0,F.z$)())}-${b}`;break;default:_=b}const E=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${R.SDK_VERSION}/${E}`}class Oe{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const E=k=>new Promise((le,Ve)=>{try{le(m(k))}catch(_t){Ve(_t)}});E.onAbort=_,this.queue.push(E);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,c.Z)(function*(){var E;if(_.auth.currentUser===m)return;const S=[];try{for(const k of _.queue)yield k(m),k.onAbort&&S.push(k.onAbort)}catch(k){S.reverse();for(const le of S)try{le()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=k)||void 0===E?void 0:E.message})}})()}}class Pe{constructor(m,_,E){this.app=m,this.heartbeatServiceProvider=_,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G(this),this.idTokenSubscription=new G(this),this.beforeStateQueue=new Oe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Je,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(m,_){var E=this;return _&&(this._popupRedirectResolver=ae(_)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,k;if(!E._deleted&&(E.persistenceManager=yield st.create(E,m),!E._deleted)){if(null!==(S=E._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(k=E.currentUser)||void 0===k?void 0:k.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,c.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,c.Z)(function*(){var E;const S=yield _.assertedPersistence.getCurrentUser();let k=S,le=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Ve=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,_t=k?._redirectEventId,Rt=yield _.tryRedirectSignIn(m);(!Ve||Ve===_t)&&Rt?.user&&(k=Rt.user,le=!0)}if(!k)return _.directlySetCurrentUser(null);if(!k._redirectEventId){if(le)try{yield _.beforeStateQueue.runMiddleware(k)}catch(Ve){k=S,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Ve))}return k?_.reloadAndSetCurrentUserOrClear(k):_.directlySetCurrentUser(null)}return ie(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===k._redirectEventId?_.directlySetCurrentUser(k):_.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(m){var _=this;return(0,c.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,c.Z)(function*(){var E;try{yield _n(m)}catch(S){if("auth/network-request-failed"!==(null===(E=S)||void 0===E?void 0:E.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Lt(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,c.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,c.Z)(function*(){const E=m?(0,F.m9)(m):null;return E&&ie(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(m,_=!1){var E=this;return(0,c.Z)(function*(){if(!E._deleted)return m&&ie(E.tenantId===m.tenantId,E,"tenant-id-mismatch"),_||(yield E.beforeStateQueue.runMiddleware(m)),E.queue((0,c.Z)(function*(){yield E.directlySetCurrentUser(m),E.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,c.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,c.Z)(function*(){yield _.assertedPersistence.setPersistence(ae(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new F.LL("auth","Firebase",m())}onAuthStateChanged(m,_,E){return this.registerStateListener(this.authStateSubscription,m,_,E)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,E){return this.registerStateListener(this.idTokenSubscription,m,_,E)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var E=this;return(0,c.Z)(function*(){const S=yield E.getOrInitRedirectPersistenceManager(_);return null===m?S.removeCurrentUser():S.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,c.Z)(function*(){if(!_.redirectPersistenceManager){const E=m&&ae(m)||_._popupRedirectResolver;ie(E,_,"argument-error"),_.redirectPersistenceManager=yield st.create(_,[ae(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,c.Z)(function*(){var E,S;return _._isInitialized&&(yield _.queue((0,c.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===m?_._currentUser:(null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,c.Z)(function*(){if(m===_.currentUser)return _.queue((0,c.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,E,S){if(this._deleted)return()=>{};const k="function"==typeof _?_:_.next.bind(_),le=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(le,this,"internal-error"),le.then(()=>k(this.currentUser)),"function"==typeof _?m.addObserver(_,E,S):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,c.Z)(function*(){_.currentUser&&_.currentUser!==m&&(_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh()),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Z(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,c.Z)(function*(){var _;const E={"X-Client-Version":m.clientVersion};m.app.options.appId&&(E["X-Firebase-gmpid"]=m.app.options.appId);const S=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return S&&(E["X-Firebase-Client"]=S),E})()}}function vt(b){return(0,F.m9)(b)}class G{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,F.ne)(_=>this.observer=_)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ue(b,m,_){const E=vt(b);ie(E._canInitEmulator,E,"emulator-config-failed"),ie(/^https?:\/\//.test(m),E,"invalid-emulator-scheme");const S=!!_?.disableWarnings,k=Me(m),{host:le,port:Ve}=function it(b){const m=Me(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(E);if(S){const k=S[1];return{host:k,port:fn(E.substr(k.length+1))}}{const[k,le]=E.split(":");return{host:k,port:fn(le)}}}(m);E.config.emulator={url:`${k}//${le}${null===Ve?"":`:${Ve}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:le,port:Ve,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Jt(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Me(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function fn(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class wt{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return me("not implemented")}_getIdTokenResponse(m){return me("not implemented")}_linkToIdToken(m,_){return me("not implemented")}_getReauthenticationResolver(m){return me("not implemented")}}function Sn(b,m){return ur.apply(this,arguments)}function ur(){return(ur=(0,c.Z)(function*(b,m){return Vt(b,"POST","/v1/accounts:resetPassword",Ht(b,m))})).apply(this,arguments)}function nn(b,m){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,c.Z)(function*(b,m){return Vt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function fs(b,m){return wr.apply(this,arguments)}function wr(){return(wr=(0,c.Z)(function*(b,m){return Vt(b,"POST","/v1/accounts:update",Ht(b,m))})).apply(this,arguments)}function $o(){return($o=(0,c.Z)(function*(b,m){return gn(b,"POST","/v1/accounts:signInWithPassword",Ht(b,m))})).apply(this,arguments)}function lo(b,m){return ps.apply(this,arguments)}function ps(){return(ps=(0,c.Z)(function*(b,m){return Vt(b,"POST","/v1/accounts:sendOobCode",Ht(b,m))})).apply(this,arguments)}function Ji(b,m){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,c.Z)(function*(b,m){return lo(b,m)})).apply(this,arguments)}function dr(b,m){return hr.apply(this,arguments)}function hr(){return(hr=(0,c.Z)(function*(b,m){return lo(b,m)})).apply(this,arguments)}function Ul(b,m){return Os.apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(b,m){return lo(b,m)})).apply(this,arguments)}function Hl(b,m){return Er.apply(this,arguments)}function Er(){return(Er=(0,c.Z)(function*(b,m){return lo(b,m)})).apply(this,arguments)}function Vd(){return(Vd=(0,c.Z)(function*(b,m){return gn(b,"POST","/v1/accounts:signInWithEmailLink",Ht(b,m))})).apply(this,arguments)}function Bd(){return(Bd=(0,c.Z)(function*(b,m){return gn(b,"POST","/v1/accounts:signInWithEmailLink",Ht(b,m))})).apply(this,arguments)}class Jc extends wt{constructor(m,_,E,S=null){super("password",E),this._email=m,this._password=_,this._tenantId=S}static _fromEmailAndPassword(m,_){return new Jc(m,_,"password")}static _fromEmailAndCode(m,_,E=null){return new Jc(m,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,c.Z)(function*(){switch(_.signInMethod){case"password":return function jo(b,m){return $o.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Ww(b,m){return Vd.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:tt(m,"internal-error")}})()}_linkToIdToken(m,_){var E=this;return(0,c.Z)(function*(){switch(E.signInMethod){case"password":return nn(m,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function w_(b,m){return Bd.apply(this,arguments)}(m,{idToken:_,email:E._email,oobCode:E._password});default:tt(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function zo(b,m){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,c.Z)(function*(b,m){return gn(b,"POST","/v1/accounts:signInWithIdp",Ht(b,m))})).apply(this,arguments)}class Ps extends wt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new Ps(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):tt("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:S}=_,k=(0,oe._T)(_,["providerId","signInMethod"]);if(!E||!S)return null;const le=new Ps(E,S);return le.idToken=k.idToken||void 0,le.accessToken=k.accessToken||void 0,le.secret=k.secret,le.nonce=k.nonce,le.pendingToken=k.pendingToken||null,le}_getIdTokenResponse(m){return zo(m,this.buildRequest())}_linkToIdToken(m,_){const E=this.buildRequest();return E.idToken=_,zo(m,E)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,zo(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,F.xO)(_)}return m}}function Zw(b,m){return _p.apply(this,arguments)}function _p(){return(_p=(0,c.Z)(function*(b,m){return Vt(b,"POST","/v1/accounts:sendVerificationCode",Ht(b,m))})).apply(this,arguments)}function yp(){return(yp=(0,c.Z)(function*(b,m){return gn(b,"POST","/v1/accounts:signInWithPhoneNumber",Ht(b,m))})).apply(this,arguments)}function vp(){return(vp=(0,c.Z)(function*(b,m){const _=yield gn(b,"POST","/v1/accounts:signInWithPhoneNumber",Ht(b,m));if(_.temporaryProof)throw In(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Qw={USER_NOT_FOUND:"user-not-found"};function bp(){return(bp=(0,c.Z)(function*(b,m){return gn(b,"POST","/v1/accounts:signInWithPhoneNumber",Ht(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Qw)})).apply(this,arguments)}class co extends wt{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new co({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new co({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function jl(b,m){return yp.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function Yw(b,m){return vp.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Xw(b,m){return bp.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:E,verificationCode:S}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:E,code:S}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:E,phoneNumber:S,temporaryProof:k}=m;return E||_||S||k?new co({verificationId:_,verificationCode:E,phoneNumber:S,temporaryProof:k}):null}}class eu{constructor(m){var _,E,S,k,le,Ve;const _t=(0,F.zd)((0,F.pd)(m)),Rt=null!==(_=_t.apiKey)&&void 0!==_?_:null,an=null!==(E=_t.oobCode)&&void 0!==E?E:null,An=function Ud(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=_t.mode)&&void 0!==S?S:null);ie(Rt&&an&&An,"argument-error"),this.apiKey=Rt,this.operation=An,this.code=an,this.continueUrl=null!==(k=_t.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(le=_t.languageCode)&&void 0!==le?le:null,this.tenantId=null!==(Ve=_t.tenantId)&&void 0!==Ve?Ve:null}static parseLink(m){const _=function Jw(b){const m=(0,F.zd)((0,F.pd)(b)).link,_=m?(0,F.zd)((0,F.pd)(m)).deep_link_id:null,E=(0,F.zd)((0,F.pd)(b)).deep_link_id;return(E?(0,F.zd)((0,F.pd)(E)).link:null)||E||_||m||b}(m);try{return new eu(_)}catch{return null}}}let Ns=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,E){return Jc._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const S=eu.parseLink(E);return ie(S,"argument-error"),Jc._fromEmailAndCode(_,S.code,S.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class ms{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class uo extends ms{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Aa extends uo{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return ie("providerId"in _&&"signInMethod"in _,"argument-error"),Ps._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return ie(m.idToken||m.accessToken,"argument-error"),Ps._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Aa.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Aa.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:S,pendingToken:k,nonce:le,providerId:Ve}=m;if(!E&&!S&&!_&&!k||!Ve)return null;try{return new Aa(Ve)._credential({idToken:_,accessToken:E,nonce:le,pendingToken:k})}catch{return null}}}let E_=(()=>{class b extends uo{constructor(){super("facebook.com")}static credential(_){return Ps._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Hd=(()=>{class b extends uo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return Ps._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:S}=_;if(!E&&!S)return null;try{return b.credential(E,S)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),tu=(()=>{class b extends uo{constructor(){super("github.com")}static credential(_){return Ps._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class $l extends wt{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return zo(m,this.buildRequest())}_linkToIdToken(m,_){const E=this.buildRequest();return E.idToken=_,zo(m,E)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,zo(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:S,pendingToken:k}=_;return E&&S&&k&&E===S?new $l(E,k):null}static _create(m,_){return new $l(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zl extends ms{constructor(m){ie(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return zl.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return zl.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=$l.fromJSON(m);return ie(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:E}=m;if(!_||!E)return null;try{return $l._create(E,_)}catch{return null}}}let Fr=(()=>{class b extends uo{constructor(){super("twitter.com")}static credential(_,E){return Ps._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:S}=_;if(!E||!S)return null;try{return b.credential(E,S)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function nu(b,m){return jd.apply(this,arguments)}function jd(){return(jd=(0,c.Z)(function*(b,m){return gn(b,"POST","/v1/accounts:signUp",Ht(b,m))})).apply(this,arguments)}class $i{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,E,S=!1){return(0,c.Z)(function*(){const k=yield ge._fromIdTokenResponse(m,E,S),le=$d(E);return new $i({user:k,providerId:le,_tokenResponse:E,operationType:_})})()}static _forOperation(m,_,E){return(0,c.Z)(function*(){yield m._updateTokensIfNecessary(E,!0);const S=$d(E);return new $i({user:m,providerId:S,_tokenResponse:E,operationType:_})})()}}function $d(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function e0(b){return iu.apply(this,arguments)}function iu(){return(iu=(0,c.Z)(function*(b){var m;const _=vt(b);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new $i({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield nu(_,{returnSecureToken:!0}),S=yield $i._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class zd extends F.ZR{constructor(m,_,E,S){var k;super(_.code,_.message),this.operationType=E,this.user=S,Object.setPrototypeOf(this,zd.prototype),this.customData={appName:m.name,tenantId:null!==(k=m.tenantId)&&void 0!==k?k:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(m,_,E,S){return new zd(m,_,E,S)}}function ru(b,m,_,E){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?zd._fromErrorAndOperation(b,k,m,E):k})}function C_(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Xn(b,m){return su.apply(this,arguments)}function su(){return(su=(0,c.Z)(function*(b,m){const _=(0,F.m9)(b);yield ou(!0,_,m);const{providerUserInfo:E}=yield Yn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),S=C_(E||[]);return _.providerData=_.providerData.filter(k=>S.has(k.providerId)),S.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Ep(b,m){return ni.apply(this,arguments)}function ni(){return(ni=(0,c.Z)(function*(b,m,_=!1){const E=yield pt(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return $i._forOperation(b,"link",E)})).apply(this,arguments)}function ou(b,m,_){return au.apply(this,arguments)}function au(){return(au=(0,c.Z)(function*(b,m,_){yield _n(m);const S=!1===b?"provider-already-linked":"no-such-provider";ie(C_(m.providerData).has(_)===b,m.auth,S)})).apply(this,arguments)}function Fs(b,m){return fr.apply(this,arguments)}function fr(){return(fr=(0,c.Z)(function*(b,m,_=!1){var E;const{auth:S}=b,k="reauthenticate";try{const le=yield pt(b,ru(S,k,m,b),_);ie(le.idToken,S,"internal-error");const Ve=$t(le.idToken);ie(Ve,S,"internal-error");const{sub:_t}=Ve;return ie(b.uid===_t,S,"user-mismatch"),$i._forOperation(b,k,le)}catch(le){throw"auth/user-not-found"===(null===(E=le)||void 0===E?void 0:E.code)&&tt(S,"user-mismatch"),le}})).apply(this,arguments)}function Gl(b,m){return ql.apply(this,arguments)}function ql(){return(ql=(0,c.Z)(function*(b,m,_=!1){const E="signIn",S=yield ru(b,E,m),k=yield $i._fromIdTokenResponse(b,E,S);return _||(yield b._updateCurrentUser(k.user)),k})).apply(this,arguments)}function gs(b,m){return er.apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(b,m){return Gl(vt(b),m)})).apply(this,arguments)}function Gd(b,m){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,c.Z)(function*(b,m){const _=(0,F.m9)(b);return yield ou(!1,_,m.providerId),Ep(_,m)})).apply(this,arguments)}function Cp(b,m){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,c.Z)(function*(b,m){return Fs((0,F.m9)(b),m)})).apply(this,arguments)}function Kl(b,m){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,c.Z)(function*(b,m){return gn(b,"POST","/v1/accounts:signInWithCustomToken",Ht(b,m))})).apply(this,arguments)}function zt(b,m){return ho.apply(this,arguments)}function ho(){return(ho=(0,c.Z)(function*(b,m){const _=vt(b),E=yield Kl(_,{token:m,returnSecureToken:!0}),S=yield $i._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class lu{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?Zl._fromServerResponse(m,_):tt(m,"internal-error")}}class Zl extends lu{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new Zl(_)}}function xa(b,m,_){var E;ie((null===(E=_.url)||void 0===E?void 0:E.length)>0,b,"invalid-continue-uri"),ie(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ie(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(ie(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function Ip(b,m,_){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,c.Z)(function*(b,m,_){const E=(0,F.m9)(b),S={requestType:"PASSWORD_RESET",email:m};_&&xa(E,S,_),yield dr(E,S)})).apply(this,arguments)}function I_(b,m,_){return qd.apply(this,arguments)}function qd(){return(qd=(0,c.Z)(function*(b,m,_){yield Sn((0,F.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Ge(b,m){return pn.apply(this,arguments)}function pn(){return(pn=(0,c.Z)(function*(b,m){yield fs((0,F.m9)(b),{oobCode:m})})).apply(this,arguments)}function Ra(b,m){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,c.Z)(function*(b,m){const _=(0,F.m9)(b),E=yield Sn(_,{oobCode:m}),S=E.requestType;switch(ie(S,_,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(E.mfaInfo,_,"internal-error");default:ie(E.email,_,"internal-error")}let k=null;return E.mfaInfo&&(k=lu._fromServerResponse(vt(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:k},operation:S}})).apply(this,arguments)}function Ii(b,m){return qo.apply(this,arguments)}function qo(){return(qo=(0,c.Z)(function*(b,m){const{data:_}=yield Ra((0,F.m9)(b),m);return _.email})).apply(this,arguments)}function Wo(b,m,_){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,c.Z)(function*(b,m,_){const E=vt(b),S=yield nu(E,{returnSecureToken:!0,email:m,password:_}),k=yield $i._fromIdTokenResponse(E,"signIn",S);return yield E._updateCurrentUser(k.user),k})).apply(this,arguments)}function cu(b,m,_){return gs((0,F.m9)(b),Ns.credential(m,_))}function uu(b,m,_){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,c.Z)(function*(b,m,_){const E=(0,F.m9)(b),S={requestType:"EMAIL_SIGNIN",email:m};ie(_.handleCodeInApp,E,"argument-error"),_&&xa(E,S,_),yield Ul(E,S)})).apply(this,arguments)}function D_(b,m){return"EMAIL_SIGNIN"===eu.parseLink(m)?.operation}function t0(b,m,_){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,c.Z)(function*(b,m,_){const E=(0,F.m9)(b),S=Ns.credentialWithLink(m,_||he());return ie(S._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),gs(E,S)})).apply(this,arguments)}function tr(b,m){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,c.Z)(function*(b,m){return Vt(b,"POST","/v1/accounts:createAuthUri",Ht(b,m))})).apply(this,arguments)}function Wd(b,m){return fo.apply(this,arguments)}function fo(){return(fo=(0,c.Z)(function*(b,m){const E={identifier:m,continueUri:$e()?he():"http://localhost"},{signinMethods:S}=yield tr((0,F.m9)(b),E);return S||[]})).apply(this,arguments)}function Ls(b,m){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,c.Z)(function*(b,m){const _=(0,F.m9)(b),S={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&xa(_.auth,S,m);const{email:k}=yield Ji(_.auth,S);k!==b.email&&(yield b.reload())})).apply(this,arguments)}function du(b,m,_){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,c.Z)(function*(b,m,_){const E=(0,F.m9)(b),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&xa(E.auth,k,_);const{email:le}=yield Hl(E.auth,k);le!==b.email&&(yield b.reload())})).apply(this,arguments)}function n0(b,m){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,c.Z)(function*(b,m){return Vt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Zd(b,m){return hu.apply(this,arguments)}function hu(){return(hu=(0,c.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const E=(0,F.m9)(b),k={idToken:yield E.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},le=yield pt(E,n0(E.auth,k));E.displayName=le.displayName||null,E.photoURL=le.photoUrl||null;const Ve=E.providerData.find(({providerId:_t})=>"password"===_t);Ve&&(Ve.displayName=E.displayName,Ve.photoURL=E.photoURL),yield E._updateTokensIfNecessary(le)})).apply(this,arguments)}function fu(b,m){return pu((0,F.m9)(b),m,null)}function T_(b,m){return pu((0,F.m9)(b),null,m)}function pu(b,m,_){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,c.Z)(function*(b,m,_){const{auth:E}=b,k={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(k.email=m),_&&(k.password=_);const le=yield pt(b,nn(E,k));yield b._updateTokensIfNecessary(le,!0)})).apply(this,arguments)}class po{constructor(m,_,E={}){this.isNewUser=m,this.providerId=_,this.profile=E}}class Qd extends po{constructor(m,_,E,S){super(m,_,E),this.username=S}}class Jl extends po{constructor(m,_){super(m,"facebook.com",_)}}class mu extends Qd{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class S_ extends po{constructor(m,_){super(m,"google.com",_)}}class ka extends Qd{constructor(m,_,E){super(m,"twitter.com",_,E)}}function nr(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Yd(b){var m,_;if(!b)return null;const{providerId:E}=b,S=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},k=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!E&&b?.idToken){const le=null===(_=null===(m=$t(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(le)return new po(k,"anonymous"!==le&&"custom"!==le?le:null)}if(!E)return null;switch(E){case"facebook.com":return new Jl(k,S);case"github.com":return new mu(k,S);case"google.com":return new S_(k,S);case"twitter.com":return new ka(k,S,b.screenName||null);case"custom":case"anonymous":return new po(k,null);default:return new po(k,E,S)}}(_)}function Sp(b,m,_,E){return(0,F.m9)(b).onAuthStateChanged(m,_,E)}class Vs{constructor(m,_){this.type=m,this.credential=_}static _fromIdtoken(m){return new Vs("enroll",m)}static _fromMfaPendingCredential(m){return new Vs("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,E;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Vs._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(E=m.multiFactorSession)&&void 0!==E&&E.idToken)return Vs._fromIdtoken(m.multiFactorSession.idToken)}return null}}class ec{constructor(m,_,E){this.session=m,this.hints=_,this.signInResolver=E}static _fromError(m,_){const E=vt(m),S=_.customData._serverResponse,k=(S.mfaInfo||[]).map(Ve=>lu._fromServerResponse(E,Ve));ie(S.mfaPendingCredential,E,"internal-error");const le=Vs._fromMfaPendingCredential(S.mfaPendingCredential);return new ec(le,k,function(){var Ve=(0,c.Z)(function*(_t){const Rt=yield _t._process(E,le);delete S.mfaInfo,delete S.mfaPendingCredential;const an=Object.assign(Object.assign({},S),{idToken:Rt.idToken,refreshToken:Rt.refreshToken});switch(_.operationType){case"signIn":const An=yield $i._fromIdTokenResponse(E,_.operationType,an);return yield E._updateCurrentUser(An.user),An;case"reauthenticate":return ie(_.user,E,"internal-error"),$i._forOperation(_.user,_.operationType,an);default:tt(E,"internal-error")}});return function(_t){return Ve.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,c.Z)(function*(){return _.signInResolver(m)})()}}function Mp(b,m){var _;const E=(0,F.m9)(b),S=m;return ie(m.customData.operationType,E,"argument-error"),ie(null===(_=S.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),ec._fromError(E,S)}function xp(b,m){return Vt(b,"POST","/v2/accounts/mfaEnrollment:start",Ht(b,m))}class Oa{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>lu._fromServerResponse(m.auth,E)))})}static _fromUser(m){return new Oa(m)}getSession(){var m=this;return(0,c.Z)(function*(){return Vs._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,_){var E=this;return(0,c.Z)(function*(){const S=m,k=yield E.getSession(),le=yield pt(E.user,S._process(E.user.auth,k,_));return yield E.user._updateTokensIfNecessary(le),E.user.reload()})()}unenroll(m){var _=this;return(0,c.Z)(function*(){var E;const S="string"==typeof m?m:m.uid,k=yield _.user.getIdToken(),le=yield pt(_.user,function mo(b,m){return Vt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Ht(b,m))}(_.user.auth,{idToken:k,mfaEnrollmentId:S}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Ve})=>Ve!==S),yield _.user._updateTokensIfNecessary(le);try{yield _.user.reload()}catch(Ve){if("auth/user-token-expired"!==(null===(E=Ve)||void 0===E?void 0:E.code))throw Ve}})()}}const Rp=new WeakMap;function l0(b){const m=(0,F.m9)(b);return Rp.has(m)||Rp.set(m,Oa._fromUser(m)),Rp.get(m)}const go="__sak";class Xd{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(go,"1"),this.storage.removeItem(go),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const gu=(()=>{class b extends Xd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function c0(){const b=(0,F.z$)();return j(b)||kt(b)}()&&function N(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ze(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const S=this.storage.getItem(E),k=this.localCache[E];S!==k&&_(E,k,S)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((Ve,_t,Rt)=>{this.notifyListeners(Ve,Rt)});const S=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ve=this.storage.getItem(S);if(_.newValue!==Ve)null!==_.newValue?this.storage.setItem(S,_.newValue):this.storage.removeItem(S);else if(this.localCache[S]===_.newValue&&!E)return}const k=()=>{const Ve=this.storage.getItem(S);!E&&this.localCache[S]===Ve||this.notifyListeners(S,Ve)},le=this.storage.getItem(S);!function re(){return(0,F.w1)()&&10===document.documentMode}()||le===_.newValue||_.newValue===_.oldValue?k():setTimeout(k,10)}notifyListeners(_,E){this.localCache[_]=E;const S=this.listeners[_];if(S)for(const k of Array.from(S))k(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var S=()=>super._set,k=this;return(0,c.Z)(function*(){yield S().call(k,_,E),k.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,S=this;return(0,c.Z)(function*(){const k=yield E().call(S,_);return S.localCache[_]=JSON.stringify(k),k})()}_remove(_){var E=()=>super._remove,S=this;return(0,c.Z)(function*(){yield E().call(S,_),delete S.localCache[_]})()}}return b.type="LOCAL",b})(),tc=(()=>{class b extends Xd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return b.type="SESSION",b})();let A_=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(k=>k.isListeningto(_));if(E)return E;const S=new b(_);return this.receivers.push(S),S}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,c.Z)(function*(){const S=_,{eventId:k,eventType:le,data:Ve}=S.data,_t=E.handlersMap[le];if(!_t?.size)return;S.ports[0].postMessage({status:"ack",eventId:k,eventType:le});const Rt=Array.from(_t).map(function(){var An=(0,c.Z)(function*(Ur){return Ur(S.origin,Ve)});return function(Ur){return An.apply(this,arguments)}}()),an=yield function nc(b){return Promise.all(b.map(function(){var m=(0,c.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return m.apply(this,arguments)}}()))}(Rt);S.ports[0].postMessage({status:"done",eventId:k,eventType:le,response:an})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Rn(b="",m=10){let _="";for(let E=0;E<m;E++)_+=Math.floor(10*Math.random());return b+_}class Xr{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,E=50){var S=this;return(0,c.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let le,Ve;return new Promise((_t,Rt)=>{const an=Rn("",20);k.port1.start();const An=setTimeout(()=>{Rt(new Error("unsupported_event"))},E);Ve={messageChannel:k,onMessage(Ur){const Li=Ur;if(Li.data.eventId===an)switch(Li.data.status){case"ack":clearTimeout(An),le=setTimeout(()=>{Rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(le),_t(Li.data.response);break;default:clearTimeout(An),clearTimeout(le),Rt(new Error("invalid_response"))}}},S.handlers.add(Ve),k.port1.addEventListener("message",Ve.onMessage),S.target.postMessage({eventType:m,eventId:an,data:_},[k.port2])}).finally(()=>{Ve&&S.removeMessageHandler(Ve)})})()}}function ot(){return window}function zi(){return typeof ot().WorkerGlobalScope<"u"&&"function"==typeof ot().importScripts}function kp(){return(kp=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Np="firebaseLocalStorageDb",_u="firebaseLocalStorage",_s="fbase_key";class It{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Pa(b,m){return b.transaction([_u],m?"readwrite":"readonly").objectStore(_u)}function _o(){const b=indexedDB.open(Np,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const E=b.result;try{E.createObjectStore(_u,{keyPath:_s})}catch(S){_(S)}}),b.addEventListener("success",(0,c.Z)(function*(){const E=b.result;E.objectStoreNames.contains(_u)?m(E):(E.close(),yield function yu(){const b=indexedDB.deleteDatabase(Np);return new It(b).toPromise()}(),m(yield _o()))}))})}function eh(b,m,_){return jn.apply(this,arguments)}function jn(){return(jn=(0,c.Z)(function*(b,m,_){const E=Pa(b,!0).put({[_s]:m,value:_});return new It(E).toPromise()})).apply(this,arguments)}function Na(){return(Na=(0,c.Z)(function*(b,m){const _=Pa(b,!1).get(m),E=yield new It(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function th(b,m){const _=Pa(b,!0).delete(m);return new It(_).toPromise()}const Vp=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,c.Z)(function*(){return _.db||(_.db=yield _o()),_.db})()}_withRetries(_){var E=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const k=yield E._openDb();return yield _(k)}catch(k){if(S++>3)throw k;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,c.Z)(function*(){return zi()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,c.Z)(function*(){_.receiver=A_._getInstance(function Pp(){return zi()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,c.Z)(function*(S,k){return{keyProcessed:(yield _._poll()).includes(k.key)}});return function(S,k){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,c.Z)(function*(S,k){return["keyChanged"]});return function(S,k){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,c.Z)(function*(){var E,S;if(_.activeServiceWorker=yield function fi(){return kp.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Xr(_.activeServiceWorker);const k=yield _.sender._send("ping",{},800);!k||(null===(E=k[0])||void 0===E?void 0:E.fulfilled)&&(null===(S=k[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,c.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Op(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const _=yield _o();return yield eh(_,go,"1"),yield th(_,go),!0}catch{}return!1})()}_withPendingWrite(_){var E=this;return(0,c.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(k=>eh(k,_,E)),S.localCache[_]=E,S.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,c.Z)(function*(){const S=yield E._withRetries(k=>function Fp(b,m){return Na.apply(this,arguments)}(k,_));return E.localCache[_]=S,S})()}_remove(_){var E=this;return(0,c.Z)(function*(){return E._withPendingWrite((0,c.Z)(function*(){return yield E._withRetries(S=>th(S,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,c.Z)(function*(){const E=yield _._withRetries(le=>{const Ve=Pa(le,!1).getAll();return new It(Ve).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const S=[],k=new Set;for(const{fbase_key:le,value:Ve}of E)k.add(le),JSON.stringify(_.localCache[le])!==JSON.stringify(Ve)&&(_.notifyListeners(le,Ve),S.push(le));for(const le of Object.keys(_.localCache))_.localCache[le]&&!k.has(le)&&(_.notifyListeners(le,null),S.push(le));return S})()}notifyListeners(_,E){this.localCache[_]=E;const S=this.listeners[_];if(S)for(const k of Array.from(S))k(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Fa(b,m){return Vt(b,"POST","/v2/accounts/mfaSignIn:start",Ht(b,m))}function Jo(){return(Jo=(0,c.Z)(function*(b){return(yield Vt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ic(b){return new Promise((m,_)=>{const E=document.createElement("script");E.setAttribute("src",b),E.onload=m,E.onerror=S=>{const k=He("internal-error");k.customData=S,_(k)},E.type="text/javascript",E.charset="UTF-8",function Us(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(E)})}function yo(b){return`__${b}${Math.floor(1e6*Math.random())}`}const es=1e12;class ea{constructor(m){this.auth=m,this.counter=es,this._widgets=new Map}render(m,_){const E=this.counter;return this._widgets.set(E,new $n(m,this.auth.name,_||{})),this.counter++,E}reset(m){var _;const E=m||es;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(m){var _;return(null===(_=this._widgets.get(m||es))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,c.Z)(function*(){var E;return null===(E=_._widgets.get(m||es))||void 0===E||E.execute(),""})()}}class $n{constructor(m,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof m?document.getElementById(m):m;ie(S,"argument-error",{appName:_}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Di(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<b;E++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const mi=yo("rcb"),Ba=new Xe(3e4,6e4);class Vn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ot().grecaptcha}load(m,_=""){return ie(function mn(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(ot().grecaptcha):new Promise((E,S)=>{const k=ot().setTimeout(()=>{S(He(m,"network-request-failed"))},Ba.get());ot()[mi]=()=>{ot().clearTimeout(k),delete ot()[mi];const Ve=ot().grecaptcha;if(!Ve)return void S(He(m,"internal-error"));const _t=Ve.render;Ve.render=(Rt,an)=>{const An=_t(Rt,an);return this.counter++,An},this.hostLanguage=_,E(Ve)},ic(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:mi,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(k),S(He(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!ot().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ti{load(m){return(0,c.Z)(function*(){return new ea(m)})()}clearedOneInstance(){}}const Ua="recaptcha",Bp={theme:"light",type:"image"};class M_{constructor(m,_=Object.assign({},Bp),E){this.parameters=_,this.type=Ua,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vt(E),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof m?document.getElementById(m):m;ie(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ti:new Vn,this.validateStartingState()}verify(){var m=this;return(0,c.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),E=m.getAssertedRecaptcha();return E.getResponse(_)||new Promise(k=>{const le=Ve=>{!Ve||(m.tokenChangeListeners.delete(le),k(Ve))};m.tokenChangeListeners.add(le),m.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof m)m(_);else if("string"==typeof m){const E=ot()[m];"function"==typeof E&&E(_)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,c.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,c.Z)(function*(){ie($e()&&!zi(),m.auth,"internal-error"),yield function d0(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function Va(b){return Jo.apply(this,arguments)}(m.auth);ie(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class bu{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=co._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function h0(b,m,_){return pr.apply(this,arguments)}function pr(){return(pr=(0,c.Z)(function*(b,m,_){const E=vt(b),S=yield ys(E,m,(0,F.m9)(_));return new bu(S,k=>gs(E,k))})).apply(this,arguments)}function wi(b,m,_){return rc.apply(this,arguments)}function rc(){return(rc=(0,c.Z)(function*(b,m,_){const E=(0,F.m9)(b);yield ou(!1,E,"phone");const S=yield ys(E.auth,m,(0,F.m9)(_));return new bu(S,k=>Gd(E,k))})).apply(this,arguments)}function ii(b,m,_){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,c.Z)(function*(b,m,_){const E=(0,F.m9)(b),S=yield ys(E.auth,m,(0,F.m9)(_));return new bu(S,k=>Cp(E,k))})).apply(this,arguments)}function ys(b,m,_){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,c.Z)(function*(b,m,_){var E;const S=yield _.verify();try{let k;if(ie("string"==typeof S,b,"argument-error"),ie(_.type===Ua,b,"argument-error"),k="string"==typeof m?{phoneNumber:m}:m,"session"in k){const le=k.session;if("phoneNumber"in k)return ie("enroll"===le.type,b,"internal-error"),(yield xp(b,{idToken:le.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ie("signin"===le.type,b,"internal-error");const Ve=(null===(E=k.multiFactorHint)||void 0===E?void 0:E.uid)||k.multiFactorUid;return ie(Ve,b,"missing-multi-factor-info"),(yield Fa(b,{mfaPendingCredential:le.credential,mfaEnrollmentId:Ve,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:le}=yield Zw(b,{phoneNumber:k.phoneNumber,recaptchaToken:S});return le}}finally{_._reset()}})).apply(this,arguments)}function Up(b,m){return ir.apply(this,arguments)}function ir(){return(ir=(0,c.Z)(function*(b,m){yield Ep((0,F.m9)(b),m)})).apply(this,arguments)}let Hs=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=vt(_)}verifyPhoneNumber(_,E){return ys(this.auth,_,(0,F.m9)(E))}static credential(_,E){return co._fromVerification(_,E)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:S}=_;return E&&S?co._fromTokenResponse(E,S):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function vo(b,m){return m?ae(m):(ie(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class ja extends wt{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return zo(m,this._buildIdpRequest())}_linkToIdToken(m,_){return zo(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return zo(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function sc(b){return Gl(b.auth,new ja(b),b.bypassAuthState)}function Hp(b){const{auth:m,user:_}=b;return ie(_,m,"internal-error"),Fs(_,new ja(b),b.bypassAuthState)}function x_(b){return nh.apply(this,arguments)}function nh(){return(nh=(0,c.Z)(function*(b){const{auth:m,user:_}=b;return ie(_,m,"internal-error"),Ep(_,new ja(b),b.bypassAuthState)})).apply(this,arguments)}class R_{constructor(m,_,E,S,k=!1){this.auth=m,this.resolver=E,this.user=S,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,c.Z)(function*(E,S){m.pendingPromise={resolve:E,reject:S};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(k){m.reject(k)}});return function(E,S){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,c.Z)(function*(){const{urlResponse:E,sessionId:S,postBody:k,tenantId:le,error:Ve,type:_t}=m;if(Ve)return void _.reject(Ve);const Rt={auth:_.auth,requestUri:E,sessionId:S,tenantId:le||void 0,postBody:k||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(_t)(Rt))}catch(an){_.reject(an)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return sc;case"linkViaPopup":case"linkViaRedirect":return x_;case"reauthViaPopup":case"reauthViaRedirect":return Hp;default:tt(this.auth,"internal-error")}}resolve(m){Ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const f0=new Xe(2e3,1e4);function jp(b,m,_){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,c.Z)(function*(b,m,_){const E=vt(b);Se(b,m,ms);const S=vo(E,_);return new bo(E,"signInViaPopup",m,S).executeNotNull()})).apply(this,arguments)}function wu(b,m,_){return ta.apply(this,arguments)}function ta(){return(ta=(0,c.Z)(function*(b,m,_){const E=(0,F.m9)(b);Se(E.auth,m,ms);const S=vo(E.auth,_);return new bo(E.auth,"reauthViaPopup",m,S,E).executeNotNull()})).apply(this,arguments)}function un(b,m,_){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,c.Z)(function*(b,m,_){const E=(0,F.m9)(b);Se(E.auth,m,ms);const S=vo(E.auth,_);return new bo(E.auth,"linkViaPopup",m,S,E).executeNotNull()})).apply(this,arguments)}let bo=(()=>{class b extends R_{constructor(_,E,S,k,le){super(_,E,k,le),this.provider=S,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,c.Z)(function*(){const E=yield _.execute();return ie(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,c.Z)(function*(){Ae(1===_.filter.length,"Popup operations only handle one event");const E=Rn();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(S=>{_.reject(S)}),_.resolver._isIframeWebStorageSupported(_.auth,S=>{S||_.reject(He(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(He(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,S;this.pollId=null!==(S=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(He(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,f0.get())};_()}}return b.currentPopupAction=null,b})();const na=new Map;class k_ extends R_{constructor(m,_,E=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,c.Z)(function*(){let E=na.get(_.auth._key());if(!E){try{const k=(yield function O_(b,m){return ih.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;E=()=>Promise.resolve(k)}catch(S){E=()=>Promise.reject(S)}na.set(_.auth._key(),E)}return _.bypassAuthState||na.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,E=this;return(0,c.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(E,m);if("unknown"!==m.type){if(m.eventId){const S=yield E.auth._redirectUserForId(m.eventId);if(S)return E.user=S,_().call(E,m);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function ih(){return(ih=(0,c.Z)(function*(b,m){const _=ai(m),E=rh(b);if(!(yield E._isAvailable()))return!1;const S="true"===(yield E._get(_));return yield E._remove(_),S})).apply(this,arguments)}function mr(b,m){return ia.apply(this,arguments)}function ia(){return(ia=(0,c.Z)(function*(b,m){return rh(b)._set(ai(m),"true")})).apply(this,arguments)}function P_(){na.clear()}function ra(b,m){na.set(b._key(),m)}function rh(b){return ae(b._redirectPersistence)}function ai(b){return at("pendingRedirect",b.config.apiKey,b.name)}function ts(b,m,_){return function N_(b,m,_){return sh.apply(this,arguments)}(b,m,_)}function sh(){return(sh=(0,c.Z)(function*(b,m,_){const E=vt(b);Se(b,m,ms);const S=vo(E,_);return yield mr(S,E),S._openRedirect(E,m,"signInViaRedirect")})).apply(this,arguments)}function oh(b,m,_){return function $a(b,m,_){return za.apply(this,arguments)}(b,m,_)}function za(){return(za=(0,c.Z)(function*(b,m,_){const E=(0,F.m9)(b);Se(E.auth,m,ms);const S=vo(E.auth,_);yield mr(S,E.auth);const k=yield Ga(E);return S._openRedirect(E.auth,m,"reauthViaRedirect",k)})).apply(this,arguments)}function zp(b,m,_){return function li(b,m,_){return oc.apply(this,arguments)}(b,m,_)}function oc(){return(oc=(0,c.Z)(function*(b,m,_){const E=(0,F.m9)(b);Se(E.auth,m,ms);const S=vo(E.auth,_);yield ou(!1,E,m.providerId),yield mr(S,E.auth);const k=yield Ga(E);return S._openRedirect(E.auth,m,"linkViaRedirect",k)})).apply(this,arguments)}function ah(b,m){return wo.apply(this,arguments)}function wo(){return(wo=(0,c.Z)(function*(b,m){return yield vt(b)._initializationPromise,Tr(b,m,!1)})).apply(this,arguments)}function Tr(b,m){return dn.apply(this,arguments)}function dn(){return(dn=(0,c.Z)(function*(b,m,_=!1){const E=vt(b),S=vo(E,m),le=yield new k_(E,S,_).execute();return le&&!_&&(delete le.user._redirectEventId,yield E._persistUserIfCurrent(le.user),yield E._setRedirectUser(null,m)),le})).apply(this,arguments)}function Ga(b){return lh.apply(this,arguments)}function lh(){return(lh=(0,c.Z)(function*(b){const m=Rn(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class qa{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(m,E)&&(_=!0,this.sendToConsumer(m,E),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function F_(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sa(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var E;if(m.error&&!sa(m)){const S=(null===(E=m.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(He(this.auth,S))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const E=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&E}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cu(m))}saveEventToCache(m){this.cachedEventUids.add(Cu(m)),this.lastProcessedEventTime=Date.now()}}function Cu(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function sa({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===m?.code}function Wa(b){return ns.apply(this,arguments)}function ns(){return(ns=(0,c.Z)(function*(b,m={}){return Vt(b,"GET","/v1/projects",m)})).apply(this,arguments)}const ac=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lc=/^https?/;function cc(){return(cc=(0,c.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield Wa(b);for(const _ of m)try{if(js(_))return}catch{}tt(b,"unauthorized-domain")})).apply(this,arguments)}function js(b){const m=he(),{protocol:_,hostname:E}=new URL(m);if(b.startsWith("chrome-extension://")){const le=new URL(b);return""===le.hostname&&""===E?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&le.hostname===E}if(!lc.test(_))return!1;if(ac.test(b))return E===b;const S=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(E)}const Ka=new Xe(3e4,6e4);function ch(){const b=ot().___jsl;if(b?.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let uc=null;function V_(b){return uc=uc||function p0(b){return new Promise((m,_)=>{var E,S,k;function le(){ch(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{ch(),_(He(b,"network-request-failed"))},timeout:Ka.get()})}if(null!==(S=null===(E=ot().gapi)||void 0===E?void 0:E.iframes)&&void 0!==S&&S.Iframe)m(gapi.iframes.getContext());else{if(null===(k=ot().gapi)||void 0===k||!k.load){const Ve=yo("iframefcb");return ot()[Ve]=()=>{gapi.load?le():_(He(b,"network-request-failed"))},ic(`https://apis.google.com/js/api.js?onload=${Ve}`).catch(_t=>_(_t))}le()}}).catch(m=>{throw uc=null,m})}(b),uc}const uh=new Xe(5e3,15e3),H_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Iu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gp(b){const m=b.config;ie(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?Nt(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,E={apiKey:m.apiKey,appName:b.name,v:R.SDK_VERSION},S=Iu.get(b.config.apiHost);S&&(E.eid=S);const k=b._getFrameworks();return k.length&&(E.fw=k.join(",")),`${_}?${(0,F.xO)(E).slice(1)}`}function Za(){return Za=(0,c.Z)(function*(b){const m=yield V_(b),_=ot().gapi;return ie(_,b,"internal-error"),m.open({where:document.body,url:Gp(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:H_,dontclear:!0},E=>new Promise(function(){var S=(0,c.Z)(function*(k,le){yield E.restyle({setHideOnLeave:!1});const Ve=He(b,"network-request-failed"),_t=ot().setTimeout(()=>{le(Ve)},uh.get());function Rt(){ot().clearTimeout(_t),k(E)}E.ping(Rt).then(Rt,()=>{le(Ve)})});return function(k,le){return S.apply(this,arguments)}}()))}),Za.apply(this,arguments)}const Wp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oa{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ya(b,m,_,E,S,k){ie(b.config.authDomain,b,"auth-domain-config-required"),ie(b.config.apiKey,b,"invalid-api-key");const le={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:E,v:R.SDK_VERSION,eventId:S};if(m instanceof ms){m.setDefaultLanguage(b.languageCode),le.providerId=m.providerId||"",(0,F.xb)(m.getCustomParameters())||(le.customParameters=JSON.stringify(m.getCustomParameters()));for(const[_t,Rt]of Object.entries(k||{}))le[_t]=Rt}if(m instanceof uo){const _t=m.getScopes().filter(Rt=>""!==Rt);_t.length>0&&(le.scopes=_t.join(","))}b.tenantId&&(le.tid=b.tenantId);const Ve=le;for(const _t of Object.keys(Ve))void 0===Ve[_t]&&delete Ve[_t];return`${function Tu({config:b}){return b.emulator?Nt(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,F.xO)(Ve).slice(1)}`}const fc="webStorageSupport",ws=class Su{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tc,this._completeRedirectFn=Tr,this._overrideRedirectResult=ra}_openPopup(m,_,E,S){var k=this;return(0,c.Z)(function*(){var le;Ae(null===(le=k.eventManagers[m._key()])||void 0===le?void 0:le.manager,"_initialize() not called before _openPopup()");const Ve=Ya(m,_,E,he(),S);return function Eo(b,m,_,E=500,S=600){const k=Math.max((window.screen.availHeight-S)/2,0).toString(),le=Math.max((window.screen.availWidth-E)/2,0).toString();let Ve="";const _t=Object.assign(Object.assign({},Wp),{width:E.toString(),height:S.toString(),top:k,left:le}),Rt=(0,F.z$)().toLowerCase();_&&(Ve=_e(Rt)?"_blank":_),V(Rt)&&(m=m||"http://localhost",_t.scrollbars="yes");const an=Object.entries(_t).reduce((Ur,[Li,Hr])=>`${Ur}${Li}=${Hr},`,"");if(function te(b=(0,F.z$)()){var m;return kt(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Rt)&&"_self"!==Ve)return function Kp(b,m){const _=document.createElement("a");_.href=b,_.target=m;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(m||"",Ve),new oa(null);const An=window.open(m||"",Ve,an);ie(An,b,"popup-blocked");try{An.focus()}catch{}return new oa(An)}(m,Ve,Rn())})()}_openRedirect(m,_,E,S){var k=this;return(0,c.Z)(function*(){return yield k._originValidation(m),function Bt(b){ot().location.href=b}(Ya(m,_,E,he(),S)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:S,promise:k}=this.eventManagers[_];return S?Promise.resolve(S):(Ae(k,"If manager is not set, promise should be"),k)}const E=this.initAndGetManager(m);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(m){var _=this;return(0,c.Z)(function*(){const E=yield function qp(b){return Za.apply(this,arguments)}(m),S=new qa(m);return E.register("authEvent",k=>(ie(k?.authEvent,m,"invalid-auth-event"),{status:S.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:S},_.iframes[m._key()]=E,S})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(fc,{type:fc},S=>{var k;const le=null===(k=S?.[0])||void 0===k?void 0:k[fc];void 0!==le&&_(!!le),tt(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function L_(b){return cc.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return ze()||j()||kt()}};class la extends class j_{constructor(m){this.factorId=m}_process(m,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,E);case"signin":return this._finalizeSignIn(m,_.credential);default:return me("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new la(m)}_finalizeEnroll(m,_,E){return function a0(b,m){return Vt(b,"POST","/v2/accounts/mfaEnrollment:finalize",Ht(b,m))}(m,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function La(b,m){return Vt(b,"POST","/v2/accounts/mfaSignIn:finalize",Ht(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $_=(()=>{class b{constructor(){}static assertion(_){return la._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Zp="@firebase/auth";class Br{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,c.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(E=>{var S;m((null===(S=E)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Qp(b=(0,R.getApp)()){const m=(0,R._getProvider)(b,"auth");return m.isInitialized()?m.getImmediate():function de(b,m){const _=(0,R._getProvider)(b,"auth");if(_.isInitialized()){const S=_.getImmediate(),k=_.getOptions();if((0,F.vZ)(k,m??{}))return S;tt(S,"already-initialized")}return _.initialize({options:m})}(b,{popupRedirectResolver:ws,persistence:[Vp,gu,tc]})}!function Au(b){(0,R._registerComponent)(new Ce.wA("auth",(m,{options:_})=>{const E=m.getProvider("app").getImmediate(),S=m.getProvider("heartbeat"),{apiKey:k,authDomain:le}=E.options;return((Ve,_t)=>{ie(k&&!k.includes(":"),"invalid-api-key",{appName:Ve.name}),ie(!le?.includes(":"),"argument-error",{appName:Ve.name});const Rt={apiKey:k,authDomain:le,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Z(b)},an=new Pe(Ve,_t,Rt);return function Ee(b,m){const _=m?.persistence||[],E=(Array.isArray(_)?_:[_]).map(ae);m?.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(E,m?.popupRedirectResolver)}(an,_),an})(E,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,E)=>{m.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new Ce.wA("auth-internal",m=>{const _=vt(m.getProvider("auth").getImmediate());return new Br(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(Zp,"0.20.4",function Es(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,R.registerVersion)(Zp,"0.20.4","esm2017")}("Browser")},2090:(Dt,Le,M)=>{M.d(Le,{$s:()=>xn,BH:()=>je,G6:()=>ie,L:()=>fe,LL:()=>he,Mn:()=>Se,Sg:()=>ke,UG:()=>Ie,US:()=>Ce,ZB:()=>$,ZR:()=>Ee,b$:()=>tt,d:()=>He,eu:()=>Ae,hl:()=>me,jU:()=>pe,m9:()=>on,ne:()=>Zn,pd:()=>ei,r3:()=>Ht,ru:()=>ut,tV:()=>we,uI:()=>Je,vZ:()=>di,w1:()=>Be,xO:()=>kn,xb:()=>sn,z$:()=>Ne,zI:()=>Y,zd:()=>Kn});const oe=function(W){const U=[];let Q=0;for(let ee=0;ee<W.length;ee++){let L=W.charCodeAt(ee);L<128?U[Q++]=L:L<2048?(U[Q++]=L>>6|192,U[Q++]=63&L|128):55296==(64512&L)&&ee+1<W.length&&56320==(64512&W.charCodeAt(ee+1))?(L=65536+((1023&L)<<10)+(1023&W.charCodeAt(++ee)),U[Q++]=L>>18|240,U[Q++]=L>>12&63|128,U[Q++]=L>>6&63|128,U[Q++]=63&L|128):(U[Q++]=L>>12|224,U[Q++]=L>>6&63|128,U[Q++]=63&L|128)}return U},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,U){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,ee=[];for(let L=0;L<W.length;L+=3){const B=W[L],K=L+1<W.length,ge=K?W[L+1]:0,Ue=L+2<W.length,We=Ue?W[L+2]:0;let J=(15&ge)<<2|We>>6,V=63&We;Ue||(V=64,K||(J=64)),ee.push(Q[B>>2],Q[(3&B)<<4|ge>>4],Q[J],Q[V])}return ee.join("")},encodeString(W,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(W):this.encodeByteArray(oe(W),U)},decodeString(W,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(W):function(W){const U=[];let Q=0,ee=0;for(;Q<W.length;){const L=W[Q++];if(L<128)U[ee++]=String.fromCharCode(L);else if(L>191&&L<224){const B=W[Q++];U[ee++]=String.fromCharCode((31&L)<<6|63&B)}else if(L>239&&L<365){const Ue=((7&L)<<18|(63&W[Q++])<<12|(63&W[Q++])<<6|63&W[Q++])-65536;U[ee++]=String.fromCharCode(55296+(Ue>>10)),U[ee++]=String.fromCharCode(56320+(1023&Ue))}else{const B=W[Q++],K=W[Q++];U[ee++]=String.fromCharCode((15&L)<<12|(63&B)<<6|63&K)}}return U.join("")}(this.decodeStringToByteArray(W,U))},decodeStringToByteArray(W,U){this.init_();const Q=U?this.charToByteMapWebSafe_:this.charToByteMap_,ee=[];for(let L=0;L<W.length;){const B=Q[W.charAt(L++)],ge=L<W.length?Q[W.charAt(L)]:0;++L;const We=L<W.length?Q[W.charAt(L)]:64;++L;const st=L<W.length?Q[W.charAt(L)]:64;if(++L,null==B||null==ge||null==We||null==st)throw Error();ee.push(B<<2|ge>>4),64!==We&&(ee.push(ge<<4&240|We>>2),64!==st&&ee.push(We<<6&192|st))}return ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},fe=function(W){return function(W){const U=oe(W);return Ce.encodeByteArray(U,!0)}(W).replace(/\./g,"")},we=function(W){try{return Ce.decodeString(W,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function $(W,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return U}for(const Q in U)!U.hasOwnProperty(Q)||!X(Q)||(W[Q]=$(W[Q],U[Q]));return W}function X(W){return"__proto__"!==W}class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,Q)=>{this.resolve=U,this.reject=Q})}wrapCallback(U){return(Q,ee)=>{Q?this.reject(Q):this.resolve(ee),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(Q):U(Q,ee))}}}function ke(W,U){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ee=U||"demo-project",L=W.iat||0,B=W.sub||W.user_id;if(!B)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const K=Object.assign({iss:`https://securetoken.google.com/${ee}`,aud:ee,iat:L,exp:L+3600,auth_time:L,sub:B,user_id:B,firebase:{sign_in_provider:"custom",identities:{}}},W);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(K)),""].join(".")}function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Je(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function Ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pe(){return"object"==typeof self&&self.self===self}function ut(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function tt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function He(){return Ne().indexOf("Electron/")>=0}function Be(){const W=Ne();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Se(){return Ne().indexOf("MSAppHost/")>=0}function ie(){return!Ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function me(){return"object"==typeof indexedDB}function Ae(){return new Promise((W,U)=>{try{let Q=!0;const ee="validate-browser-context-for-indexeddb-analytics-module",L=self.indexedDB.open(ee);L.onsuccess=()=>{L.result.close(),Q||self.indexedDB.deleteDatabase(ee),W(!0)},L.onupgradeneeded=()=>{Q=!1},L.onerror=()=>{var B;U((null===(B=L.error)||void 0===B?void 0:B.message)||"")}}catch(Q){U(Q)}})}function Y(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ee extends Error{constructor(U,Q,ee){super(Q),this.code=U,this.customData=ee,this.name="FirebaseError",Object.setPrototypeOf(this,Ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,he.prototype.create)}}class he{constructor(U,Q,ee){this.service=U,this.serviceName=Q,this.errors=ee}create(U,...Q){const ee=Q[0]||{},L=`${this.service}/${U}`,B=this.errors[U],K=B?function $e(W,U){return W.replace(Tt,(Q,ee)=>{const L=U[ee];return null!=L?String(L):`<${ee}?>`})}(B,ee):"Error";return new Ee(L,`${this.serviceName}: ${K} (${L}).`,ee)}}const Tt=/\{\$([^}]+)}/g;function Ht(W,U){return Object.prototype.hasOwnProperty.call(W,U)}function sn(W){for(const U in W)if(Object.prototype.hasOwnProperty.call(W,U))return!1;return!0}function di(W,U){if(W===U)return!0;const Q=Object.keys(W),ee=Object.keys(U);for(const L of Q){if(!ee.includes(L))return!1;const B=W[L],K=U[L];if(gn(B)&&gn(K)){if(!di(B,K))return!1}else if(B!==K)return!1}for(const L of ee)if(!Q.includes(L))return!1;return!0}function gn(W){return null!==W&&"object"==typeof W}function kn(W){const U=[];for(const[Q,ee]of Object.entries(W))Array.isArray(ee)?ee.forEach(L=>{U.push(encodeURIComponent(Q)+"="+encodeURIComponent(L))}):U.push(encodeURIComponent(Q)+"="+encodeURIComponent(ee));return U.length?"&"+U.join("&"):""}function Kn(W){const U={};return W.replace(/^\?/,"").split("&").forEach(ee=>{if(ee){const[L,B]=ee.split("=");U[decodeURIComponent(L)]=decodeURIComponent(B)}}),U}function ei(W){const U=W.indexOf("?");if(!U)return"";const Q=W.indexOf("#",U);return W.substring(U,Q>0?Q:void 0)}function Zn(W,U){const Q=new bt(W,U);return Q.subscribe.bind(Q)}class bt{constructor(U,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{U(this)}).catch(ee=>{this.error(ee)})}next(U){this.forEachObserver(Q=>{Q.next(U)})}error(U){this.forEachObserver(Q=>{Q.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,Q,ee){let L;if(void 0===U&&void 0===Q&&void 0===ee)throw new Error("Missing Observer.");L=function hn(W,U){if("object"!=typeof W||null===W)return!1;for(const Q of U)if(Q in W&&"function"==typeof W[Q])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:Q,complete:ee},void 0===L.next&&(L.next=Xt),void 0===L.error&&(L.error=Xt),void 0===L.complete&&(L.complete=Xt);const B=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?L.error(this.finalError):L.complete()}catch{}}),this.observers.push(L),B}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,U)}sendOne(U,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{Q(this.observers[U])}catch(ee){typeof console<"u"&&console.error&&console.error(ee)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xt(){}function xn(W,U=1e3,Q=2){const ee=U*Math.pow(Q,W),L=Math.round(.5*ee*(Math.random()-.5)*2);return Math.min(144e5,ee+L)}function on(W){return W&&W._delegate?W._delegate:W}},6873:(Dt,Le,M)=>{var c=M(4650);let F=null;function R(){return F}const se=new c.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function we(){return(0,c.LFG)($)}()},providedIn:"platform"}),n})();const z=new c.OlP("Location Initialized");let $=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const i=R().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=R().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){X()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){X()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function je(){return new $((0,c.LFG)(se))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ne(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Je(n){return n&&"?"!==n[0]?"?"+n:n}let Ie=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function pe(){const n=(0,c.LFG)(se).location;return new tt((0,c.LFG)(fe),n&&n.origin||"")}()},providedIn:"root"}),n})();const ut=new c.OlP("appBaseHref");let tt=(()=>{class n extends Ie{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ke(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Je(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const u=this.prepareExternalUrl(r+Je(a));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){const u=this.prepareExternalUrl(r+Je(a));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(ut,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),He=(()=>{class n extends Ie{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=ke(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let u=this.prepareExternalUrl(r+Je(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){let u=this.prepareExternalUrl(r+Je(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(ut,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Be=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Ne(ie(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Je(i))}normalize(t){return n.stripTrailingSlash(function nt(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ie(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Je(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Je(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Je,n.joinWithSlash=ke,n.stripTrailingSlash=Ne,n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Se(){return new Be((0,c.LFG)(Ie))}()},providedIn:"root"}),n})();function ie(n){return n.replace(/\/index.html$/,"")}let fs=(()=>{class n{constructor(t,i,r,a){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class $o{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lo=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new $o(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,u),ps(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{ps(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ps(n,e){n.context.$implicit=e.item}let Pr=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new dr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){hr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){hr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class dr{constructor(){this.$implicit=null,this.ngIf=null}}function hr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class Ul{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Os=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Hl=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ul(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Os,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})();class Kw{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class Ps{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const Zw=new Ps,_p=new Kw;let jl=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,c.QGY)(t))return Zw;if((0,c.F4k)(t))return _p;throw function Nr(n,e){return new c.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})(),Go=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const zl="browser";function $i(n){return n===zl}function $d(n){return"server"===n}let ru=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new C_((0,c.LFG)(se),window)}),n})();class C_{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function su(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Xn(this.window.history)||Xn(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Xn(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class au extends class ou extends class Ce{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function be(n){F||(F=n)}(new au)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function fr(){return Fs=Fs||document.querySelector("base"),Fs?Fs.getAttribute("href"):null}();return null==t?null:function ql(n){Gl=Gl||document.createElement("a"),Gl.setAttribute("href",n);const e=Gl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Fs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Yr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Gl,Fs=null;const gs=new c.OlP("TRANSITION_ID"),Gd=[{provide:c.ip1,useFactory:function er(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=R(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[gs,se,c.zs3],multi:!0}];let Cp=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Cr=new c.OlP("EventManagerPlugins");let Kl=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Cr),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Ma{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=R().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let zt=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ho=(()=>{class n extends zt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(lu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(lu))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function lu(n){R().remove(n)}const Zl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xa=/%COMP%/g;function Ra(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Ra(n,r,t):(r=r.replace(xa,n),t.push(r))}return t}function Ql(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let qo=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Wo(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Dp(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case c.ifc.ShadowDom:return new D_(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ra(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Kl),c.LFG(ho),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Wo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Zl[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(uu(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(uu(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=Zl[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Zl[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ql(i)):this.eventManager.addEventListener(e,t,Ql(i))}}function uu(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Dp extends Wo{constructor(e,t,i,r){super(e),this.component=i;const a=Ra(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function Ge(n){return"_ngcontent-%COMP%".replace(xa,n)}(r+"-"+i.id),this.hostAttr=function pn(n){return"_nghost-%COMP%".replace(xa,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class D_ extends Wo{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ra(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let t0=(()=>{class n extends Ma{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ko=["alt","control","meta","shift"],Qr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wd={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},fo={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ls=(()=>{class n extends Ma{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="";if(Ko.forEach(g=>{const v=i.indexOf(g);v>-1&&(i.splice(v,1),u+=g+".")}),u+=a,0!=i.length||0===a.length)return null;const f={};return f.domEventName=r,f.fullKey=u,f}static getEventFullKey(t){let i="",r=function Kd(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Wd.hasOwnProperty(e)&&(e=Wd[e]))}return Qr[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ko.forEach(a=>{a!=r&&fo[a](t)&&(i+=a+".")}),i+=r,i}static eventCallback(t,i,r){return a=>{n.getEventFullKey(a)===t&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const T_=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:zl},{provide:c.g9A,useValue:function Xl(){au.makeCurrent()},multi:!0},{provide:se,useFactory:function hu(){return(0,c.RDi)(document),document},deps:[]}]),pu=new c.OlP(""),Zo=[{provide:c.rWj,useClass:class Wl{addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const f=function(g){u=u||g,a--,0==a&&i(u)};r.forEach(function(g){g.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Yd=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Zd(){return new c.qLn},deps:[]},{provide:Cr,useClass:t0,multi:!0,deps:[se,c.R0b,c.Lbi]},{provide:Cr,useClass:Ls,multi:!0,deps:[se]},{provide:qo,useClass:qo,deps:[Kl,ho,c.AFp]},{provide:c.FYo,useExisting:qo},{provide:zt,useExisting:ho},{provide:ho,useClass:ho,deps:[se]},{provide:Kl,useClass:Kl,deps:[Cr,c.R0b]},{provide:class ni{},useClass:Cp,deps:[]},[]];let po=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:gs,useExisting:c.AFp},Gd]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pu,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Yd,...Zo],imports:[Go,c.hGG]}),n})(),Jl=(()=>{class n{constructor(t){this._doc=t,this._dom=R()}addTag(t,i=!1){return t?this._getOrCreateElement(t,i):null}addTags(t,i=!1){return t?t.reduce((r,a)=>(a&&r.push(this._getOrCreateElement(a,i)),r),[]):[]}getTag(t){return t&&this._doc.querySelector(`meta[${t}]`)||null}getTags(t){if(!t)return[];const i=this._doc.querySelectorAll(`meta[${t}]`);return i?[].slice.call(i):[]}updateTag(t,i){if(!t)return null;i=i||this._parseSelector(t);const r=this.getTag(i);return r?this._setMetaElementAttributes(t,r):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,i=!1){if(!i){const u=this._parseSelector(t),f=this.getTags(u).filter(g=>this._containsAttributes(t,g))[0];if(void 0!==f)return f}const r=this._dom.createElement("meta");return this._setMetaElementAttributes(t,r),this._doc.getElementsByTagName("head")[0].appendChild(r),r}_setMetaElementAttributes(t,i){return Object.keys(t).forEach(r=>i.setAttribute(this._getMetaKeyMap(r),t[r])),i}_parseSelector(t){const i=t.name?"name":"property";return`${i}="${t[i]}"`}_containsAttributes(t,i){return Object.keys(t).every(r=>i.getAttribute(this._getMetaKeyMap(r))===t[r])}_getMetaKeyMap(t){return mu[t]||t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Qd(){return new Jl((0,c.LFG)(se))}(),i},providedIn:"root"}),n})();const mu={httpEquiv:"http-equiv"};let ka=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function S_(){return new ka((0,c.LFG)(se))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Jd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):c.LFG(nc),i},providedIn:"root"}),n})(),nc=(()=>{class n extends Jd{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(i),(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function tc(n){return new nc(n.get(se))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var Rn=M(8996),Xr=M(3269);function ot(...n){const e=(0,Xr.yG)(n);return(0,Rn.D)(n,e)}var Bt=M(7579);class zi extends Bt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var fi=M(9751);const{isArray:kp}=Array,{getPrototypeOf:Op,prototype:Pp,keys:Np}=Object;function Jr(n){if(1===n.length){const e=n[0];if(kp(e))return{args:e,keys:null};if(function _u(n){return n&&"object"==typeof n&&Op(n)===Pp}(e)){const t=Np(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var _s=M(4671),It=M(4004);const{isArray:Pa}=Array;function _o(n){return(0,It.U)(e=>function yu(n,e){return Pa(e)?n(...e):n(e)}(n,e))}function eh(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var jn=M(5403),Fp=M(9672);function Na(...n){const e=(0,Xr.yG)(n),t=(0,Xr.jO)(n),{args:i,keys:r}=Jr(n);if(0===i.length)return(0,Rn.D)([],e);const a=new fi.y(function th(n,e,t=_s.y){return i=>{Lp(e,()=>{const{length:r}=n,a=new Array(r);let u=r,f=r;for(let g=0;g<r;g++)Lp(e,()=>{const v=(0,Rn.D)(n[g],e);let I=!1;v.subscribe((0,jn.x)(i,D=>{a[g]=D,I||(I=!0,f--),f||i.next(t(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>eh(r,u):_s.y));return t?a.pipe(_o(t)):a}function Lp(n,e,t){n?(0,Fp.f)(t,n,e):e()}var Ir=M(576);function Bs(n,e){const t=(0,Ir.m)(n)?n:()=>n,i=r=>r.error(t());return new fi.y(e?r=>e.schedule(i,0,r):i)}const Fa=(0,M(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var La=M(8189);function Jo(...n){return function Va(){return(0,La.J)(1)}()((0,Rn.D)(n,(0,Xr.yG)(n)))}var Us=M(8421);function ic(n){return new fi.y(e=>{(0,Us.Xf)(n()).subscribe(e)})}var yo=M(515),Vr=M(727),pi=M(4482);function es(){return(0,pi.e)((n,e)=>{let t=null;n._refCount++;const i=(0,jn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class ea extends fi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,pi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Vr.w0;const t=this.getSubject();e.add(this.source.subscribe((0,jn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Vr.w0.EMPTY)}return e}refCount(){return es()(this)}}function $n(n,e){return(0,pi.e)((t,i)=>{let r=null,a=0,u=!1;const f=()=>u&&!r&&i.complete();t.subscribe((0,jn.x)(i,g=>{r?.unsubscribe();let v=0;const I=a++;(0,Us.Xf)(n(g,I)).subscribe(r=(0,jn.x)(i,D=>i.next(e?e(g,D,I,v++):D),()=>{r=null,f()}))},()=>{u=!0,f()}))})}var Di=M(5698);function mi(...n){const e=(0,Xr.yG)(n);return(0,pi.e)((t,i)=>{(e?Jo(n,t,e):Jo(n,t)).subscribe(i)})}function Ba(n,e,t,i,r){return(a,u)=>{let f=t,g=e,v=0;a.subscribe((0,jn.x)(u,I=>{const D=v++;g=f?n(g,I,D):(f=!0,I),i&&u.next(g)},r&&(()=>{f&&u.next(g),u.complete()})))}}function vu(n,e){return(0,pi.e)(Ba(n,e,arguments.length>=2,!0))}function Vn(n,e){return(0,pi.e)((t,i)=>{let r=0;t.subscribe((0,jn.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}function mn(n){return(0,pi.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,jn.x)(t,void 0,void 0,u=>{a=(0,Us.Xf)(n(u,mn(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}var Ti=M(5577);function Ua(n,e){return(0,Ir.m)(e)?(0,Ti.z)(n,e,1):(0,Ti.z)(n,1)}function Bp(n){return n<=0?()=>yo.E:(0,pi.e)((e,t)=>{let i=[];e.subscribe((0,jn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function M_(n=d0){return(0,pi.e)((e,t)=>{let i=!1;e.subscribe((0,jn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function d0(){return new Fa}function bu(n){return(0,pi.e)((e,t)=>{let i=!1;e.subscribe((0,jn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function pr(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Vn((r,a)=>n(r,a,i)):_s.y,(0,Di.q)(1),t?bu(e):M_(()=>new Fa))}var wi=M(8505);function rc(n){return(0,It.U)(()=>n)}function ii(n){return(0,pi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class Dr{constructor(e,t){this.id=e,this.url=t}}class ys extends Dr{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ha extends Dr{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Up extends Dr{constructor(e,t,i){super(e,t),this.reason=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ir extends Dr{constructor(e,t,i){super(e,t),this.error=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Hs extends Dr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vo extends Dr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ja extends Dr{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sc extends Dr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hp extends Dr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x_{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nh{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class R_{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f0{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jp{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gi{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wu{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const un="primary";class Eu{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function bo(n){return new Eu(n)}const $p="ngNavigationCancelingError";function na(n){const e=Error("NavigationCancelingError: "+n);return e[$p]=!0,e}function O_(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],f=n[a];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function mr(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!ia(n[r],e[r]))return!1;return!0}function ia(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function P_(n){return Array.prototype.concat.apply([],n)}function ra(n){return n.length>0?n[n.length-1]:null}function ai(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ts(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Rn.D)(Promise.resolve(n)):ot(n)}const sh={exact:function zp(n,e,t){if(!vs(n.segments,e.segments)||!wo(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!zp(n.children[i],e.children[i],t))return!1;return!0},subset:oc},oh={exact:function za(n,e){return mr(n,e)},subset:function li(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ia(n[t],e[t]))},ignored:()=>!0};function $a(n,e,t){return sh[t.paths](n.root,e.root,t.matrixParams)&&oh[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function oc(n,e,t){return ah(n,e,e.segments,t)}function ah(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!vs(r,t)||e.hasChildren()||!wo(r,t,i))}if(n.segments.length===t.length){if(!vs(n.segments,t)||!wo(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!oc(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(vs(n.segments,r)&&wo(n.segments,r,i)&&n.children[un])&&ah(n.children[un],e,a,i)}}function wo(n,e,t){return e.every((i,r)=>oh[t](n[r].parameters,i.parameters))}class Tr{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bo(this.queryParams)),this._queryParamMap}toString(){return F_.serialize(this)}}class dn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ai(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wa(this)}}class Ga{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=bo(this.parameters)),this._parameterMap}toString(){return ch(this)}}function vs(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class Cu{}class sa{parse(e){const t=new Gp(e);return new Tr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ns(e.root,!0)}`,i=function uc(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${lc(t)}=${lc(r)}`).join("&"):`${lc(t)}=${lc(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function L_(n){return encodeURI(n)}(e.fragment)}`:""}`}}const F_=new sa;function Wa(n){return n.segments.map(e=>ch(e)).join("/")}function ns(n,e){if(!n.hasChildren())return Wa(n);if(e){const t=n.children[un]?ns(n.children[un],!1):"",i=[];return ai(n.children,(r,a)=>{a!==un&&i.push(`${a}:${ns(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function qa(n,e){let t=[];return ai(n.children,(i,r)=>{r===un&&(t=t.concat(e(i,r)))}),ai(n.children,(i,r)=>{r!==un&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===un?[ns(n.children[un],!1)]:[`${r}:${ns(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[un]?`${Wa(n)}/${t[0]}`:`${Wa(n)}/(${t.join("//")})`}}function ac(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lc(n){return ac(n).replace(/%3B/gi,";")}function cc(n){return ac(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function js(n){return decodeURIComponent(n)}function Ka(n){return js(n.replace(/\+/g,"%20"))}function ch(n){return`${cc(n.path)}${function p0(n){return Object.keys(n).map(e=>`;${cc(e)}=${cc(n[e])}`).join("")}(n.parameters)}`}const V_=/^[^\/()?;=#]+/;function uh(n){const e=n.match(V_);return e?e[0]:""}const B_=/^[^=?&#]+/,H_=/^[^&#]+/;class Gp{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dn([],{}):new dn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[un]=new dn(e,t)),i}parseSegment(){const e=uh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ga(js(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=uh(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=uh(this.remaining);r&&(i=r,this.capture(i))}e[js(t)]=js(i)}parseQueryParam(e){const t=function U_(n){const e=n.match(B_);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function Iu(n){const e=n.match(H_);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Ka(t),a=Ka(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=uh(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=un);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[un]:new dn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class qp{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Za(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Za(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Wp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Wp(e,this._root).map(t=>t.value)}}function Za(n,e){if(n===e.value)return e;for(const t of e.children){const i=Za(n,t);if(i)return i}return null}function Wp(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Wp(n,t);if(i.length)return i.unshift(e),i}return[]}class bs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function dc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class hc extends qp{constructor(e,t){super(e),this.snapshot=t,Tu(this,e)}toString(){return this.snapshot.toString()}}function Du(n,e){const t=function oa(n,e){const u=new aa([],{},{},"",{},un,e,null,n.root,-1,{});return new Ya("",new bs(u,[]))}(n,e),i=new zi([new Ga("",{})]),r=new zi({}),a=new zi({}),u=new zi({}),f=new zi(""),g=new Eo(i,r,u,f,a,un,e,t.root);return g.snapshot=t.root,new hc(new bs(g,[]),t)}class Eo{constructor(e,t,i,r,a,u,f,g){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,It.U)(e=>bo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,It.U)(e=>bo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Kp(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function m0(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class aa{constructor(e,t,i,r,a,u,f,g,v,I,D,x){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.routeConfig=g,this._urlSegment=v,this._lastPathIndex=I,this._correctedLastPathIndex=x??I,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ya extends qp{constructor(e,t){super(t),this.url=e,Tu(this,t)}toString(){return fc(this._root)}}function Tu(n,e){e.value._routerState=n,e.children.forEach(t=>Tu(n,t))}function fc(n){const e=n.children.length>0?` { ${n.children.map(fc).join(", ")} } `:"";return`${n.value}${e}`}function Su(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,mr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),mr(e.params,t.params)||n.params.next(t.params),function ih(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!mr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),mr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ws(n,e){const t=mr(n.params,e.params)&&function lh(n,e){return vs(n,e)&&n.every((t,i)=>mr(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ws(n.parent,e.parent))}function la(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function $_(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return la(n,i,r);return la(n,i)})}(n,e,t);return new bs(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>la(n,f)),u}}const i=function Zp(n){return new Eo(new zi(n.url),new zi(n.params),new zi(n.queryParams),new zi(n.fragment),new zi(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>la(n,a));return new bs(i,r)}}function Br(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Es(n){return"object"==typeof n&&null!=n&&n.outlets}function Au(n,e,t,i,r){let a={};if(i&&ai(i,(f,g)=>{a[g]=Array.isArray(f)?f.map(v=>`${v}`):`${f}`}),n===e)return new Tr(t,a,r);const u=Qp(n,e,t);return new Tr(u,a,r)}function Qp(n,e,t){const i={};return ai(n.children,(r,a)=>{i[a]=r===e?t:Qp(r,e,t)}),new dn(n.segments,i)}class b{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Br(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Es);if(r&&r!==ra(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function le(n,e,t){if(n||(n=new dn([],{})),0===n.segments.length&&n.hasChildren())return Ve(n,e,t);const i=function _t(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const u=n.segments[r],f=t[i];if(Es(f))break;const g=`${f}`,v=i<t.length-1?t[i+1]:null;if(r>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!Ur(g,v,u))return a;i+=2}else{if(!Ur(g,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new dn(n.segments.slice(0,i.pathIndex),{});return a.children[un]=new dn(n.segments.slice(i.pathIndex),n.children),Ve(a,0,r)}return i.match&&0===r.length?new dn(n.segments,{}):i.match&&!n.hasChildren()?Rt(n,e,t):i.match?Ve(n,0,r):Rt(n,e,t)}function Ve(n,e,t){if(0===t.length)return new dn(n.segments,{});{const i=function k(n){return Es(n[0])?n[0].outlets:{[un]:n}}(t),r={};return ai(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=le(n.children[u],e,a))}),ai(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new dn(n.segments,r)}}function Rt(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(Es(a)){const g=an(a.outlets);return new dn(i,g)}if(0===r&&Br(t[0])){i.push(new Ga(n.segments[e].path,An(t[0]))),r++;continue}const u=Es(a)?a.outlets[un]:`${a}`,f=r<t.length-1?t[r+1]:null;u&&f&&Br(f)?(i.push(new Ga(u,An(f))),r+=2):(i.push(new Ga(u,{})),r++)}return new dn(i,{})}function an(n){const e={};return ai(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Rt(new dn([],{}),0,t))}),e}function An(n){const e={};return ai(n,(t,i)=>e[i]=`${t}`),e}function Ur(n,e,t){return n==t.path&&mr(e,t.parameters)}class Li{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Hr,this.attachRef=null}}class Hr{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Li,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let pc=(()=>{class n{constructor(t,i,r,a,u){this.parentContexts=t,this.location=i,this.changeDetector=a,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=r||un,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const r=this.location,u=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,g=new Mu(t,f,r.injector);if(i&&function dh(n){return!!n.resolveComponentFactory}(i)){const v=i.resolveComponentFactory(u);this.activated=r.createComponent(v,r.length,g)}else this.activated=r.createComponent(u,{index:r.length,injector:g,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Hr),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Mu{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Eo?this.route:e===Hr?this.childContexts:this.parent.get(e,t)}}let hh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},dependencies:[pc],encapsulation:2}),n})();function fh(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function z_(n){const e=n.children&&n.children.map(z_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==un&&(t.component=hh),t}function Cs(n){return n.outlet||un}function _0(n,e){const t=n.filter(i=>Cs(i)===e);return t.push(...n.filter(i=>Cs(i)!==e)),t}function G_(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class y0{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Su(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=dc(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),ai(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=dc(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=dc(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=dc(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new Gi(a.value.snapshot))}),e.children.length&&this.forwardEvent(new f0(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(Su(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),Su(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=G_(r.snapshot),g=f?.get(c._Vd)??null;u.attachRef=null,u.route=r,u.resolver=g,u.injector=f,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}function Co(n){return"function"==typeof n}function Bn(n){return n instanceof Tr}const gh=Symbol("INITIAL_VALUE");function _h(){return $n(n=>Na(n.map(e=>e.pipe((0,Di.q)(1),mi(gh)))).pipe(vu((e,t)=>{let i=!1;return t.reduce((r,a,u)=>r!==gh?r:(a===gh&&(i=!0),i||!1!==a&&u!==t.length-1&&!Bn(a)?r:a),e)},gh),Vn(e=>e!==gh),(0,It.U)(e=>Bn(e)?e:!0===e),(0,Di.q)(1)))}const w0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nm(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...w0}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||O_)(t,n,e);if(!r)return{...w0};const a={};ai(r.posParams,(f,g)=>{a[g]=f.path});const u=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function im(n,e,t,i,r="corrected"){if(t.length>0&&function yh(n,e,t){return t.some(i=>rm(n,e,i)&&Cs(i)!==un)}(n,t,i)){const u=new dn(e,function JR(n,e,t,i){const r={};r[un]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Cs(a)!==un){const u=new dn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[Cs(a)]=u}return r}(n,e,i,new dn(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function W_(n,e,t){return t.some(i=>rm(n,e,i))}(n,t,i)){const u=new dn(n.segments,function XR(n,e,t,i,r,a){const u={};for(const f of i)if(rm(n,t,f)&&!r[Cs(f)]){const g=new dn([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[Cs(f)]=g}return{...r,...u}}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new dn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function rm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function sm(n,e,t,i){return!!(Cs(n)===i||i!==un&&rm(e,t,n))&&("**"===n.path||nm(e,n,t).matched)}function Ru(n,e,t){return 0===e.length&&!n.children[t]}class om{constructor(e){this.segmentGroup=e||null}}class E0{constructor(e){this.urlTree=e}}function vh(n){return Bs(new om(n))}function K_(n){return Bs(new E0(n))}class uT{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=im(this.urlTree.root,[],[],this.config).segmentGroup,t=new dn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,un).pipe((0,It.U)(a=>this.createUrlTree(Y_(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(mn(a=>{if(a instanceof E0)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof om?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,un).pipe((0,It.U)(r=>this.createUrlTree(Y_(r),e.queryParams,e.fragment))).pipe(mn(r=>{throw r instanceof om?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new dn([],{[un]:e}):e;return new Tr(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,It.U)(a=>new dn([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,Rn.D)(r).pipe(Ua(a=>{const u=i.children[a],f=_0(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,It.U)(g=>({segment:g,outlet:a})))}),vu((a,u)=>(a[u.outlet]=u.segment,a),{}),function h0(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Vn((r,a)=>n(r,a,i)):_s.y,Bp(1),t?bu(e):M_(()=>new Fa))}())}expandSegment(e,t,i,r,a,u){return(0,Rn.D)(i).pipe(Ua(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,u).pipe(mn(v=>{if(v instanceof om)return ot(null);throw v}))),pr(f=>!!f),mn((f,g)=>{if(f instanceof Fa||"EmptyError"===f.name)return Ru(t,r,a)?ot(new dn([],{})):vh(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,u,f){return sm(r,t,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u):vh(t):vh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?K_(a):this.lineralizeSegments(i,a).pipe((0,Ti.z)(u=>{const f=new dn(u,{});return this.expandSegment(e,f,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){const{matched:f,consumedSegments:g,remainingSegments:v,positionalParamSegments:I}=nm(t,r,a);if(!f)return vh(t);const D=this.applyRedirectCommands(g,r.redirectTo,I);return r.redirectTo.startsWith("/")?K_(D):this.lineralizeSegments(r,D).pipe((0,Ti.z)(x=>this.expandSegment(e,t,i,x.concat(v),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){if("**"===i.path)return e=fh(i,e),i.loadChildren?(i._loadedRoutes?ot({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,It.U)(D=>(i._loadedRoutes=D.routes,i._loadedInjector=D.injector,new dn(r,{})))):ot(new dn(r,{}));const{matched:u,consumedSegments:f,remainingSegments:g}=nm(t,i,r);return u?(e=fh(i,e),this.getChildConfig(e,i,r).pipe((0,Ti.z)(I=>{const D=I.injector??e,x=I.routes,{segmentGroup:P,slicedSegments:H}=im(t,f,g,x),ne=new dn(P.segments,P.children);if(0===H.length&&ne.hasChildren())return this.expandChildren(D,x,ne).pipe((0,It.U)(Ct=>new dn(f,Ct)));if(0===x.length&&0===H.length)return ot(new dn(f,{}));const De=Cs(i)===a;return this.expandSegment(D,ne,x,H,De?un:a,!0).pipe((0,It.U)(ct=>new dn(f.concat(ct.segments),ct.children)))}))):vh(t)}getChildConfig(e,t,i){return t.children?ot({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ot({routes:t._loadedRoutes,injector:t._loadedInjector}):this.runCanLoadGuards(e,t,i).pipe((0,Ti.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,wi.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function lT(n){return Bs(na(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ot({routes:[],injector:e})}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?ot(r.map(u=>{const f=e.get(u);let g;if(function v0(n){return n&&Co(n.canLoad)}(f))g=f.canLoad(t,i);else{if(!Co(f))throw new Error("Invalid CanLoad guard");g=f(t,i)}return ts(g)})).pipe(_h(),(0,wi.b)(u=>{if(!Bn(u))return;const f=na(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,It.U)(u=>!0===u)):ot(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ot(i);if(r.numberOfChildren>1||!r.children[un])return Bs(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));r=r.children[un]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new Tr(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return ai(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let u={};return ai(t.children,(f,g)=>{u[g]=this.createSegmentGroup(e,f,i,r)}),new dn(a,u)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function Y_(n){const e={};for(const i of Object.keys(n.children)){const a=Y_(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function Z_(n){if(1===n.numberOfChildren&&n.children[un]){const e=n.children[un];return new dn(n.segments.concat(e.segments),e.children)}return n}(new dn(n.segments,e))}class C0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bh{constructor(e,t){this.component=e,this.route=t}}function hT(n,e,t){const i=n._root;return mc(i,e?e._root:null,t,[i.value])}function qi(n,e,t){return(G_(e)??t).get(n)}function mc(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=dc(e);return n.children.forEach(u=>{(function I0(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const g=function Q_(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!vs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!vs(n.url,e.url)||!mr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ws(n,e)||!mr(n.queryParams,e.queryParams);default:return!ws(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new C0(i)):(a.data=u.data,a._resolvedData=u._resolvedData),mc(n,e,a.component?f?f.children:null:t,i,r),g&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new bh(f.outlet.component,u))}else u&&Si(e,f,r),r.canActivateChecks.push(new C0(i)),mc(n,null,a.component?f?f.children:null:t,i,r)})(u,a[u.value.outlet],t,i.concat([u.value]),r),delete a[u.value.outlet]}),ai(a,(u,f)=>Si(u,t.getContext(f),r)),r}function Si(n,e,t){const i=dc(n),r=n.value;ai(i,(a,u)=>{Si(a,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new bh(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class yT{}function S0(n){return new fi.y(e=>e.error(n))}class bT{constructor(e,t,i,r,a,u){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=u}recognize(){const e=im(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,un);if(null===t)return null;const i=new aa([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},un,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new bs(i,t),a=new Ya(this.url,r);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,i=Kp(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const a of Object.keys(t.children)){const u=t.children[a],f=_0(e,a),g=this.processSegmentGroup(f,u,a);if(null===g)return null;i.push(...g)}const r=Io(i);return function wT(n){n.sort((e,t)=>e.value.outlet===un?-1:t.value.outlet===un?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const a of e){const u=this.processSegmentAgainstRoute(a,t,i,r);if(null!==u)return u}return Ru(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!sm(e,t,i,r))return null;let a,u=[],f=[];if("**"===e.path){const P=i.length>0?ra(i).parameters:{},H=IT(t)+i.length;a=new aa(i,P,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,DT(e),Cs(e),e.component??e._loadedComponent??null,e,CT(t),H,$s(e),H)}else{const P=nm(t,e,i);if(!P.matched)return null;u=P.consumedSegments,f=P.remainingSegments;const H=IT(t)+u.length;a=new aa(u,P.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,DT(e),Cs(e),e.component??e._loadedComponent??null,e,CT(t),H,$s(e),H)}const g=function ET(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:v,slicedSegments:I}=im(t,u,f,g.filter(P=>void 0===P.redirectTo),this.relativeLinkResolution);if(0===I.length&&v.hasChildren()){const P=this.processChildren(g,v);return null===P?null:[new bs(a,P)]}if(0===g.length&&0===I.length)return[new bs(a,[])];const D=Cs(e)===r,x=this.processSegment(g,v,I,D?un:r);return null===x?null:[new bs(a,x)]}}function ku(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Io(n){const e=[],t=new Set;for(const i of n){if(!ku(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Io(i.children);e.push(new bs(i.value,r))}return e.filter(i=>!t.has(i))}function CT(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function IT(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function DT(n){return n.data||{}}function $s(n){return n.resolve||{}}const Eh=Symbol("RouteTitle");function am(n){return"string"==typeof n.title||null===n.title}function Ih(n){return $n(e=>{const t=n(e);return t?(0,Rn.D)(t).pipe((0,It.U)(()=>e)):ot(e)})}class Ou extends class tk{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const cm=new c.OlP("ROUTES");let ny=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ot(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=ts(t.loadComponent()).pipe((0,wi.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),ii(()=>{this.componentLoaders.delete(t)})),r=new ea(i,()=>new Bt.x).pipe(es());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ot({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,It.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,v,I=!1;Array.isArray(f)?v=f:(g=f.create(t).injector,v=P_(g.get(cm,[],c.XFs.Self|c.XFs.Optional)));return{routes:v.map(z_),injector:g}}),ii(()=>{this.childrenLoaders.delete(i)})),u=new ea(a,()=>new Bt.x).pipe(es());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return ts(t()).pipe((0,Ti.z)(i=>i instanceof c.YKP||Array.isArray(i)?ot(i):(0,Rn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ST{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function MT(n){throw n}function xT(n,e,t){return e.parse("/")}const RT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ai=(()=>{class n{constructor(t,i,r,a,u,f,g){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Bt.x,this.errorHandler=MT,this.malformedUriErrorHandler=xT,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ot(void 0),this.urlHandlingStrategy=new ST,this.routeReuseStrategy=new Ou,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(ny),this.configLoader.onLoadEndListener=x=>this.triggerEvent(new nh(x)),this.configLoader.onLoadStartListener=x=>this.triggerEvent(new x_(x)),this.ngModule=u.get(c.h0i),this.console=u.get(c.c2e);const D=u.get(c.R0b);this.isNgZoneEnabled=D instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function N_(){return new Tr(new dn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Du(this.currentUrlTree,this.rootComponentType),this.transitions=new zi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Vn(r=>0!==r.id),(0,It.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),$n(r=>{let a=!1,u=!1;return ot(r).pipe((0,wi.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),$n(f=>{const g=this.browserUrlTree.toString(),v=!this.navigated||f.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return sy(f.source)&&(this.browserUrlTree=f.extractedUrl),ot(f).pipe($n(D=>{const x=this.transitions.getValue();return i.next(new ys(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),x!==this.transitions.getValue()?yo.E:Promise.resolve(D)}),function dT(n,e,t,i){return $n(r=>function cT(n,e,t,i,r){return new uT(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,It.U)(a=>({...r,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,wi.b)(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects}}),function ty(n,e,t,i,r){return(0,Ti.z)(a=>function vT(n,e,t,i,r="emptyOnly",a="legacy"){try{const u=new bT(n,e,t,i,r,a).recognize();return null===u?S0(new yT):ot(u)}catch(u){return S0(u)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),i,r).pipe((0,It.U)(u=>({...a,targetSnapshot:u}))))}(this.rootComponentType,this.config,D=>this.serializeUrl(D),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,wi.b)(D=>{if("eager"===this.urlUpdateStrategy){if(!D.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);this.setBrowserUrl(P,D)}this.browserUrlTree=D.urlAfterRedirects}const x=new Hs(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);i.next(x)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:x,extractedUrl:P,source:H,restoredState:ne,extras:De}=f,rt=new ys(x,this.serializeUrl(P),H,ne);i.next(rt);const ct=Du(P,this.rootComponentType).snapshot;return ot({...f,targetSnapshot:ct,urlAfterRedirects:P,extras:{...De,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),yo.E}),(0,wi.b)(f=>{const g=new vo(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}),(0,It.U)(f=>({...f,guards:hT(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function wh(n,e){return(0,Ti.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?ot({...t,guardsResult:!0}):function X_(n,e,t,i){return(0,Rn.D)(n).pipe((0,Ti.z)(r=>function _T(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?ot(a.map(f=>{const g=qi(f,e,r);let v;if(function b0(n){return n&&Co(n.canDeactivate)}(g))v=ts(g.canDeactivate(n,e,t,i));else{if(!Co(g))throw new Error("Invalid CanDeactivate guard");v=ts(g(n,e,t,i))}return v.pipe(pr())})).pipe(_h()):ot(!0)}(r.component,r.route,t,e,i)),pr(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Ti.z)(f=>f&&function sT(n){return"boolean"==typeof n}(f)?function pT(n,e,t,i){return(0,Rn.D)(e).pipe(Ua(r=>Jo(function D0(n,e){return null!==n&&e&&e(new R_(n)),ot(!0)}(r.route.parent,i),function mT(n,e){return null!==n&&e&&e(new jp(n)),ot(!0)}(r.route,i),function T0(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function fT(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>ic(()=>ot(u.guards.map(g=>{const v=qi(g,u.node,t);let I;if(function q_(n){return n&&Co(n.canActivateChild)}(v))I=ts(v.canActivateChild(i,n));else{if(!Co(v))throw new Error("Invalid CanActivateChild guard");I=ts(v(i,n))}return I.pipe(pr())})).pipe(_h())));return ot(a).pipe(_h())}(n,r.path,t),function gT(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return ot(!0);const r=i.map(a=>ic(()=>{const u=qi(a,e,t);let f;if(function oT(n){return n&&Co(n.canActivate)}(u))f=ts(u.canActivate(e,n));else{if(!Co(u))throw new Error("Invalid CanActivate guard");f=ts(u(e,n))}return f.pipe(pr())}));return ot(r).pipe(_h())}(n,r.route,t))),pr(r=>!0!==r,!0))}(i,a,n,e):ot(f)),(0,It.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,wi.b)(f=>{if(Bn(f.guardsResult)){const v=na(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw v.url=f.guardsResult,v}const g=new ja(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(g)}),Vn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Ih(f=>{if(f.guards.canActivateChecks.length)return ot(f).pipe((0,wi.b)(g=>{const v=new sc(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),$n(g=>{let v=!1;return ot(g).pipe(function TT(n,e){return(0,Ti.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ot(t);let a=0;return(0,Rn.D)(r).pipe(Ua(u=>function A0(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!am(r)&&(a[Eh]=r.title),function Ch(n,e,t,i){const r=function M0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return ot({});const a={};return(0,Rn.D)(r).pipe((0,Ti.z)(u=>function x0(n,e,t,i){const r=qi(n,e,i);return ts(r.resolve?r.resolve(e,t):r(e,t))}(n[u],e,t,i).pipe(pr(),(0,wi.b)(f=>{a[u]=f}))),Bp(1),rc(a),mn(u=>u instanceof Fa?yo.E:Bs(u)))}(a,n,e,i).pipe((0,It.U)(u=>(n._resolvedData=u,n.data=Kp(n,t).resolve,r&&am(r)&&(n.data[Eh]=r.title),null)))}(u.route,i,n,e)),(0,wi.b)(()=>a++),Bp(1),(0,Ti.z)(u=>a===r.length?ot(t):yo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,wi.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(g),this.cancelNavigationTransition(g,"At least one route resolver didn't emit any value."))}}))}),(0,wi.b)(g=>{const v=new Hp(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}))}),Ih(()=>this.afterPreactivation()),Ih(f=>{const g=v=>{const I=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,wi.b)(D=>{v.component=D}),(0,It.U)(()=>{})));for(const D of v.children)I.push(...g(D));return I};return Na(g(f.targetSnapshot.root)).pipe(bu(),(0,Di.q)(1))}),(0,It.U)(f=>{const g=function j_(n,e,t){const i=la(n,e._root,t?t._root:void 0);return new hc(i,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return{...f,targetRouterState:g}}),(0,wi.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,It.U)(i=>(new y0(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,wi.b)({next(){a=!0},complete(){a=!0}}),ii(()=>{a||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),mn(f=>{if(u=!0,function k_(n){return n&&n[$p]}(f)){const g=Bn(f.url);g||(this.navigated=!0,this.restoreHistory(r,!0));const v=new Up(r.id,this.serializeUrl(r.extractedUrl),f.message);if(i.next(v),g){const I=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),D={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||sy(r.source)};this.scheduleNavigation(I,"imperative",null,D,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const g=new ir(r.id,this.serializeUrl(r.extractedUrl),f);i.next(g);try{r.resolve(this.errorHandler(f))}catch(v){r.reject(v)}}return yo.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const f={...a};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(r.state=f)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(z_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:g}=i,v=r||this.routerState.root,I=g?this.currentUrlTree.fragment:u;let D=null;switch(f){case"merge":D={...this.currentUrlTree.queryParams,...a};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=a||null}return null!==D&&(D=this.removeEmptyProps(D)),function Yp(n,e,t,i,r){if(0===t.length)return Au(e.root,e.root,e.root,i,r);const a=function m(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new b(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return ai(a.outlets,(g,v)=>{f[v]="string"==typeof g?g.split("/"):g}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((f,g)=>{0==g&&"."===f||(0==g&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new b(t,e,i)}(t);return a.toRoot()?Au(e.root,e.root,new dn([],{}),i,r):function u(g){const v=function E(n,e,t,i){return n.isAbsolute?new _(e.root,!0,0):-1===i?new _(t,t===e.root,0):function S(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new _(i,!1,r-a)}(t,i+(Br(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,g),I=v.processChildren?Ve(v.segmentGroup,v.index,a.commands):le(v.segmentGroup,v.index,a.commands);return Au(e.root,v.segmentGroup,I,i,r)}(n.snapshot?._lastPathIndex)}(v,this.currentUrlTree,t,D,I??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Bn(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function ry(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...RT}:!1===i?{...kT}:i,Bn(t))return $a(this.currentUrlTree,t,r);const a=this.parseUrl(t);return $a(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ha(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,u){if(this.disposed)return Promise.resolve(!1);let f,g,v;u?(f=u.resolve,g=u.reject,v=u.promise):v=new Promise((x,P)=>{f=x,g=P});const I=++this.navigationId;let D;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),D=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):D=0,this.setTransition({id:I,targetPageId:D,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:f,reject:g,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(x=>Promise.reject(x))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new Up(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function sy(n){return"imperative"!==n}let Qa=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=u,this.commands=null,this.onChanges=new Bt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:(0,c.D6c)(this.skipLocationChange),replaceUrl:(0,c.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,c.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ai),c.Y36(Eo),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})(),Dh=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new Bt.x,this.subscription=t.events.subscribe(a=>{a instanceof Ha&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,a,u){if(0!==t||i||r||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:(0,c.D6c)(this.skipLocationChange),replaceUrl:(0,c.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,c.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ai),c.Y36(Eo),c.Y36(Ie))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&c.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&c.uIk("target",i.target)("href",i.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();class oy{buildTitle(e){let t,i=e.root;for(;void 0!==i;)t=this.getResolvedTitleForRoute(i)??t,i=i.children.find(r=>r.outlet===un);return t}getResolvedTitleForRoute(e){return e.data[Eh]}}let gc=(()=>{class n extends oy{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ka))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ay{}class P0{preload(e,t){return ot(null)}}let ly=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Vn(t=>t instanceof Ha),Ua(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,c.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,f=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,Rn.D)(r).pipe((0,La.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):ot(null);const a=r.pipe((0,Ti.z)(u=>null===u?ot(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,Rn.D)([a,u]).pipe((0,La.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ai),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(ay),c.LFG(ny))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Pu=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ys?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ha&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof wu&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new wu(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Xa=new c.OlP("ROUTER_CONFIGURATION"),cy=new c.OlP("ROUTER_FORROOT_GUARD"),N0=[Be,{provide:Cu,useClass:sa},{provide:Ai,useFactory:function L0(n,e,t,i,r,a,u={},f,g,v,I){const D=new Ai(null,n,e,t,i,r,P_(a));return v&&(D.urlHandlingStrategy=v),I&&(D.routeReuseStrategy=I),D.titleStrategy=g??f,function hy(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,D),D},deps:[Cu,Hr,Be,c.zs3,c.Sil,cm,Xa,gc,[oy,new c.FiY],[class iy{},new c.FiY],[class R0{},new c.FiY]]},Hr,{provide:Eo,useFactory:function Th(n){return n.routerState.root},deps:[Ai]},ly,P0,class O0{preload(e,t){return t().pipe(mn(()=>ot(null)))}},{provide:Xa,useValue:{enableTracing:!1}},ny];function uy(){return new c.PXZ("Router",Ai)}let dy=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[N0,hm(t),{provide:cy,useFactory:F0,deps:[[Ai,new c.FiY,new c.tp0]]},{provide:Xa,useValue:i||{}},{provide:Ie,useFactory:dm,deps:[fe,[new c.tBr(ut),new c.FiY],Xa]},{provide:Pu,useFactory:um,deps:[Ai,ru,Xa]},{provide:ay,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:P0},{provide:c.PXZ,multi:!0,useFactory:uy},[fy,{provide:c.ip1,multi:!0,useFactory:V0,deps:[fy]},{provide:B0,useFactory:PT,deps:[fy]},{provide:c.tb,multi:!0,useExisting:B0}]]}}static forChild(t){return{ngModule:n,providers:[hm(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(cy,8),c.LFG(Ai,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function um(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Pu(n,e,t)}function dm(n,e,t={}){return t.useHash?new He(n,e):new tt(n,e)}function F0(n){return"guarded"}function hm(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:cm,multi:!0,useValue:n}]}let fy=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Bt.x}appInitializer(){return this.injector.get(z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(f=>i=f),a=this.injector.get(Ai),u=this.injector.get(Xa);return"disabled"===u.initialNavigation?(a.setUpLocationChangeListener(),i(!0)):"enabledBlocking"===u.initialNavigation?(a.afterPreactivation=()=>this.initNavigation?ot(void 0):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),a.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(Xa),r=this.injector.get(ly),a=this.injector.get(Pu),u=this.injector.get(Ai),f=this.injector.get(c.z2F);t===f.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),a.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(void 0),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function V0(n){return n.appInitializer.bind(n)}function PT(n){return n.bootstrapListener.bind(n)}const B0=new c.OlP("Router Initializer");var j0=M(127),Nu=M(6451),Sh=M(5363),NT=M(6063);class $0 extends Bt.x{constructor(e=1/0,t=1/0,i=NT.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;t||(i.push(e),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!e.closed;u+=i?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=t.now();let f=0;for(let g=1;g<i.length&&i[g]<=u;g+=2)f=g;f&&i.splice(0,f+1)}}}var z0=M(3099);function py(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,z0.B)({connector:()=>new $0(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Is(n,e){return(0,Ir.m)(e)?$n(()=>n,e):$n(()=>n)}var my=M(9468),Et=M(4386),zs=M(2011),Sr=M(5867);class Gs{constructor(e){return e}}class Ja{constructor(){return(0,Sr.C6)()}}const gy=new c.OlP("angularfire2._apps"),VT={provide:Gs,useFactory:function LT(n){return n&&1===n.length?n[0]:new Gs((0,Sr.Mq)())},deps:[[new c.FiY,gy]]},rn={provide:Ja,deps:[[new c.FiY,gy]]};function G0(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Gs(i)}}let q0=(()=>{class n{constructor(t){(0,Sr.KN)("angularfire",Et.q4.full,"core"),(0,Sr.KN)("angularfire",Et.q4.full,"app"),(0,Sr.KN)("angular",c.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[VT,rn]}),n})();function W0(n,...e){return{ngModule:q0,providers:[{provide:gy,useFactory:G0(n),multi:!0,deps:[c.R0b,c.zs3,Et.HU,...e]}]}}const UT=(0,Et.u3)(Sr.ZF,!0);var xe=M(5861),zn=M(9681),el=M(4859),Qt=M(2090),qs=M(1877);const _y=new Map,yy={activated:!1,tokenObservers:[]},ak={initialized:!1,enabled:!1};function Wi(n){return _y.get(n)||yy}function is(n,e){_y.set(n,e)}function Ah(){return ak}class pm{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,xe.Z)(function*(){t.stop();try{t.pending=new Qt.BH,yield function $T(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Qt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const rr=new Qt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Cy(n){if(!Wi(n).activated)throw rr.create("use-before-activation",{appName:n.name})}function Iy(n,e){return gm.apply(this,arguments)}function gm(){return(gm=(0,xe.Z)(function*({url:n,body:e},t){var i,r;const a={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const P=yield u.getHeartbeatsHeader();P&&(a["X-Firebase-Client"]=P)}const f={method:"POST",body:JSON.stringify(e),headers:a};let g,v;try{g=yield fetch(n,f)}catch(P){throw rr.create("fetch-network-error",{originalErrorMessage:null===(i=P)||void 0===i?void 0:i.message})}if(200!==g.status)throw rr.create("fetch-status-error",{httpStatus:g.status});try{v=yield g.json()}catch(P){throw rr.create("fetch-parse-error",{originalErrorMessage:null===(r=P)||void 0===r?void 0:r.message})}const I=v.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw rr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const D=1e3*Number(I[1]),x=Date.now();return{token:v.token,expireTimeMillis:x+D,issuedAtTimeMillis:x}})).apply(this,arguments)}function GT(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const yc="firebase-app-check-store";let xh=null;function Ws(){return xh||(xh=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var a;e(rr.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(yc,{keyPath:"compositeKey"})}}catch(i){e(rr.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),xh)}function K0(){return(K0=(0,xe.Z)(function*(n,e){const i=(yield Ws()).transaction(yc,"readwrite"),a=i.objectStore(yc).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=g=>{u()},i.onerror=g=>{var v;f(rr.create("storage-set",{originalErrorMessage:null===(v=g.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const _m=new qs.Yd("@firebase/app-check");function Z0(n,e){return(0,Qt.hl)()?function Ty(n,e){return function YT(n,e){return K0.apply(this,arguments)}(function My(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{_m.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Q0(){return Ah().enabled}function xy(){return Ry.apply(this,arguments)}function Ry(){return(Ry=(0,xe.Z)(function*(){const n=Ah();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const eS={error:"UNKNOWN_ERROR"};function tS(n){return Qt.US.encodeString(JSON.stringify(n),!1)}function ym(n){return vm.apply(this,arguments)}function vm(){return(vm=(0,xe.Z)(function*(n,e=!1){const t=n.app;Cy(t);const i=Wi(t);let a,r=i.token;if(!r){const g=yield i.cachedTokenPromise;g&&Vu(g)&&(r=g)}if(!e&&r&&Vu(r))return{token:r.token};let f,u=!1;if(Q0()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Iy(GT(t,yield xy()),n.heartbeatServiceProvider).then(v=>(i.exchangeTokenPromise=void 0,v)),u=!0);const g=yield i.exchangeTokenPromise;return yield Z0(t,g),is(t,Object.assign(Object.assign({},i),{token:g})),{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(g=>(i.exchangeTokenPromise=void 0,g)),u=!0),r=yield i.exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?_m.warn(g.message):_m.error(g),a=g}return r?(f={token:r.token},is(t,Object.assign(Object.assign({},i),{token:r})),yield Z0(t,r)):f=iS(a),u&&nS(t,f),f})).apply(this,arguments)}function bm(n,e){const t=Wi(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),is(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function Oy(n){const{app:e}=n,t=Wi(e);let i=t.tokenRefresher;i||(i=function Py(n){const{app:e}=n;return new pm((0,xe.Z)(function*(){let i;if(i=Wi(e).token?yield ym(n,!0):yield ym(n),i.error)throw i.error}),()=>!0,()=>{const t=Wi(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),is(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function nS(n,e){const t=Wi(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function Vu(n){return n.expireTimeMillis-Date.now()>0}function iS(n){return{token:tS(eS),error:n}}class lk{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Wi(this.app);for(const t of e)bm(this.app,t.next);return Promise.resolve()}}const wm="app-check-internal";!function fk(){(0,zn._registerComponent)(new el.wA("app-check",n=>function Bu(n,e){return new lk(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(wm).initialize()})),(0,zn._registerComponent)(new el.wA(wm,n=>function X0(n){return{getToken:e=>ym(n,e),addTokenListener:e=>function ky(n,e,t,i){const{app:r}=n,a=Wi(r),u={next:t,error:i,type:e};if(is(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&Vu(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),Oy(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Oy(n))}(n,"INTERNAL",e),removeTokenListener:e=>bm(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,zn.registerVersion)("@firebase/app-check","0.5.10")}();class To{constructor(){return(0,Et.vb)("app-check")}}typeof window<"u"&&window;const Em=new c.OlP("angularfire2.auth.use-emulator"),fS=new c.OlP("angularfire2.auth.settings"),pS=new c.OlP("angularfire2.auth.tenant-id"),mS=new c.OlP("angularfire2.auth.langugage-code"),gS=new c.OlP("angularfire2.auth.use-device-language"),_S=new c.OlP("angularfire.auth.persistence"),yS=(n,e,t,i,r,a,u,f)=>(0,zs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),i&&(g.tenantId=i),g.languageCode=r,a&&g.useDeviceLanguage(),u)for(const[v,I]of Object.entries(u))g.settings[v]=I;return f&&g.setPersistence(f),g},[t,i,r,a,u,f]);let Gy=(()=>{class n{constructor(t,i,r,a,u,f,g,v,I,D,x,P){const H=new Bt.x,ne=ot(void 0).pipe((0,Sh.Q)(u.outsideAngular),$n(()=>a.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,5881)))),(0,It.U)(()=>(0,zs.on)(t,a,i)),(0,It.U)(De=>yS(De,a,f,v,I,D,g,x)),py({bufferSize:1,refCount:!1}));if($d(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ot(null);else{ne.pipe(pr()).subscribe();const rt=ne.pipe($n(ft=>ft.getRedirectResult().then(jt=>jt,()=>null)),Et.iC,py({bufferSize:1,refCount:!1})),ct=ne.pipe($n(ft=>new fi.y(jt=>({unsubscribe:a.runOutsideAngular(()=>ft.onAuthStateChanged(Kt=>jt.next(Kt),Kt=>jt.error(Kt),()=>jt.complete()))})))),Ct=ne.pipe($n(ft=>new fi.y(jt=>({unsubscribe:a.runOutsideAngular(()=>ft.onIdTokenChanged(Kt=>jt.next(Kt),Kt=>jt.error(Kt),()=>jt.complete()))}))));this.authState=rt.pipe(Is(ct),(0,my.R)(u.outsideAngular),(0,Sh.Q)(u.insideAngular)),this.user=rt.pipe(Is(Ct),(0,my.R)(u.outsideAngular),(0,Sh.Q)(u.insideAngular)),this.idToken=this.user.pipe($n(ft=>ft?(0,Rn.D)(ft.getIdToken()):ot(null))),this.idTokenResult=this.user.pipe($n(ft=>ft?(0,Rn.D)(ft.getIdTokenResult()):ot(null))),this.credential=(0,Nu.T)(rt,H,this.authState.pipe(Vn(ft=>!ft))).pipe((0,It.U)(ft=>ft?.user?ft:null),(0,my.R)(u.outsideAngular),(0,Sh.Q)(u.insideAngular))}return(0,zs.pX)(this,ne,a,{spy:{apply:(De,rt,ct)=>{(De.startsWith("signIn")||De.startsWith("createUser"))&&ct.then(Ct=>H.next(Ct))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(zs.Dh),c.LFG(zs.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Et.HU),c.LFG(Em,8),c.LFG(fS,8),c.LFG(pS,8),c.LFG(mS,8),c.LFG(gS,8),c.LFG(_S,8),c.LFG(To,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qy=(()=>{class n{constructor(t,i){this.auth=t,this.router=i}login(){this.auth.signInWithPopup(new j0.Z.auth.GoogleAuthProvider).then(t=>{this.router.navigate(["/flamenco-posts/"])}).catch(t=>console.log(t))}logout(){this.auth.signOut().then(()=>{this.router.navigate(["/flamenco-posts/"])}).catch(t=>console.log(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Gy),c.LFG(Ai))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _k(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div")(1,"h1"),c._uU(2),c.qZA(),c.TgZ(3,"button",2),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.logout())}),c._uU(4,"Logout"),c.qZA()()}if(2&n){const t=e.ngIf;c.xp6(2),c.hij("Hello ",t.displayName,"!")}}function nl(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"p"),c._uU(1,"Please login."),c.qZA(),c.TgZ(2,"button",2),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.login())}),c._uU(3,"Login with Google"),c.qZA()}}let Wy=(()=>{class n{constructor(t){this.auth=t,this.auth1=this.auth.auth}ngOnInit(){}login(){this.auth.login()}logout(){this.auth.logout()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(qy))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["showLogin",""],[3,"click"]],template:function(t,i){if(1&t&&(c.YNc(0,_k,5,1,"div",0),c.ALo(1,"async"),c.YNc(2,nl,4,0,"ng-template",null,1,c.W1O)),2&t){const r=c.MAs(3);c.Q6J("ngIf",c.lcZ(1,2,i.auth1.user))("ngIfElse",r)}},dependencies:[Pr,jl]}),n})();var Oh=M(4986);function Ph(){return(0,pi.e)((n,e)=>{let t,i=!1;n.subscribe((0,jn.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function Uu(n,e=_s.y){return n=n??cE,(0,pi.e)((t,i)=>{let r,a=!0;t.subscribe((0,jn.x)(i,u=>{const f=e(u);(a||!n(r,f))&&(a=!1,r=f,i.next(u))}))})}function cE(n,e){return n===e}M(5881);var St,vS=M(3942),il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},So={},Nh=Nh||{},en=il||self;function Fh(){}function Ky(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Lh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var rl="closure_uid_"+(1e9*Math.random()>>>0),Zy=0;function Hu(n,e,t){return n.call.apply(n.bind,arguments)}function Bh(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function gi(n,e,t){return(gi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hu:Bh).apply(null,arguments)}function Cm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ki(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function ua(){this.s=this.s,this.o=this.o}var Qy={};ua.prototype.s=!1,ua.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Vh(n){return Object.prototype.hasOwnProperty.call(n,rl)&&n[rl]||(n[rl]=++Zy)}(this);delete Qy[n]}},ua.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xy=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Uh=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<i;a++)a in r&&e.call(t,r[a],a,n)};function Jy(n){return Array.prototype.concat.apply([],arguments)}function dE(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Hh(n){return/^[\s\xa0]*$/.test(n)}var Mr,ev=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ar(n,e){return-1!=n.indexOf(e)}function Im(n,e){return n<e?-1:n>e?1:0}e:{var hE=en.navigator;if(hE){var jr=hE.userAgent;if(jr){Mr=jr;break e}}Mr=""}function tv(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function fE(n){const e={};for(const t in n)e[t]=n[t];return e}var wS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pE(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<wS.length;a++)t=wS[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function jh(n){return jh[" "](n),n}jh[" "]=Fh;var Tm,n,ES=Ar(Mr,"Opera"),ju=Ar(Mr,"Trident")||Ar(Mr,"MSIE"),gE=Ar(Mr,"Edge"),Dm=gE||ju,_E=Ar(Mr,"Gecko")&&!(Ar(Mr.toLowerCase(),"webkit")&&!Ar(Mr,"Edge"))&&!(Ar(Mr,"Trident")||Ar(Mr,"MSIE"))&&!Ar(Mr,"Edge"),yE=Ar(Mr.toLowerCase(),"webkit")&&!Ar(Mr,"Edge");function vE(){var n=en.document;return n?n.documentMode:void 0}e:{var Sm="",Am=(n=Mr,_E?/rv:([^\);]+)(\)|;)/.exec(n):gE?/Edge\/([\d\.]+)/.exec(n):ju?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):yE?/WebKit\/(\S+)/.exec(n):ES?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Am&&(Sm=Am?Am[1]:""),ju){var nv=vE();if(null!=nv&&nv>parseFloat(Sm)){Tm=String(nv);break e}}Tm=Sm}var Ao={};var yk=en.document&&ju&&(vE()||parseInt(Tm,10))||void 0,wE=function(){if(!en.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{en.addEventListener("test",Fh,e),en.removeEventListener("test",Fh,e)}catch{}return n}();function gr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function $h(n,e){if(gr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(_E){e:{try{jh(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:CS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&$h.Z.h.call(this)}}gr.prototype.h=function(){this.defaultPrevented=!0},Ki($h,gr);var CS={2:"touch",3:"pen",4:"mouse"};$h.prototype.h=function(){$h.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var vc="closure_listenable_"+(1e6*Math.random()|0),IS=0;function DS(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++IS,this.ca=this.fa=!1}function bc(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function $u(n){this.src=n,this.g={},this.h=0}function sv(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=Xy(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(bc(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function zh(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==i)return r}return-1}$u.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=zh(n,e,i,r);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new DS(e,this.src,a,!!i,r)).fa=t,n.push(e)),e};var Gh="closure_lm_"+(1e6*Math.random()|0),Mm={};function TS(n,e,t,i,r){if(i&&i.once)return AS(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)TS(n,e[a],t,i,r);return null}return t=Zs(t),n&&n[vc]?n.N(e,t,Lh(i)?!!i.capture:!!i,r):SS(n,e,t,!1,i,r)}function SS(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var u=Lh(r)?!!r.capture:!!r,f=Rm(n);if(f||(n[Gh]=f=new $u(n)),(t=f.add(e,t,i,u,a)).proxy)return t;if(i=function ov(){var e=CE;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)wE||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(av(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function AS(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)AS(n,e[a],t,i,r);return null}return t=Zs(t),n&&n[vc]?n.O(e,t,Lh(i)?!!i.capture:!!i,r):SS(n,e,t,!0,i,r)}function EE(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)EE(n,e[a],t,i,r);else i=Lh(i)?!!i.capture:!!i,t=Zs(t),n&&n[vc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=zh(a=n.g[e],t,i,r))&&(bc(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Rm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=zh(e,t,i,r)),(t=-1<n?e[n]:null)&&xm(t))}function xm(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[vc])sv(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(av(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Rm(e))?(sv(t,n),0==t.h&&(t.src=null,e[Gh]=null)):bc(n)}}}function av(n){return n in Mm?Mm[n]:Mm[n]="on"+n}function CE(n,e){if(n.ca)n=!0;else{e=new $h(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&xm(n),n=t.call(i,e)}return n}function Rm(n){return(n=n[Gh])instanceof $u?n:null}var km="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zs(n){return"function"==typeof n?n:(n[km]||(n[km]=function(e){return n.handleEvent(e)}),n[km])}function Ei(){ua.call(this),this.i=new $u(this),this.P=this,this.I=null}function sr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new gr(e,n);else if(e instanceof gr)e.target=e.target||n;else{var r=e;pE(e=new gr(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];r=Om(u,i,!0,e)&&r}if(r=Om(u=e.g=n,i,!0,e)&&r,r=Om(u,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=Om(u=e.g=t[a],i,!1,e)&&r}function Om(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ca&&u.capture==t){var f=u.listener,g=u.ia||u.src;u.fa&&sv(n.i,u),r=!1!==f.call(g,i)&&r}}return r&&!i.defaultPrevented}Ki(Ei,ua),Ei.prototype[vc]=!0,Ei.prototype.removeEventListener=function(n,e,t,i){EE(this,n,e,t,i)},Ei.prototype.M=function(){if(Ei.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)bc(t[i]);delete n.g[e],n.h--}}this.I=null},Ei.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ei.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var IE=en.JSON.stringify;function lv(){var n=fv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var dv,cv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new TE,n=>n.reset());class TE{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function SE(n){en.setTimeout(()=>{throw n},0)}function uv(n,e){dv||function MS(){var n=en.Promise.resolve(void 0);dv=function(){n.then(vk)}}(),hv||(dv(),hv=!0),fv.add(n,e)}var hv=!1,fv=new class DE{constructor(){this.h=this.g=null}add(e,t){const i=cv.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function vk(){for(var n;n=lv();){try{n.h.call(n.g)}catch(t){SE(t)}var e=cv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}hv=!1}function qh(n,e){Ei.call(this),this.h=n||1,this.g=e||en,this.j=gi(this.kb,this),this.l=Date.now()}function pv(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function mv(n,e,t){if("function"==typeof n)t&&(n=gi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=gi(n.handleEvent,n)}return 2147483647<Number(e)?-1:en.setTimeout(n,e||0)}function xS(n){n.g=mv(()=>{n.g=null,n.i&&(n.i=!1,xS(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ki(qh,Ei),(St=qh.prototype).da=!1,St.S=null,St.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),sr(this,"tick"),this.da&&(pv(this),this.start()))}},St.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},St.M=function(){qh.Z.M.call(this),pv(this),delete this.g};class bk extends ua{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:xS(this)}M(){super.M(),this.g&&(en.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wh(n){ua.call(this),this.h=n,this.g={}}Ki(Wh,ua);var AE=[];function gv(n,e,t,i){Array.isArray(t)||(t&&(AE[0]=t.toString()),t=AE);for(var r=0;r<t.length;r++){var a=TS(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function _v(n){tv(n.g,function(e,t){this.g.hasOwnProperty(t)&&xm(e)},n),n.g={}}function yv(){this.g=!0}function Kh(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function xE(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return IE(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Wh.prototype.M=function(){Wh.Z.M.call(this),_v(this)},Wh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yv.prototype.Aa=function(){this.g=!1},yv.prototype.info=function(){};var sl={},RE=null;function vv(){return RE=RE||new Ei}function bv(n){gr.call(this,sl.Ma,n)}function wc(n){const e=vv();sr(e,new bv(e,n))}function kE(n,e){gr.call(this,sl.STAT_EVENT,n),this.stat=e}function or(n){const e=vv();sr(e,new kE(e,n))}function OE(n,e){gr.call(this,sl.Na,n),this.size=e}function Zh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return en.setTimeout(function(){n()},e)}sl.Ma="serverreachability",Ki(bv,gr),sl.STAT_EVENT="statevent",Ki(kE,gr),sl.Na="timingevent",Ki(OE,gr);var Pm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},PE={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function wv(){}function Yh(){}wv.prototype.h=null;var Ev,Qs={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function FE(){gr.call(this,"d")}function Ec(){gr.call(this,"c")}function Nm(){}function Cc(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new Wh(this),this.P=Mo,this.W=new qh(n=Dm?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new LE}function LE(){this.i=null,this.g="",this.h=!1}Ki(FE,gr),Ki(Ec,gr),Ki(Nm,wv),Nm.prototype.g=function(){return new XMLHttpRequest},Nm.prototype.i=function(){return{}},Ev=new Nm;var Mo=45e3,Ic={},Vi={};function da(n,e,t){n.K=1,n.v=ef(ko(e)),n.s=t,n.U=!0,Qh(n,null)}function Qh(n,e){n.F=Date.now(),xo(n),n.A=ko(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),$m(t.h,"t",i),n.C=0,t=n.l.H,n.h=new LE,n.g=Uv(n.l,t?e:null,!n.s),0<n.O&&(n.L=new bk(gi(n.Ia,n,n.g),n.O)),gv(n.V,n.g,"readystatechange",n.gb),e=n.H?fE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),wc(1),function Ys(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),g=0;g<f.length;g++){var v=f[g].split("=");if(1<v.length){var I=v[0];v=v[1];var D=I.split("_");u=2<=D.length&&"type"==D[1]?u+(I+"=")+v+"&":u+(I+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function rs(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Fm(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=zu(n,t),r==Vi){4==e&&(n.o=4,or(14),i=!1),Kh(n.j,n.m,null,"[Incomplete Response]");break}if(r==Ic){n.o=4,or(15),Kh(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Kh(n.j,n.m,r,null),ol(n,r)}rs(n)&&r!=Vi&&r!=Ic&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,or(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Vv(e),e.L=!0,or(11))):(Kh(n.j,n.m,t,"[Invalid Chunked Response]"),Ds(n),Ro(n))}function zu(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Vi:(t=Number(e.substring(t,i)),isNaN(t)?Ic:(i+=1)+t>e.length?Vi:(e=e.substr(i,t),n.C=i+t,e))}function xo(n){n.Y=Date.now()+n.P,Dc(n,n.P)}function Dc(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Zh(gi(n.eb,n),e)}function ha(n){n.B&&(en.clearTimeout(n.B),n.B=null)}function Ro(n){0==n.l.G||n.I||Yu(n.l,n)}function Ds(n){ha(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,pv(n.W),_v(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function ol(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||zm(t.i,n)))if(t.I=n.N,!n.J&&zm(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Zu(t),ss(t)}Lv(t),or(18)}}else t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=Zh(gi(t.ab,t),6e3));if(1>=HE(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else hl(t,11)}else if((n.J||t.g==n)&&Zu(t),!Hh(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let v=r[e];if(t.U=v[0],v=v[1],2==t.G)if("c"==v[0]){t.J=v[1],t.la=v[2];const I=v[3];null!=I&&(t.ma=I,t.h.info("VER="+t.ma));const D=v[4];null!=D&&(t.za=D,t.h.info("SVER="+t.za));const x=v[5];null!=x&&"number"==typeof x&&0<x&&(t.K=i=1.5*x,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const P=n.g;if(P){const H=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(H){var a=i.i;!a.g&&(Ar(H,"spdy")||Ar(H,"quic")||Ar(H,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(Gm(a,a.h),a.h=null))}if(i.D){const ne=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(i.sa=ne,ri(i.F,i.D,ne))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((i=t).oa=Bv(i,i.H?i.la:null,i.W),u.J){qm(i.i,u);var f=u,g=i.K;g&&f.setTimeout(g),f.B&&(ha(f),xo(f)),i.g=u}else QE(i);0<t.l.length&&os(t)}else"stop"!=v[0]&&"close"!=v[0]||hl(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?hl(t,7):cf(t):"noop"!=v[0]&&t.j&&t.j.wa(v),t.A=0)}wc(4)}catch{}}function al(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ky(n)||"string"==typeof n)Uh(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Ky(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function Gu(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Ky(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}}function Tc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Tc)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function Lm(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];ll(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)ll(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function ll(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(St=Cc.prototype).setTimeout=function(n){this.P=n},St.gb=function(n){n=n.target;const e=this.L;e&&3==pa(n)?e.l():this.Ia(n)},St.Ia=function(n){try{if(n==this.g)e:{const I=pa(this.g);var e=this.g.Da();const D=this.g.ba();if(!(3>I)&&(3!=I||Dm||this.g&&(this.h.h||this.g.ga()||Pv(this.g)))){this.I||4!=I||7==e||wc(8==e||0>=D?3:2),ha(this);var t=this.g.ba();this.N=t;t:if(rs(this)){var i=Pv(this.g);n="";var r=i.length,a=4==pa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ds(this),Ro(this);var u="";break t}this.h.i=new en.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function wk(n,e,t,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,I,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hh(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,or(12),Ds(this),Ro(this);break e}Kh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ol(this,t)}this.U?(Fm(this,I,u),Dm&&this.i&&3==I&&(gv(this.V,this.W,"tick",this.fb),this.W.start())):(Kh(this.j,this.m,u,null),ol(this,u)),4==I&&Ds(this),this.i&&!this.I&&(4==I?Yu(this.l,this):(this.i=!1,xo(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,or(12)):(this.o=0,or(13)),Ds(this),Ro(this)}}}catch{}},St.fb=function(){if(this.g){var n=pa(this.g),e=this.g.ga();this.C<e.length&&(ha(this),Fm(this,n,e),this.i&&4!=n&&xo(this))}},St.cancel=function(){this.I=!0,Ds(this)},St.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function ME(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(wc(3),or(17)),Ds(this),this.o=2,Ro(this)):Dc(this,this.Y-n)},(St=Tc.prototype).R=function(){Lm(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},St.T=function(){return Lm(this),this.g.concat()},St.get=function(n,e){return ll(this.h,n)?this.h[n]:e},St.set=function(n,e){ll(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},St.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],a=this.get(r);n.call(e,a,r,this)}};var Cv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function cl(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof cl){this.g=void 0!==e?e:n.g,Xh(this,n.j),this.s=n.s,Jh(this,n.i),Vm(this,n.m),this.l=n.l,e=n.h;var t=new qu;t.i=e.i,e.g&&(t.g=new Tc(e.g),t.h=e.h),Iv(this,t),this.o=n.o}else n&&(t=String(n).match(Cv))?(this.g=!!e,Xh(this,t[1]||"",!0),this.s=tf(t[2]||""),Jh(this,t[3]||"",!0),Vm(this,t[4]),this.l=tf(t[5]||"",!0),Iv(this,t[6]||"",!0),this.o=tf(t[7]||"")):(this.g=!!e,this.h=new qu(null,this.g))}function ko(n){return new cl(n)}function Xh(n,e,t){n.j=t?tf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Jh(n,e,t){n.i=t?tf(e,!0):e}function Vm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Iv(n,e,t){e instanceof qu?(n.h=e,function kS(n,e){e&&!n.j&&(Oo(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(Sv(this,i),$m(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=ul(e,jm)),n.h=new qu(e,n.g))}function ri(n,e,t){n.h.set(e,t)}function ef(n){return ri(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function tf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ul(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Bm),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Bm(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}cl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ul(e,Um,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ul(e,Um,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(ul(t,"/"==t.charAt(0)?Hm:RS,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ul(t,BE)),n.join("")};var Um=/[#\/\?@]/g,RS=/[#\?:]/g,Hm=/[#\?]/g,jm=/[#\?@]/g,BE=/#/g;function qu(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Oo(n){n.g||(n.g=new Tc,n.h=0,n.i&&function VE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Sv(n,e){Oo(n),e=dl(n,e),ll(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,ll((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Lm(n)))}function Av(n,e){return Oo(n),e=dl(n,e),ll(n.g.h,e)}function $m(n,e,t){Sv(n,e),0<t.length&&(n.i=null,n.g.set(dl(n,e),dE(t)),n.h+=t.length)}function dl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Mv(n){this.l=n||xv,n=en.PerformanceNavigationTiming?0<(n=en.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(en.g&&en.g.Ea&&en.g.Ea()&&en.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(St=qu.prototype).add=function(n,e){Oo(this),this.i=null,n=dl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},St.forEach=function(n,e){Oo(this),this.g.forEach(function(t,i){Uh(t,function(r){n.call(e,r,i,this)},this)},this)},St.T=function(){Oo(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],a=0;a<r.length;a++)t.push(e[i]);return t},St.R=function(n){Oo(this);var e=[];if("string"==typeof n)Av(this,n)&&(e=Jy(e,this.g.get(dl(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Jy(e,n[t])}return e},St.set=function(n,e){return Oo(this),this.i=null,Av(this,n=dl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},St.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},St.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var a=0;a<i.length;a++){var u=r;""!==i[a]&&(u+="="+encodeURIComponent(String(i[a]))),n.push(u)}}return this.i=n.join("&")};var xv=10;function Rv(n){return!!n.h||!!n.g&&n.g.size>=n.j}function HE(n){return n.h?1:n.g?n.g.size:0}function zm(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Gm(n,e){n.g?n.g.add(e):n.h=e}function qm(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function nf(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return dE(n.i)}function Wm(){}function jE(){this.g=new Wm}function $E(n,e,t){const i=t||"";try{al(n,function(r,a){let u=r;Lh(r)&&(u=IE(r)),e.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function rf(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Wu(n){this.l=n.$b||null,this.j=n.ib||!1}function sf(n,e){Ei.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Km,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mv.prototype.cancel=function(){if(this.i=nf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Wm.prototype.stringify=function(n){return en.JSON.stringify(n,void 0)},Wm.prototype.parse=function(n){return en.JSON.parse(n,void 0)},Ki(Wu,wv),Wu.prototype.g=function(){return new sf(this.l,this.j)},Wu.prototype.i=function(n){return function(){return n}}({}),Ki(sf,Ei);var Km=0;function OS(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function af(n){n.readyState=4,n.l=null,n.j=null,n.A=null,lf(n)}function lf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(St=sf.prototype).open=function(n,e){if(this.readyState!=Km)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,lf(this)},St.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||en).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},St.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,af(this)),this.readyState=Km},St.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,lf(this)),this.g&&(this.readyState=3,lf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof en.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OS(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},St.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?af(this):lf(this),3==this.readyState&&OS(this)}},St.Ua=function(n){this.g&&(this.response=this.responseText=n,af(this))},St.Ta=function(n){this.g&&(this.response=n,af(this))},St.ha=function(){this.g&&af(this)},St.setRequestHeader=function(n,e){this.v.append(n,e)},St.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},St.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(sf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var GE=en.JSON.parse;function Mi(n){Ei.call(this),this.headers=new Tc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xi,this.K=this.L=!1}Ki(Mi,Ei);var xi="",qE=/^https?$/i,PS=["POST","PUT"];function WE(n){return"content-type"==n.toLowerCase()}function KE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,kv(n),fa(n)}function kv(n){n.D||(n.D=!0,sr(n,"complete"),sr(n,"error"))}function Ov(n){if(n.h&&typeof Nh<"u"&&(!n.C[1]||4!=pa(n)||2!=n.ba()))if(n.v&&4==pa(n))mv(n.Fa,0,n);else if(sr(n,"readystatechange"),4==pa(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(Cv)[1]||null;if(!r&&en.self&&en.self.location){var a=en.self.location.protocol;r=a.substr(0,a.length-1)}i=!qE.test(r?r.toLowerCase():"")}t=i}if(t)sr(n,"complete"),sr(n,"success");else{n.m=6;try{var u=2<pa(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.ba()+"]",kv(n)}}finally{fa(n)}}}function fa(n,e){if(n.g){ZE(n);const t=n.g,i=n.C[0]?Fh:null;n.g=null,n.C=null,e||sr(n,"ready");try{t.onreadystatechange=i}catch{}}}function ZE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(en.clearTimeout(n.A),n.A=null)}function pa(n){return n.g?n.g.readyState:0}function Pv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case xi:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Zm(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function FS(n){let e="";return tv(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ri(n,e,t))}function Ym(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Qm(n){this.za=0,this.l=[],this.h=new yv,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ym("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ym("baseRetryDelayMs",5e3,n),this.$a=Ym("retryDelaySeedMs",1e4,n),this.Ya=Ym("forwardChannelMaxRetries",2,n),this.ra=Ym("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Mv(n&&n.concurrentRequestLimit),this.Ca=new jE,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function cf(n){if(YE(n),3==n.G){var e=n.V++,t=ko(n.F);ri(t,"SID",n.J),ri(t,"RID",e),ri(t,"TYPE","terminate"),Ku(n,t),(e=new Cc(n,n.h,e,void 0)).K=2,e.v=ef(ko(t)),t=!1,en.navigator&&en.navigator.sendBeacon&&(t=en.navigator.sendBeacon(e.v.toString(),"")),!t&&en.Image&&((new Image).src=e.v,t=!0),t||(e.g=Uv(e.l,null),e.g.ea(e.v)),e.F=Date.now(),xo(e)}eC(n)}function ss(n){n.g&&(Vv(n),n.g.cancel(),n.g=null)}function YE(n){ss(n),n.u&&(en.clearTimeout(n.u),n.u=null),Zu(n),n.i.cancel(),n.m&&("number"==typeof n.m&&en.clearTimeout(n.m),n.m=null)}function Nv(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&os(n)}function os(n){Rv(n.i)||n.m||(n.m=!0,uv(n.Ha,n),n.C=0)}function Ts(n,e){var t;t=e?e.m:n.V++;const i=ko(n.F);ri(i,"SID",n.J),ri(i,"RID",t),ri(i,"AID",n.U),Ku(n,i),n.o&&n.s&&Zm(i,n.o,n.s),t=new Cc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Fv(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Gm(n.i,t),da(t,i,e)}function Ku(n,e){n.j&&al({},function(t,i){ri(e,i,t)})}function Fv(n,e,t){t=Math.min(n.l.length,t);var i=n.j?gi(n.j.Oa,n.j,n):null;e:{var r=n.l;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let g=0;g<t;g++){let v=r[g].h;const I=r[g].g;if(v-=a,0>v)a=Math.max(0,r[g].h-100),f=!1;else try{$E(I,u,"req"+v+"_")}catch{i&&i(I)}}if(f){i=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function QE(n){n.g||n.u||(n.Y=1,uv(n.Ga,n),n.A=0)}function Lv(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Zh(gi(n.Ga,n),JE(n,n.A)),n.A++,0))}function Vv(n){null!=n.B&&(en.clearTimeout(n.B),n.B=null)}function XE(n){n.g=new Cc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ko(n.oa);ri(e,"RID","rpc"),ri(e,"SID",n.J),ri(e,"CI",n.N?"0":"1"),ri(e,"AID",n.U),Ku(n,e),ri(e,"TYPE","xmlhttp"),n.o&&n.s&&Zm(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=ef(ko(e)),t.s=null,t.U=!0,Qh(t,n)}function Zu(n){null!=n.v&&(en.clearTimeout(n.v),n.v=null)}function Yu(n,e){var t=null;if(n.g==e){Zu(n),Vv(n),n.g=null;var i=2}else{if(!zm(n.i,e))return;t=e.D,qm(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;sr(i=vv(),new OE(i,t,e,r)),os(n)}else QE(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function Xs(n,e){return!(HE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Zh(gi(n.Ha,n,e),JE(n,n.C)),n.C++,0)))}(n,e)||2==i&&Lv(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:hl(n,5);break;case 4:hl(n,10);break;case 3:hl(n,6);break;default:hl(n,2)}}function JE(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function hl(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=gi(n.jb,n);t||(t=new cl("//www.google.com/images/cleardot.gif"),en.location&&"http"==en.location.protocol||Xh(t,"https"),ef(t)),function zE(n,e){const t=new yv;if(en.Image){const i=new Image;i.onload=Cm(rf,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Cm(rf,t,i,"TestLoadImage: error",!1,e),i.onabort=Cm(rf,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Cm(rf,t,i,"TestLoadImage: timeout",!1,e),en.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else or(2);n.G=0,n.j&&n.j.va(e),eC(n),YE(n)}function eC(n){n.G=0,n.I=-1,n.j&&((0!=nf(n.i).length||0!=n.l.length)&&(n.i.i.length=0,dE(n.l),n.l.length=0),n.j.ua())}function Bv(n,e,t){let i=function Dv(n){return n instanceof cl?ko(n):new cl(n,void 0)}(t);if(""!=i.i)e&&Jh(i,e+"."+i.i),Vm(i,i.m);else{const r=en.location;i=function Tv(n,e,t,i){var r=new cl(null,void 0);return n&&Xh(r,n),e&&Jh(r,e),t&&Vm(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&tv(n.aa,function(r,a){ri(i,a,r)}),t=n.sa,(e=n.D)&&t&&ri(i,e,t),ri(i,"VER",n.ma),Ku(n,i),i}function Uv(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Mi(t&&n.Ba&&!n.qa?new Wu({ib:!0}):n.qa)).L=n.H,e}function uf(){}function Xm(){if(ju&&!(10<=Number(yk)))throw Error("Environmental error: no available transport.")}function $r(n,e){Ei.call(this),this.g=new Qm(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Hh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hh(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ma(this)}function Hv(n){FE.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Jm(){Ec.call(this),this.status=1}function ma(n){this.g=n}(St=Mi.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ev.g(),this.C=function NE(n){return n.h||(n.h=n.i())}(this.u?this.u:Ev),this.g.onreadystatechange=gi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void KE(this,a)}n=t||"";const r=new Tc(this.headers);i&&al(i,function(a,u){r.set(u,a)}),i=function bS(n){e:{var e=WE;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=en.FormData&&n instanceof en.FormData,!(0<=Xy(PS,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ZE(this),0<this.B&&((this.K=function NS(n){return ju&&function iv(){return function mE(n){var e=Ao;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=ev(String(Tm)).split("."),t=ev("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",a=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=Im(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||Im(0==r[2].length,0==a[2].length)||Im(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gi(this.pa,this)):this.A=mv(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){KE(this,a)}},St.pa=function(){typeof Nh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,sr(this,"timeout"),this.abort(8))},St.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,sr(this,"complete"),sr(this,"abort"),fa(this))},St.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fa(this,!0)),Mi.Z.M.call(this)},St.Fa=function(){this.s||(this.F||this.v||this.l?Ov(this):this.cb())},St.cb=function(){Ov(this)},St.ba=function(){try{return 2<pa(this)?this.g.status:-1}catch{return-1}},St.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},St.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),GE(e)}},St.Da=function(){return this.m},St.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(St=Qm.prototype).ma=8,St.G=1,St.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},St.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Cc(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=fE(a),pE(a,this.P)):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Fv(this,r,e),ri(t=ko(this.F),"RID",n),ri(t,"CVER",22),this.D&&ri(t,"X-HTTP-Session-Id",this.D),Ku(this,t),this.o&&a&&Zm(t,this.o,a),Gm(this.i,r),this.Ra&&ri(t,"TYPE","init"),this.ja?(ri(t,"$req",e),ri(t,"SID","null"),r.$=!0,da(r,t,null)):da(r,t,e),this.G=2}}else 3==this.G&&(n?Ts(this,n):0==this.l.length||Rv(this.i)||Ts(this))},St.Ga=function(){if(this.u=null,XE(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Zh(gi(this.bb,this),n)}},St.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,or(10),ss(this),XE(this))},St.ab=function(){null!=this.v&&(this.v=null,ss(this),Lv(this),or(19))},St.jb=function(n){n?(this.h.info("Successfully pinged google.com"),or(2)):(this.h.info("Failed to ping google.com"),or(1))},(St=uf.prototype).xa=function(){},St.wa=function(){},St.va=function(){},St.ua=function(){},St.Oa=function(){},Xm.prototype.g=function(n,e){return new $r(n,e)},Ki($r,Ei),$r.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),uv(gi(n.hb,n,e))),or(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Bv(n,null,n.W),os(n)},$r.prototype.close=function(){cf(this.g)},$r.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Nv(this.g,e)}else this.v?((e={}).__data__=IE(n),Nv(this.g,e)):Nv(this.g,n)},$r.prototype.M=function(){this.g.j=null,delete this.j,cf(this.g),delete this.g,$r.Z.M.call(this)},Ki(Hv,FE),Ki(Jm,Ec),Ki(ma,uf),ma.prototype.xa=function(){sr(this.g,"a")},ma.prototype.wa=function(n){sr(this.g,new Hv(n))},ma.prototype.va=function(n){sr(this.g,new Jm(n))},ma.prototype.ua=function(){sr(this.g,"b")},Xm.prototype.createWebChannel=Xm.prototype.g,$r.prototype.send=$r.prototype.u,$r.prototype.open=$r.prototype.m,$r.prototype.close=$r.prototype.close,Pm.NO_ERROR=0,Pm.TIMEOUT=8,Pm.HTTP_ERROR=6,PE.COMPLETE="complete",Yh.EventType=Qs,Qs.OPEN="a",Qs.CLOSE="b",Qs.ERROR="c",Qs.MESSAGE="d",Ei.prototype.listen=Ei.prototype.N,Mi.prototype.listenOnce=Mi.prototype.O,Mi.prototype.getLastError=Mi.prototype.La,Mi.prototype.getLastErrorCode=Mi.prototype.Da,Mi.prototype.getStatus=Mi.prototype.ba,Mi.prototype.getResponseJson=Mi.prototype.Qa,Mi.prototype.getResponseText=Mi.prototype.ga,Mi.prototype.send=Mi.prototype.ea;var tC=So.createWebChannelTransport=function(){return new Xm},nC=So.getStatEventTarget=function(){return vv()},eg=So.ErrorCode=Pm,iC=So.EventType=PE,rC=So.Event=sl,jv=So.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},sC=So.FetchXmlHttpFactory=Wu,df=So.WebChannel=Yh,LS=So.XhrIo=Mi;const oC="@firebase/firestore";class Zi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zi.UNAUTHENTICATED=new Zi(null),Zi.GOOGLE_CREDENTIALS=new Zi("google-credentials-uid"),Zi.FIRST_PARTY=new Zi("first-party-uid"),Zi.MOCK_USER=new Zi("mock-user");let Qu="9.8.4";const fl=new qs.Yd("@firebase/firestore");function $v(){return fl.logLevel}function Qe(n,...e){if(fl.logLevel<=qs.in.DEBUG){const t=e.map(zv);fl.debug(`Firestore (${Qu}): ${n}`,...t)}}function Ri(n,...e){if(fl.logLevel<=qs.in.ERROR){const t=e.map(zv);fl.error(`Firestore (${Qu}): ${n}`,...t)}}function hf(n,...e){if(fl.logLevel<=qs.in.WARN){const t=e.map(zv);fl.warn(`Firestore (${Qu}): ${n}`,...t)}}function zv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function At(n="Unexpected state"){const e=`FIRESTORE (${Qu}) INTERNAL ASSERTION FAILED: `+n;throw Ri(e),new Error(e)}function Gt(n,e){n||At()}function mt(n,e){return n}const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends Qt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Gv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zi.UNAUTHENTICATED))}shutdown(){}}class lC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class cC{constructor(e){this.t=e,this.currentUser=Zi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=v=>this.i!==r?(r=this.i,t(v)):Promise.resolve();let u=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Yi,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const v=u;e.enqueueRetryable((0,xe.Z)(function*(){yield v.promise,yield a(i.currentUser)}))},g=v=>{Qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(Qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Yi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Gt("string"==typeof i.accessToken),new Gv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Gt(null===e||"string"==typeof e),new Zi(e)}}class uC{constructor(e,t,i){this.type="FirstParty",this.user=Zi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class dC{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new uC(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Zi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hC{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=a=>{null!=a.error&&Qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.p;return this.p=a.token,Qe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?r(a):Qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Gt("string"==typeof t.token),this.p=t.token,new qv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Wv(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class tg{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=Wv(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function qt(n,e){return n<e?-1:n>e?1:0}function Xu(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function fC(n){return n+"\0"}class Pn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ke(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ke(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ke(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pn.fromMillis(Date.now())}static fromDate(e){return Pn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Pn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Wt(e)}static min(){return new Wt(new Pn(0,0))}static max(){return new Wt(new Pn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Sc{constructor(e,t,i){void 0===t?t=0:t>e.length&&At(),void 0===i?i=e.length-t:i>e.length-t&&At(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Sc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sc?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),u=t.get(r);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class En extends Sc{construct(e,t,i){return new En(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ke(Te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new En(t)}static emptyPath(){return new En([])}}const pC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _i extends Sc{construct(e,t,i){return new _i(e,t,i)}static isValidIdentifier(e){return pC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_i.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _i(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Ke(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Ke(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Ke(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(a(),r++)}if(a(),u)throw new Ke(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _i(t)}static emptyPath(){return new _i([])}}class ht{constructor(e){this.path=e}static fromPath(e){return new ht(En.fromString(e))}static fromName(e){return new ht(En.fromString(e).popFirst(5))}static empty(){return new ht(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===En.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return En.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new En(e.slice()))}}class Ft{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Kv(n){return n.fields.find(e=>2===e.kind)}function Ac(n){return n.fields.filter(e=>2!==e.kind)}Ft.UNKNOWN_ID=-1;class ng{constructor(e,t){this.fieldPath=e,this.kind=t}}class Po{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Po(0,_r.min())}}function mC(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Wt.fromTimestamp(1e9===i?new Pn(t+1,0):new Pn(t,i));return new _r(r,ht.empty(),e)}function ff(n){return new _r(n.readTime,n.key,-1)}class _r{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new _r(Wt.min(),ht.empty(),-1)}static max(){return new _r(Wt.max(),ht.empty(),-1)}}function si(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ht.comparator(n.documentKey,e.documentKey),0!==t?t:qt(n.largestBatchId,e.largestBatchId))}const HS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ga(n){return Yv.apply(this,arguments)}function Yv(){return Yv=(0,xe.Z)(function*(n){if(n.code!==Te.FAILED_PRECONDITION||n.message!==HS)throw n;Qe("LocalStore","Unexpectedly lost primary lease")}),Yv.apply(this,arguments)}class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&At(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(t){return ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.reject(t)}static resolve(e){return new ye((t,i)=>{t(e)})}static reject(e){return new ye((t,i)=>{i(e)})}static waitFor(e){return new ye((t,i)=>{let r=0,a=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++a,u&&a===r&&t()},g=>i(g))}),u=!0,a===r&&t()})}static or(e){let t=ye.resolve(!1);for(const i of e)t=t.next(r=>r?ye.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new ye((i,r)=>{const a=e.length,u=new Array(a);let f=0;for(let g=0;g<a;g++){const v=g;t(e[v]).next(I=>{u[v]=I,++f,f===a&&i(u)},I=>r(I))}})}static doWhile(e,t){return new ye((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class pf{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new Yi,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new mf(e,t.error)):this.T.resolve()},this.transaction.onerror=i=>{const r=Qv(i.target.error);this.T.reject(new mf(e,r))}}static open(e,t,i,r){try{return new pf(t,e.transaction(r,i))}catch(a){throw new mf(t,a)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Qe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new jS(t)}}class Ss{constructor(e,t,i){this.name=e,this.version=t,this.P=i,12.2===Ss.v((0,Qt.z$)())&&Ri("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Qe("SimpleDb","Removing database:",e),Js(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,Qt.hl)())return!1;if(Ss.S())return!0;const e=(0,Qt.z$)(),t=Ss.v(e),i=0<t&&t<10,r=Ss.D(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(e){var t=this;return(0,xe.Z)(function*(){return t.db||(Qe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new mf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new Ke(Te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ke(Te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new mf(e,f))},a.onupgradeneeded=u=>{Qe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.P.O(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Qe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=i=>t.M(i)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,xe.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.k(e);const g=pf.open(a.db,e,u?"readonly":"readwrite",i),v=r(g).next(I=>(g.R(),I)).catch(I=>(g.abort(I),ye.reject(I))).toPromise();return v.catch(()=>{}),yield g.A,v}catch(g){const v=g,I="FirebaseError"!==v.name&&f<3;if(Qe("SimpleDb","Transaction failed with error:",v.message,"Retrying:",I),a.close(),!I)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gC{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Js(this.$.delete())}}class mf extends Ke{constructor(e,t){super(Te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function pl(n){return"IndexedDbTransactionError"===n.name}class jS{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Qe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Qe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Js(i)}add(e){return Qe("SimpleDb","ADD",this.store.name,e,e),Js(this.store.add(e))}get(e){return Js(this.store.get(e)).next(t=>(void 0===t&&(t=null),Qe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Qe("SimpleDb","DELETE",this.store.name,e),Js(this.store.delete(e))}count(){return Qe("SimpleDb","COUNT",this.store.name),Js(this.store.count())}K(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.G(r,(u,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new ye((a,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ye((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}W(e,t){Qe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.H=!1;const r=this.cursor(i);return this.G(r,(a,u,f)=>f.delete())}J(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Y(e){const t=this.cursor({});return new ye((i,r)=>{t.onerror=a=>{const u=Qv(a.target.error);r(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}G(e,t){const i=[];return new ye((r,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const g=new gC(f),v=t(f.primaryKey,f.value,g);if(v instanceof ye){const I=v.catch(D=>(g.done(),ye.reject(D)));i.push(I)}g.isDone?r():null===g.U?f.continue():f.continue(g.U)}}).next(()=>ye.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Js(n){return new ye((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=Qv(i.target.error);t(r)}})}let _C=!1;function Qv(n){const e=Ss.v((0,Qt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _C||(_C=!0,setTimeout(()=>{throw i},0)),i}}return n}class $S{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;Qe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,xe.Z)(function*(){t.task=null;try{Qe("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(i){pl(i)?Qe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield ga(i)}yield t.Z(1)}))}}class ig{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,xe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.et(i,e))})()}et(e,t){const i=new Set;let r=t,a=!0;return ye.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Qe("IndexBackiller",`Processing collection: ${u}`),this.nt(e,u,r).next(f=>{r-=f,i.add(u)});a=!1})).next(()=>t-r)}nt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.st(r,a)).next(f=>(Qe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}st(e,t){let i=e;return t.changes.forEach((r,a)=>{const u=ff(a);si(u,i)>0&&(i=u)}),new _r(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class xr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.it(i),this.rt=i=>t.writeSequenceNumber(i))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function Xv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ml(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function yC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}xr.ot=-1;class Gn{constructor(e,t){this.comparator=e,this.root=t||ar.EMPTY}insert(e,t){return new Gn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ar.BLACK,null,null))}remove(e){return new Gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ar.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gl(this.root,e,this.comparator,!1)}getReverseIterator(){return new gl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gl(this.root,e,this.comparator,!0)}}class gl{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ar{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??ar.RED,this.left=r??ar.EMPTY,this.right=a??ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new ar(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ar.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw At();const e=this.left.check();if(e!==this.right.check())throw At();return e+(this.isRed()?0:1)}}ar.EMPTY=null,ar.RED=!0,ar.BLACK=!1,ar.EMPTY=new class{constructor(){this.size=0}get key(){throw At()}get value(){throw At()}get color(){throw At()}get left(){throw At()}get right(){throw At()}copy(n,e,t,i,r){return this}insert(n,e,t){return new ar(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fn{constructor(e){this.comparator=e,this.data=new Gn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vC(this.data.getIterator())}getIteratorFrom(e){return new vC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fn(this.comparator);return t.data=e,t}}class vC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Mc(n){return n.hasNext()?n.getNext():void 0}class zr{constructor(e){this.fields=e,e.sort(_i.comparator)}static empty(){return new zr([])}unionWith(e){let t=new Fn(_i.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new zr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xu(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Bi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Bi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new Bi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bi.EMPTY_BYTE_STRING=new Bi("");const wC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _l(n){if(Gt(!!n),"string"==typeof n){let e=0;const t=wC.exec(n);if(Gt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:yi(n.seconds),nanos:yi(n.nanos)}}function yi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ju(n){return"string"==typeof n?Bi.fromBase64String(n):Bi.fromUint8Array(n)}function EC(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function zS(n){const e=n.mapValue.fields.__previous_value__;return EC(e)?zS(e):e}function rg(n){const e=_l(n.mapValue.fields.__local_write_time__.timestampValue);return new Pn(e.seconds,e.nanos)}class CC{constructor(e,t,i,r,a,u,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=g}}class As{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new As("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof As&&e.projectId===this.projectId&&e.database===this.database}}function gf(n){return null==n}function _f(n){return 0===n&&1/n==-1/0}function Jv(n){return"number"==typeof n&&Number.isInteger(n)&&!_f(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Ms={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},sg={nullValue:"NULL_VALUE"};function xc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?EC(n)?4:DC(n)?9007199254740991:10:At()}function No(n,e){if(n===e)return!0;const t=xc(n);if(t!==xc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return rg(n).isEqual(rg(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=_l(i.timestampValue),u=_l(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Ju(n.bytesValue).isEqual(Ju(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return yi(i.geoPointValue.latitude)===yi(r.geoPointValue.latitude)&&yi(i.geoPointValue.longitude)===yi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return yi(i.integerValue)===yi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=yi(i.doubleValue),u=yi(r.doubleValue);return a===u?_f(a)===_f(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return Xu(n.arrayValue.values||[],e.arrayValue.values||[],No);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(Xv(a)!==Xv(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!No(a[f],u[f])))return!1;return!0}(n,e);default:return At()}var r}function yf(n,e){return void 0!==(n.values||[]).find(t=>No(t,e))}function yl(n,e){if(n===e)return 0;const t=xc(n),i=xc(e);if(t!==i)return qt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return qt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const u=yi(r.integerValue||r.doubleValue),f=yi(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return eb(n.timestampValue,e.timestampValue);case 4:return eb(rg(n),rg(e));case 5:return qt(n.stringValue,e.stringValue);case 6:return function(r,a){const u=Ju(r),f=Ju(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const u=r.split("/"),f=a.split("/");for(let g=0;g<u.length&&g<f.length;g++){const v=qt(u[g],f[g]);if(0!==v)return v}return qt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const u=qt(yi(r.latitude),yi(a.latitude));return 0!==u?u:qt(yi(r.longitude),yi(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const u=r.values||[],f=a.values||[];for(let g=0;g<u.length&&g<f.length;++g){const v=yl(u[g],f[g]);if(v)return v}return qt(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===Ms.mapValue&&a===Ms.mapValue)return 0;if(r===Ms.mapValue)return 1;if(a===Ms.mapValue)return-1;const u=r.fields||{},f=Object.keys(u),g=a.fields||{},v=Object.keys(g);f.sort(),v.sort();for(let I=0;I<f.length&&I<v.length;++I){const D=qt(f[I],v[I]);if(0!==D)return D;const x=yl(u[f[I]],g[v[I]]);if(0!==x)return x}return qt(f.length,v.length)}(n.mapValue,e.mapValue);default:throw At()}}function eb(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return qt(n,e);const t=_l(n),i=_l(e),r=qt(t.seconds,i.seconds);return 0!==r?r:qt(t.nanos,i.nanos)}function ed(n){return tb(n)}function tb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=_l(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ju(n.bytesValue).toBase64():"referenceValue"in n?ht.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=tb(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${tb(i.fields[f])}`;return a+"}"}(n.mapValue):At();var e}function xs(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function nb(n){return!!n&&"integerValue"in n}function td(n){return!!n&&"arrayValue"in n}function IC(n){return!!n&&"nullValue"in n}function ib(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function og(n){return!!n&&"mapValue"in n}function nd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ml(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=nd(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function DC(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function rb(n){return"nullValue"in n?sg:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?xs(As.empty(),ht.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:At()}function GS(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?xs(As.empty(),ht.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ms:At()}function sb(n,e){const t=yl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function ob(n,e){const t=yl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!og(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nd(t)}setAll(e){let t=_i.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=nd(u):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());og(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return No(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];og(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){ml(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new lr(nd(this.value))}}function TC(n){const e=[];return ml(n.fields,(t,i)=>{const r=new _i([t]);if(og(i)){const a=TC(i.mapValue).fields;if(0===a.length)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new zr(e)}class qn{constructor(e,t,i,r,a,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=a,this.documentState=u}static newInvalidDocument(e){return new qn(e,0,Wt.min(),Wt.min(),lr.empty(),0)}static newFoundDocument(e,t,i){return new qn(e,1,t,Wt.min(),i,0)}static newNoDocument(e,t){return new qn(e,2,t,Wt.min(),lr.empty(),0)}static newUnknownDocument(e,t){return new qn(e,3,t,Wt.min(),lr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ab{constructor(e,t=null,i=[],r=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=f,this.ut=null}}function SC(n,e=null,t=[],i=[],r=null,a=null,u=null){return new ab(n,e,t,i,r,a,u)}function vl(n){const e=mt(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+ed(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),gf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ed(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ed(i)).join(",")),e.ut=t}return e.ut}function vf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!lb(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!No(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cg(n.startAt,e.startAt)&&cg(n.endAt,e.endAt)}function ag(n){return ht.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function lg(n,e){return n.filters.filter(t=>t instanceof cr&&t.field.isEqual(e))}function AC(n,e,t){let i=sg,r=!0;for(const a of lg(n,e)){let u=sg,f=!0;switch(a.op){case"<":case"<=":u=rb(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=sg}sb({value:i,inclusive:r},{value:u,inclusive:f})<0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];sb({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function MC(n,e,t){let i=Ms,r=!0;for(const a of lg(n,e)){let u=Ms,f=!0;switch(a.op){case">=":case">":u=GS(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=Ms}ob({value:i,inclusive:r},{value:u,inclusive:f})>0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];ob({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class cr extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,i):new WS(e,t,i):"array-contains"===t?new KS(e,i):"in"===t?new OC(e,i):"not-in"===t?new ZS(e,i):"array-contains-any"===t?new YS(e,i):new cr(e,t,i)}static ct(e,t,i){return"in"===t?new xC(e,i):new RC(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(yl(t,this.value)):null!==t&&xc(this.value)===xc(t)&&this.at(yl(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return At()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class WS extends cr{constructor(e,t,i){super(e,t,i),this.key=ht.fromName(i.referenceValue)}matches(e){const t=ht.comparator(e.key,this.key);return this.at(t)}}class xC extends cr{constructor(e,t){super(e,"in",t),this.keys=kC(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class RC extends cr{constructor(e,t){super(e,"not-in",t),this.keys=kC(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kC(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ht.fromName(i.referenceValue))}class KS extends cr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return td(t)&&yf(t.arrayValue,this.value)}}class OC extends cr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&yf(this.value.arrayValue,t)}}class ZS extends cr{constructor(e,t){super(e,"not-in",t)}matches(e){if(yf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!yf(this.value.arrayValue,t)}}class YS extends cr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!td(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>yf(this.value.arrayValue,i))}}class bl{constructor(e,t){this.position=e,this.inclusive=t}}class wl{constructor(e,t="asc"){this.field=e,this.dir=t}}function lb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function cb(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(i=a.field.isKeyField()?ht.comparator(ht.fromName(u.referenceValue),t.key):yl(u,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function cg(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!No(n.position[t],e.position[t]))return!1;return!0}class _a{constructor(e,t=null,i=[],r=[],a=null,u="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=g,this.lt=null,this.ft=null}}function PC(n,e,t,i,r,a,u,f){return new _a(n,e,t,i,r,a,u,f)}function El(n){return new _a(n)}function ug(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function ub(n){for(const e of n.filters)if(e.ht())return e.field;return null}function dg(n){return null!==n.collectionGroup}function bf(n){const e=mt(n);if(null===e.lt){e.lt=[];const t=ub(e),i=ug(e);if(null!==t&&null===i)t.isKeyField()||e.lt.push(new wl(t)),e.lt.push(new wl(_i.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.lt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new wl(_i.keyField(),a))}}}return e.lt}function Rs(n){const e=mt(n);if(!e.ft)if("F"===e.limitType)e.ft=SC(e.path,e.collectionGroup,bf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of bf(e))t.push(new wl(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new bl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new bl(e.startAt.position,e.startAt.inclusive):null;e.ft=SC(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.ft}function id(n,e,t){return new _a(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function eo(n,e){return vf(Rs(n),Rs(e))&&n.limitType===e.limitType}function db(n){return`${vl(Rs(n))}|lt:${n.limitType}`}function hb(n){return`Query(target=${function qS(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${ed(i.value)}`;var i}).join(", ")}]`),gf(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>ed(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>ed(t)).join(",")),`Target(${e})`}(Rs(n))}; limitType=${n.limitType})`}function hg(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):ht.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,u){const f=cb(r,a,u);return r.inclusive?f<=0:f<0}(t.startAt,bf(t),i)||t.endAt&&!function(r,a,u){const f=cb(r,a,u);return r.inclusive?f>=0:f>0}(t.endAt,bf(t),i)));var t,i}function NC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Rc(n){return(e,t)=>{let i=!1;for(const r of bf(n)){const a=wf(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function wf(n,e,t){const i=n.field.isKeyField()?ht.comparator(e.key,t.key):function(r,a,u){const f=a.data.field(r),g=u.data.field(r);return null!==f&&null!==g?yl(f,g):At()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return At()}}function FC(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_f(e)?"-0":e}}function XS(n){return{integerValue:""+n}}function fb(n,e){return Jv(e)?XS(e):FC(n,e)}class fg{constructor(){this._=void 0}}function JS(n,e,t){return n instanceof kc?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof Cl?pg(n,e):n instanceof Fo?rd(n,e):function(i,r){const a=LC(i,r),u=mg(a)+mg(i._t);return nb(a)&&nb(i._t)?XS(u):FC(i.wt,u)}(n,e)}function eA(n,e,t){return n instanceof Cl?pg(n,e):n instanceof Fo?rd(n,e):t}function LC(n,e){return n instanceof sd?nb(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class kc extends fg{}class Cl extends fg{constructor(e){super(),this.elements=e}}function pg(n,e){const t=pb(e);for(const i of n.elements)t.some(r=>No(r,i))||t.push(i);return{arrayValue:{values:t}}}class Fo extends fg{constructor(e){super(),this.elements=e}}function rd(n,e){let t=pb(e);for(const i of n.elements)t=t.filter(r=>!No(r,i));return{arrayValue:{values:t}}}class sd extends fg{constructor(e,t){super(),this.wt=e,this._t=t}}function mg(n){return yi(n.integerValue||n.doubleValue)}function pb(n){return td(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ef{constructor(e,t){this.field=e,this.transform=t}}class mb{constructor(e,t){this.version=e,this.transformResults=t}}class ci{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class gg{}function VC(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ad(n.key,ci.none()):new od(n.key,n.data,ci.none());{const t=n.data,i=lr.empty();let r=new Fn(_i.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?i.delete(a):i.set(a,u),r=r.add(a)}return new ya(n.key,i,new zr(r.toArray()),ci.none())}}function BC(n,e,t){n instanceof od?function(i,r,a){const u=i.value.clone(),f=HC(i.fieldTransforms,r,a.transformResults);u.setAll(f),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof ya?function(i,r,a){if(!gb(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=HC(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(UC(i)),f.setAll(u),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Oc(n,e,t,i){return n instanceof od?function(r,a,u,f){if(!gb(r.precondition,a))return u;const g=r.value.clone(),v=_b(r.fieldTransforms,f,a);return g.setAll(v),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof ya?function(r,a,u,f){if(!gb(r.precondition,a))return u;const g=_b(r.fieldTransforms,f,a),v=a.data;return v.setAll(UC(r)),v.setAll(g),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(I=>I.field))}(n,e,t,i):(u=t,gb(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function nA(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=LC(i.transform,r||null);null!=a&&(null===t&&(t=lr.empty()),t.set(i.field,a))}return t||null}function _g(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Xu(t,i,(r,a)=>function tA(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Cl&&i instanceof Cl||t instanceof Fo&&i instanceof Fo?Xu(t.elements,i.elements,No):t instanceof sd&&i instanceof sd?No(t._t,i._t):t instanceof kc&&i instanceof kc);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class od extends gg{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ya extends gg{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function UC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function HC(n,e,t){const i=new Map;Gt(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,f=e.data.field(a.field);i.set(a.field,eA(u,f,t[r]))}return i}function _b(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,JS(a,u,e))}return i}class ad extends gg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yb extends gg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iA{constructor(e){this.count=e}}var ki,vn;function jC(n){switch(n){default:return At();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0}}function $C(n){if(void 0===n)return Ri("GRPC error has no .code"),Te.UNKNOWN;switch(n){case ki.OK:return Te.OK;case ki.CANCELLED:return Te.CANCELLED;case ki.UNKNOWN:return Te.UNKNOWN;case ki.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case ki.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case ki.INTERNAL:return Te.INTERNAL;case ki.UNAVAILABLE:return Te.UNAVAILABLE;case ki.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case ki.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case ki.NOT_FOUND:return Te.NOT_FOUND;case ki.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case ki.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case ki.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case ki.ABORTED:return Te.ABORTED;case ki.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case ki.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case ki.DATA_LOSS:return Te.DATA_LOSS;default:return At()}}(vn=ki||(ki={}))[vn.OK=0]="OK",vn[vn.CANCELLED=1]="CANCELLED",vn[vn.UNKNOWN=2]="UNKNOWN",vn[vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vn[vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vn[vn.NOT_FOUND=5]="NOT_FOUND",vn[vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",vn[vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",vn[vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",vn[vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vn[vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vn[vn.ABORTED=10]="ABORTED",vn[vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",vn[vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",vn[vn.INTERNAL=13]="INTERNAL",vn[vn.UNAVAILABLE=14]="UNAVAILABLE",vn[vn.DATA_LOSS=15]="DATA_LOSS";class Il{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ml(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return yC(this.inner)}size(){return this.innerSize}}const Cf=new Gn(ht.comparator);function Rr(){return Cf}const vb=new Gn(ht.comparator);function ld(...n){let e=vb;for(const t of n)e=e.insert(t.key,t);return e}function bb(n){let e=vb;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function to(){return If()}function wb(){return If()}function If(){return new Il(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ek=new Gn(ht.comparator),zC=new Fn(ht.comparator);function cn(...n){let e=zC;for(const t of n)e=e.add(t);return e}const rA=new Fn(qt);function yg(){return rA}class Df{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,va.createSynthesizedTargetChangeForCurrentChange(e,t)),new Df(Wt.min(),i,yg(),Rr(),cn())}}class va{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new va(Bi.EMPTY_BYTE_STRING,t,cn(),cn(),cn())}}class vg{constructor(e,t,i,r){this.gt=e,this.removedTargetIds=t,this.key=i,this.yt=r}}class bg{constructor(e,t){this.targetId=e,this.It=t}}class no{constructor(e,t,i=Bi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class GC{constructor(){this.Tt=0,this.Et=qC(),this.At=Bi.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=cn(),t=cn(),i=cn();return this.Et.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:At()}}),new va(this.At,this.Rt,e,t,i)}Dt(){this.bt=!1,this.Et=qC()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class wg{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Rr(),this.Bt=cd(),this.Lt=new Fn(qt)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const i=this.Qt(t);switch(e.state){case 0:this.jt(t)&&i.Vt(e.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(e.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(i.Ot(),i.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),i.Vt(e.resumeToken));break;default:At()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((i,r)=>{this.jt(r)&&t(r)})}zt(e){const t=e.targetId,i=e.It.count,r=this.Ht(t);if(r){const a=r.target;if(ag(a))if(0===i){const u=new ht(a.path);this.Kt(t,u,qn.newNoDocument(u,Wt.min()))}else Gt(1===i);else this.Jt(t)!==i&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((a,u)=>{const f=this.Ht(u);if(f){if(a.current&&ag(f.target)){const g=new ht(f.target.path);null!==this.$t.get(g)||this.Xt(u,g)||this.Kt(u,g,qn.newNoDocument(g,e))}a.vt&&(t.set(u,a.St()),a.Dt())}});let i=cn();this.Bt.forEach((a,u)=>{let f=!0;u.forEachWhile(g=>{const v=this.Ht(g);return!v||2===v.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.$t.forEach((a,u)=>u.setReadTime(e));const r=new Df(e,t,this.Lt,this.$t,i);return this.$t=Rr(),this.Bt=cd(),this.Lt=new Fn(qt),r}qt(e,t){if(!this.jt(e))return;const i=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,i),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,i){if(!this.jt(e))return;const r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),i&&(this.$t=this.$t.insert(t,i))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new GC,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Fn(qt),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Qe("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new GC),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function cd(){return new Gn(ht.comparator)}function qC(){return new Gn(ht.comparator)}const sA={asc:"ASCENDING",desc:"DESCENDING"},oA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Eg{constructor(e,t){this.databaseId=e,this.dt=t}}function Dl(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WC(n,e){return n.dt?e.toBase64():e.toUint8Array()}function aA(n,e){return Dl(n,e.toTimestamp())}function Ui(n){return Gt(!!n),Wt.fromTimestamp(function(e){const t=_l(e);return new Pn(t.seconds,t.nanos)}(n))}function Cg(n,e){return(t=n,new En(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Ig(n){const e=En.fromString(n);return Gt(yr(e)),e}function ud(n,e){return Cg(n.databaseId,e.path)}function Lo(n,e){const t=Ig(e);if(t.get(1)!==n.databaseId.projectId)throw new Ke(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ke(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ht(Dg(t))}function Eb(n,e){return Cg(n.databaseId,e)}function lA(n){const e=Ig(n);return 4===e.length?En.emptyPath():Dg(e)}function Pc(n){return new En(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Dg(n){return Gt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Cb(n,e,t){return{name:ud(n,e),fields:t.value.mapValue.fields}}function Tg(n,e,t){const i=Lo(n,e.name),r=Ui(e.updateTime),a=new lr({mapValue:{fields:e.fields}}),u=qn.newFoundDocument(i,r,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function Tf(n,e){let t;if(e instanceof od)t={update:Cb(n,e.key,e.value)};else if(e instanceof ad)t={delete:ud(n,e.key)};else if(e instanceof ya)t={update:Cb(n,e.key,e.data),updateMask:QC(e.fieldMask)};else{if(!(e instanceof yb))return At();t={verify:ud(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof kc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Cl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Fo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof sd)return{fieldPath:a.field.canonicalString(),increment:u._t};throw At()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:aA(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:At()),t;var r}function Db(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?ci.updateTime(Ui(r.updateTime)):void 0!==r.exists?ci.exists(r.exists):ci.none():ci.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,u){let f=null;"setToServerValue"in u?(Gt("REQUEST_TIME"===u.setToServerValue),f=new kc):"appendMissingElements"in u?f=new Cl(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new Fo(u.removeAllFromArray.values||[]):"increment"in u?f=new sd(a,u.increment):At();const g=_i.fromServerFormat(u.fieldPath);return new Ef(g,f)}(n,r)):[];var r;if(e.update){const r=Lo(n,e.update.name),a=new lr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new zr((e.updateMask.fieldPaths||[]).map(v=>_i.fromServerFormat(v)));return new ya(r,a,u,t,i)}return new od(r,a,t,i)}if(e.delete){const r=Lo(n,e.delete);return new ad(r,t)}if(e.verify){const r=Lo(n,e.verify);return new yb(r,t)}return At()}function Tb(n,e){return{documents:[Eb(n,e.path)]}}function Sg(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Eb(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Eb(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0===g.length)return;const v=g.map(I=>function(D){if("=="===D.op){if(ib(D.value))return{unaryFilter:{field:Nc(D.field),op:"IS_NAN"}};if(IC(D.value))return{unaryFilter:{field:Nc(D.field),op:"IS_NULL"}}}else if("!="===D.op){if(ib(D.value))return{unaryFilter:{field:Nc(D.field),op:"IS_NOT_NAN"}};if(IC(D.value))return{unaryFilter:{field:Nc(D.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nc(D.field),op:dA(D.op),value:D.value}}}(I));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);r&&(t.structuredQuery.where=r);const a=function(g){if(0!==g.length)return g.map(v=>{return{field:Nc((I=v).field),direction:ZC(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(v=e.limit,n.dt||gf(v)?v:{value:v});var v,f,g;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function Sb(n){let e=lA(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Gt(1===i);const I=t.from[0];I.allDescendants?r=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=Ab(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(I=>{return new wl(Fc((D=I).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let f=null;t.limit&&(f=function(I){let D;return D="object"==typeof I?I.value:I,gf(D)?null:D}(t.limit));let g=null;var I;t.startAt&&(g=new bl((I=t.startAt).values||[],!!I.before));let v=null;return t.endAt&&(v=function(I){return new bl(I.values||[],!I.before)}(t.endAt)),PC(e,r,u,a,f,"F",g,v)}function Ab(n){return n?void 0!==n.unaryFilter?[YC(n)]:void 0!==n.fieldFilter?[hA(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Ab(e)).reduce((e,t)=>e.concat(t)):At():[]}function ZC(n){return sA[n]}function dA(n){return oA[n]}function Nc(n){return{fieldPath:n.canonicalString()}}function Fc(n){return _i.fromServerFormat(n.fieldPath)}function hA(n){return cr.create(Fc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return At()}}(n.fieldFilter.op),n.fieldFilter.value)}function YC(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Fc(n.unaryFilter.field);return cr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Fc(n.unaryFilter.field);return cr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Fc(n.unaryFilter.field);return cr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Fc(n.unaryFilter.field);return cr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return At()}}function QC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yr(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Oi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=XC(e)),e=fA(n.get(t),e);return XC(e)}function fA(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function XC(n){return n+"\x01\x01"}function ba(n){const e=n.length;if(Gt(e>=2),2===e)return Gt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),En.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&At(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let g;0===r.length?g=f:(r+=f,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:At()}a=u+2}return new En(i)}const pA=["userId","batchId"];function Sf(n,e){return[n,Oi(e)]}function Mb(n,e,t){return[n,Oi(e),t]}const Af={},mA=["prefixPath","collectionGroup","readTime","documentId"],xb=["prefixPath","collectionGroup","documentId"],gA=["collectionGroup","readTime","prefixPath","documentId"],JC=["canonicalId","targetId"],_A=["targetId","path"],yA=["path","targetId"],dd=["collectionId","parent"],vA=["indexId","uid"],Rb=["uid","sequenceNumber"],eI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],tI=["indexId","uid","orderedDocumentKey"],Ag=["userId","collectionPath","documentId"],kb=["userId","collectionPath","largestBatchId"],Ck=["userId","collectionGroup","largestBatchId"],Ob=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],bA=[...Ob,"documentOverlays"],Pb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Lc=Pb,wA=[...Lc,"indexConfiguration","indexState","indexEntries"];class Mg extends Zv{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Pi(n,e){const t=mt(n);return Ss.N(t.ee,e)}class nI{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&BC(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Oc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Oc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=wb();return this.mutations.forEach(r=>{const a=e.get(r.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(r.key)?null:f;const g=VC(u,f);null!==g&&i.set(r.key,g),u.isValidDocument()||u.convertToNoDocument(Wt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),cn())}isEqual(e){return this.batchId===e.batchId&&Xu(this.mutations,e.mutations,(t,i)=>_g(t,i))&&Xu(this.baseMutations,e.baseMutations,(t,i)=>_g(t,i))}}class Nb{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Gt(e.mutations.length===i.length);let r=Ek;const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new Nb(e,t,i,r)}}class iI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Tl{constructor(e,t,i,r,a=Wt.min(),u=Wt.min(),f=Bi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new Tl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Tl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class rI{constructor(e){this.ne=e}}function Fb(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Mf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:ud(r=n.ne,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Dl(r,a.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Vc(e.version)};else{if(!e.isUnknownDocument())return At();i.unknownDocument={path:t.path.toArray(),version:Vc(e.version)}}var r,a;return i}function Mf(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Vc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Sl(n){const e=new Pn(n.seconds,n.nanoseconds);return Wt.fromTimestamp(e)}function Al(n,e){const t=(e.baseMutations||[]).map(a=>Db(n.ne,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>Db(n.ne,a)),r=Pn.fromMillis(e.localWriteTimeMs);return new nI(e.batchId,r,t,i)}function xf(n){const e=Sl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Sl(n.lastLimboFreeSnapshotVersion):Wt.min();let i;var r;return void 0!==n.query.documents?(Gt(1===(r=n.query).documents.length),i=Rs(El(lA(r.documents[0])))):i=Rs(Sb(n.query)),new Tl(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Bi.fromBase64String(n.resumeToken))}function sI(n,e){const t=Vc(e.snapshotVersion),i=Vc(e.lastLimboFreeSnapshotVersion);let r;r=ag(e.target)?Tb(n.ne,e.target):Sg(n.ne,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:vl(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function xg(n){const e=Sb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?id(e,e.limit,"L"):e}function Lb(n,e){return new iI(e.largestBatchId,Db(n.ne,e.overlayMutation))}function Vb(n,e){const t=e.path.lastSegment();return[n,Oi(e.path.popLast()),t]}function Bb(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Vc(i.readTime),documentKey:Oi(i.documentKey.path),largestBatchId:i.largestBatchId}}class oI{getBundleMetadata(e,t){return Ub(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Sl(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return Ub(e).put({bundleId:(i=t).id,createTime:Vc(Ui(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return aI(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:xg(r.bundledQuery),readTime:Sl(r.readTime)};var r})}saveNamedQuery(e,t){return aI(e).put({name:(i=t).name,readTime:Vc(Ui(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Ub(n){return Pi(n,"bundles")}function aI(n){return Pi(n,"namedQueries")}class Rg{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new Rg(e,t.uid||"")}getOverlay(e,t){return kg(e).get(Vb(this.userId,t)).next(i=>i?Lb(this.wt,i):null)}getOverlays(e,t){const i=to();return ye.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,u)=>{const f=new iI(t,u);r.push(this.ie(e,f))}),ye.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(Oi(u.getCollectionPath())));const a=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(kg(e).W("collectionPathOverlayIndex",f))}),ye.waitFor(a)}getOverlaysForCollection(e,t,i){const r=to(),a=Oi(t),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return kg(e).K("collectionPathOverlayIndex",u).next(f=>{for(const g of f){const v=Lb(this.wt,g);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=to();let u;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kg(e).J({index:"collectionGroupOverlayIndex",range:f},(g,v,I)=>{const D=Lb(this.wt,v);a.size()<r||D.largestBatchId===u?(a.set(D.getKey(),D),u=D.largestBatchId):I.done()}).next(()=>a)}ie(e,t){return kg(e).put(function(i,r,a){const[u,f,g]=Vb(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:g,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Tf(i.ne,a.mutation)}}(this.wt,this.userId,t))}}function kg(n){return Pi(n,"documentOverlays")}class Ml{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(yi(e.integerValue));else if("doubleValue"in e){const i=yi(e.doubleValue);isNaN(i)?this.ce(t,13):(this.ce(t,15),_f(i)?t.ae(0):t.ae(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ce(t,20),"string"==typeof i?t.he(i):(t.he(`${i.seconds||""}`),t.ae(i.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Ju(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?DC(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):At()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const i=e.fields||{};this.ce(t,55);for(const r of Object.keys(i))this.le(r,t),this.oe(i[r],t)}me(e,t){const i=e.values||[];this.ce(t,50);for(const r of i)this.oe(r,t)}_e(e,t){this.ce(t,37),ht.fromName(e).path.forEach(i=>{this.ce(t,60),this.ge(i,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function Ik(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function CA(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=Ik(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}Ml.ye=new Ml;class Dk{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ie(i.value),i=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const r=t.codePointAt(0);this.Ie(240|r>>>18),this.Ie(128|63&r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r)}}this.Te()}Pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}ve(e){const t=this.Ve(e),i=CA(t);this.Se(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}De(e){const t=this.Ve(e),i=CA(t);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Tk{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class Sk{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class Og{constructor(){this.Me=new Dk,this.Fe=new Tk(this.Me),this.$e=new Sk(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class hd{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new hd(this.indexId,this.documentKey,this.arrayValue,i)}}function fd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Rf(n.arrayValue,e.arrayValue),0!==t?t:(t=Rf(n.directionalValue,e.directionalValue),0!==t?t:ht.comparator(n.documentKey,e.documentKey)))}function Rf(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class Ak{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const i=t;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(e){const t=Kv(e);if(void 0!==t&&!this.Qe(t))return!1;const i=Ac(e);let r=0,a=0;for(;r<i.length&&this.Qe(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ke){const u=i[r];if(!this.je(this.Ke,u)||!this.We(this.Ue[a++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(a>=this.Ue.length||!this.We(this.Ue[a++],u))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class lI{constructor(){this.ze=new pd}addToCollectionParentIndex(e,t){return this.ze.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t){return ye.resolve(null)}getIndexType(e,t){return ye.resolve(0)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,t){return ye.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,t){return ye.resolve(_r.min())}updateCollectionGroup(e,t,i){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class pd{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Fn(En.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Fn(En.comparator)).toArray()}}const kf=new Uint8Array(0);class cI{constructor(e,t){this.user=e,this.databaseId=t,this.He=new pd,this.Je=new Il(i=>vl(i),(i,r)=>vf(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const a={collectionId:i,parent:Oi(r)};return IA(e).put(a)}return ye.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[fC(t),""],!1,!0);return IA(e).K(r).next(a=>{for(const u of a){if(u.collectionId!==t)break;i.push(ba(u.parent))}return i})}addFieldIndex(e,t){const i=Of(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete r.indexId;const a=i.add(r);if(t.indexState){const u=Pf(e);return a.next(f=>{u.put(Bb(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=Of(e),r=Pf(e),a=Bc(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Bc(e);let r=!0;const a=new Map;return ye.forEach(this.Ye(t),u=>this.Xe(e,u).next(f=>{r&&(r=!!f),a.set(u,f)})).next(()=>{if(r){let u=cn();const f=[];return ye.forEach(a,(g,v)=>{var I;Qe("IndexedDbIndexManager",`Using index ${I=g,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(Ct=>`${Ct.fieldPath}:${Ct.kind}`).join(",")}`} to execute ${vl(t)}`);const D=function(Ct,ft){const jt=Kv(ft);if(void 0===jt)return null;for(const Kt of lg(Ct,jt.fieldPath))switch(Kt.op){case"array-contains-any":return Kt.value.arrayValue.values||[];case"array-contains":return[Kt.value]}return null}(v,g),x=function(Ct,ft){const jt=new Map;for(const Kt of Ac(ft))for(const wn of lg(Ct,Kt.fieldPath))switch(wn.op){case"==":case"in":jt.set(Kt.fieldPath.canonicalString(),wn.value);break;case"not-in":case"!=":return jt.set(Kt.fieldPath.canonicalString(),wn.value),Array.from(jt.values())}return null}(v,g),P=function(Ct,ft){const jt=[];let Kt=!0;for(const wn of Ac(ft)){const ji=0===wn.kind?AC(Ct,wn.fieldPath,Ct.startAt):MC(Ct,wn.fieldPath,Ct.startAt);jt.push(ji.value),Kt&&(Kt=ji.inclusive)}return new bl(jt,Kt)}(v,g),H=function(Ct,ft){const jt=[];let Kt=!0;for(const wn of Ac(ft)){const ji=0===wn.kind?MC(Ct,wn.fieldPath,Ct.endAt):AC(Ct,wn.fieldPath,Ct.endAt);jt.push(ji.value),Kt&&(Kt=ji.inclusive)}return new bl(jt,Kt)}(v,g),ne=this.Ze(g,v,P),De=this.Ze(g,v,H),rt=this.tn(g,v,x),ct=this.en(g.indexId,D,ne,P.inclusive,De,H.inclusive,rt);return ye.forEach(ct,Ct=>i.j(Ct,t.limit).next(ft=>{ft.forEach(jt=>{const Kt=ht.fromSegments(jt.documentKey);u.has(Kt)||(u=u.add(Kt),f.push(Kt))})}))}).next(()=>f)}return ye.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,i,r,a,u,f){const g=(null!=t?t.length:1)*Math.max(i.length,a.length),v=g/(null!=t?t.length:1),I=[];for(let D=0;D<g;++D){const x=t?this.nn(t[D/v]):kf,P=this.sn(e,x,i[D%v],r),H=this.rn(e,x,a[D%v],u),ne=f.map(De=>this.sn(e,x,De,!0));I.push(...this.createRange(P,H,ne))}return I}sn(e,t,i,r){const a=new hd(e,ht.empty(),t,i);return r?a:a.Le()}rn(e,t,i,r){const a=new hd(e,ht.empty(),t,i);return r?a.Le():a}Xe(e,t){const i=new Ak(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let u=null;for(const f of a)i.Ge(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let i=2;return ye.forEach(this.Ye(t),r=>this.Xe(e,r).next(a=>{a?0!==i&&a.fields.length<function(u){let f=new Fn(_i.comparator),g=!1;for(const v of u.filters){const I=v;I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?g=!0:f=f.add(I.field))}for(const v of u.orderBy)v.field.isKeyField()||(f=f.add(v.field));return f.size+(g?1:0)}(r)&&(i=1):i=0})).next(()=>i)}on(e,t){const i=new Og;for(const r of Ac(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const u=i.Be(r.kind);Ml.ye.re(a,u)}return i.Oe()}nn(e){const t=new Og;return Ml.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const i=new Og;return Ml.ye.re(xs(this.databaseId,t),i.Be(function(r){const a=Ac(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.Oe()}tn(e,t,i){if(null===i)return[];let r=[];r.push(new Og);let a=0;for(const u of Ac(e)){const f=i[a++];for(const g of r)if(this.cn(t,u.fieldPath)&&td(f))r=this.an(r,u,f);else{const v=g.Be(u.kind);Ml.ye.re(f,v)}}return this.hn(r)}Ze(e,t,i){return this.tn(e,t,i.position)}hn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Oe();return t}an(e,t,i){const r=[...e],a=[];for(const u of i.arrayValue.values||[])for(const f of r){const g=new Og;g.seed(f.Oe()),Ml.ye.re(u,g.Be(t.kind)),a.push(g)}return a}cn(e,t){return!!e.filters.find(i=>i instanceof cr&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Of(e),r=Pf(e);return(t?i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.K()).next(a=>{const u=[];return ye.forEach(a,f=>r.get([f.indexId,this.uid]).next(g=>{u.push(function(v,I){const D=I?new Po(I.sequenceNumber,new _r(Sl(I.readTime),new ht(ba(I.documentKey)),I.largestBatchId)):Po.empty(),x=v.fields.map(([P,H])=>new ng(_i.fromServerFormat(P),H));return new Ft(v.indexId,v.collectionGroup,x,D)}(f,g))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:qt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Of(e),a=Pf(e);return this.ln(e).next(u=>r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ye.forEach(f,g=>a.put(Bb(g.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return ye.forEach(t,(r,a)=>{const u=i.get(r.collectionGroup);return(u?ye.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),ye.forEach(f,g=>this.fn(e,r,g).next(v=>{const I=this.dn(a,g);return v.isEqual(I)?ye.resolve():this._n(e,a,g,v,I)}))))})}wn(e,t,i,r){return Bc(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(i,t.key),documentKey:t.key.path.toArray()})}mn(e,t,i,r){return Bc(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(i,t.key),t.key.path.toArray()])}fn(e,t,i){const r=Bc(e);let a=new Fn(fd);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,t)])},(u,f)=>{a=a.add(new hd(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}dn(e,t){let i=new Fn(fd);const r=this.on(t,e);if(null==r)return i;const a=Kv(t);if(null!=a){const u=e.data.field(a.fieldPath);if(td(u))for(const f of u.arrayValue.values||[])i=i.add(new hd(t.indexId,e.key,this.nn(f),r))}else i=i.add(new hd(t.indexId,e.key,kf,r));return i}_n(e,t,i,r,a){Qe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,g,v,I,D){const x=f.getIterator(),P=g.getIterator();let H=Mc(x),ne=Mc(P);for(;H||ne;){let De=!1,rt=!1;if(H&&ne){const ct=v(H,ne);ct<0?rt=!0:ct>0&&(De=!0)}else null!=H?rt=!0:De=!0;De?(I(ne),ne=Mc(P)):rt?(D(H),H=Mc(x)):(H=Mc(x),ne=Mc(P))}}(r,a,fd,f=>{u.push(this.wn(e,t,i,f))},f=>{u.push(this.mn(e,t,i,f))}),ye.waitFor(u)}ln(e){let t=1;return Pf(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,f)=>fd(u,f)).filter((u,f,g)=>!f||0!==fd(u,g[f-1]));const r=[];r.push(e);for(const u of i){const f=fd(u,e),g=fd(u,t);if(0===f)r[0]=e.Le();else if(f>0&&g<0)r.push(u),r.push(u.Le());else if(g>0)break}r.push(t);const a=[];for(let u=0;u<r.length;u+=2)a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,kf,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,kf,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Hb)}getMinOffset(e,t){return ye.mapArray(this.Ye(t),i=>this.Xe(e,i).next(r=>r||At())).next(Hb)}}function IA(n){return Pi(n,"collectionParents")}function Bc(n){return Pi(n,"indexEntries")}function Of(n){return Pi(n,"indexConfiguration")}function Pf(n){return Pi(n,"indexState")}function Hb(n){Gt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;si(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new _r(e.readTime,e.documentKey,t)}const DA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Gr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Gr(e,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function uI(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const g=i.J({range:u},(I,D,x)=>(f++,x.delete()));a.push(g.next(()=>{Gt(1===f)}));const v=[];for(const I of t.mutations){const D=Mb(e,I.key.path,t.batchId);a.push(r.delete(D)),v.push(I.key)}return ye.waitFor(a).next(()=>v)}function Pg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw At();e=n.noDocument}return JSON.stringify(e).length}Gr.DEFAULT_COLLECTION_PERCENTILE=10,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gr.DEFAULT=new Gr(41943040,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gr.DISABLED=new Gr(-1,0,0);class Uc{constructor(e,t,i,r){this.userId=e,this.wt=t,this.indexManager=i,this.referenceDelegate=r,this.gn={}}static se(e,t,i,r){Gt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new Uc(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hc(e).J({index:"userMutationsIndex",range:i},(r,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=Nf(e),u=Hc(e);return u.add({}).next(f=>{Gt("number"==typeof f);const g=new nI(f,t,i,r),v=function(x,P,H){const ne=H.baseMutations.map(rt=>Tf(x.ne,rt)),De=H.mutations.map(rt=>Tf(x.ne,rt));return{userId:P,batchId:H.batchId,localWriteTimeMs:H.localWriteTime.toMillis(),baseMutations:ne,mutations:De}}(this.wt,this.userId,g),I=[];let D=new Fn((x,P)=>qt(x.canonicalString(),P.canonicalString()));for(const x of r){const P=Mb(this.userId,x.key.path,f);D=D.add(x.key.path.popLast()),I.push(u.put(v)),I.push(a.put(P,Af))}return D.forEach(x=>{I.push(this.indexManager.addToCollectionParentIndex(e,x))}),e.addOnCommittedListener(()=>{this.gn[f]=g.keys()}),ye.waitFor(I).next(()=>g)})}lookupMutationBatch(e,t){return Hc(e).get(t).next(i=>i?(Gt(i.userId===this.userId),Al(this.wt,i)):null)}yn(e,t){return this.gn[t]?ye.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.gn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Hc(e).J({index:"userMutationsIndex",range:r},(u,f,g)=>{f.userId===this.userId&&(Gt(f.batchId>=i),a=Al(this.wt,f)),g.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Hc(e).J({index:"userMutationsIndex",range:t,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hc(e).K("userMutationsIndex",t).next(i=>i.map(r=>Al(this.wt,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Sf(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return Nf(e).J({range:r},(u,f,g)=>{const[v,I,D]=u,x=ba(I);if(v===this.userId&&t.path.isEqual(x))return Hc(e).get(D).next(P=>{if(!P)throw At();Gt(P.userId===this.userId),a.push(Al(this.wt,P))});g.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Fn(qt);const r=[];return t.forEach(a=>{const u=Sf(this.userId,a.path),f=IDBKeyRange.lowerBound(u),g=Nf(e).J({range:f},(v,I,D)=>{const[x,P,H]=v,ne=ba(P);x===this.userId&&a.path.isEqual(ne)?i=i.add(H):D.done()});r.push(g)}),ye.waitFor(r).next(()=>this.pn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=Sf(this.userId,i),u=IDBKeyRange.lowerBound(a);let f=new Fn(qt);return Nf(e).J({range:u},(g,v,I)=>{const[D,x,P]=g,H=ba(x);D===this.userId&&i.isPrefixOf(H)?H.length===r&&(f=f.add(P)):I.done()}).next(()=>this.pn(e,f))}pn(e,t){const i=[],r=[];return t.forEach(a=>{r.push(Hc(e).get(a).next(u=>{if(null===u)throw At();Gt(u.userId===this.userId),i.push(Al(this.wt,u))}))}),ye.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return uI(e.ee,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),ye.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ye.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Nf(e).J({range:i},(a,u,f)=>{if(a[0]===this.userId){const g=ba(a[1]);r.push(g)}else f.done()}).next(()=>{Gt(0===r.length)})})}containsKey(e,t){return dI(e,this.userId,t)}Tn(e){return TA(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function dI(n,e,t){const i=Sf(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return Nf(n).J({range:a,H:!0},(f,g,v)=>{const[I,D,x]=f;I===e&&D===r&&(u=!0),v.done()}).next(()=>u)}function Hc(n){return Pi(n,"mutations")}function Nf(n){return Pi(n,"documentMutations")}function TA(n){return Pi(n,"mutationQueues")}class jc{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new jc(0)}static Rn(){return new jc(-1)}}class SA{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const i=new jc(t.highestTargetId);return t.highestTargetId=i.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>Wt.fromTimestamp(new Pn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Pn(e,r)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(i=>(i.targetCount+=1,this.Vn(t,i),this.Pn(e,i))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>md(e).delete(t.targetId)).next(()=>this.bn(e)).next(i=>(Gt(i.targetCount>0),i.targetCount-=1,this.Pn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return md(e).J((u,f)=>{const g=xf(f);g.sequenceNumber<=t&&null===i.get(g.targetId)&&(r++,a.push(this.removeTargetData(e,g)))}).next(()=>ye.waitFor(a)).next(()=>r)}forEachTarget(e,t){return md(e).J((i,r)=>{const a=xf(r);t(a)})}bn(e){return AA(e).get("targetGlobalKey").next(t=>(Gt(null!==t),t))}Pn(e,t){return AA(e).put("targetGlobalKey",t)}vn(e,t){return md(e).put(sI(this.wt,t))}Vn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=vl(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return md(e).J({range:r,index:"queryTargetsIndex"},(u,f,g)=>{const v=xf(f);vf(t,v.target)&&(a=v,g.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=xl(e);return t.forEach(u=>{const f=Oi(u.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,u))}),ye.waitFor(r)}removeMatchingKeys(e,t,i){const r=xl(e);return ye.forEach(t,a=>{const u=Oi(a.path);return ye.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=xl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=xl(e);let a=cn();return r.J({range:i,H:!0},(u,f,g)=>{const v=ba(u[1]),I=new ht(v);a=a.add(I)}).next(()=>a)}containsKey(e,t){const i=Oi(t.path),r=IDBKeyRange.bound([i],[fC(i)],!1,!0);let a=0;return xl(e).J({index:"documentTargetsIndex",H:!0,range:r},([u,f],g,v)=>{0!==u&&(a++,v.done())}).next(()=>a>0)}te(e,t){return md(e).get(t).next(i=>i?xf(i):null)}}function md(n){return Pi(n,"targets")}function AA(n){return Pi(n,"targetGlobal")}function xl(n){return Pi(n,"targetDocuments")}function Ng([n,e],[t,i]){const r=qt(n,t);return 0===r?qt(e,i):r}class MA{constructor(e){this.Sn=e,this.buffer=new Fn(Ng),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Ng(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class as{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;Qe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,xe.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){pl(i)?Qe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield ga(i)}yield t.kn(3e5)}))}}class xA{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ye.resolve(xr.ot);const i=new MA(t);return this.On.forEachTarget(e,r=>i.xn(r.sequenceNumber)).next(()=>this.On.Fn(e,r=>i.xn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.On.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(DA)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DA):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let i,r,a,u,f,g,v;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(Qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,u=Date.now(),this.nthSequenceNumber(e,r))).next(D=>(i=D,f=Date.now(),this.removeTargets(e,i,t))).next(D=>(a=D,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(D=>(v=Date.now(),$v()<=qs.in.DEBUG&&Qe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-I}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(g-f)+`ms\n\tRemoved ${D} documents in `+(v-g)+`ms\nTotal Duration: ${v-I}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:D})))}}class jb{constructor(e,t){this.db=e,this.garbageCollector=new xA(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Bn(e){let t=0;return this.Fn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(i,r)=>t(r))}addReference(e,t,i){return Fg(e,i)}removeReference(e,t,i){return Fg(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Fg(e,t)}Un(e,t){return function(i,r){let a=!1;return TA(i).Y(u=>dI(i,u,r).next(f=>(f&&(a=!0),ye.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Ln(e,(u,f)=>{if(f<=t){const g=this.Un(e,u).next(v=>{if(!v)return a++,i.getEntry(e,u).next(()=>(i.removeEntry(u,Wt.min()),xl(e).delete([0,Oi(u.path)])))});r.push(g)}}).next(()=>ye.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Fg(e,t)}Ln(e,t){const i=xl(e);let r,a=xr.ot;return i.J({index:"documentTargetsIndex"},([u,f],{path:g,sequenceNumber:v})=>{0===u?(a!==xr.ot&&t(new ht(ba(r)),a),a=v,r=g):a=xr.ot}).next(()=>{a!==xr.ot&&t(new ht(ba(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Fg(n,e){return xl(n).put((i=n.currentSequenceNumber,{targetId:0,path:Oi(e.path),sequenceNumber:i}));var i}class hI{constructor(){this.changes=new Il(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ye.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $b{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Rl(e).put(i)}removeEntry(e,t,i){return Rl(e).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Mf(a),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.qn(e,i)))}getEntry(e,t){let i=qn.newInvalidDocument(t);return Rl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(gd(t))},(r,a)=>{i=this.Kn(t,a)}).next(()=>i)}Gn(e,t){let i={size:0,document:qn.newInvalidDocument(t)};return Rl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(gd(t))},(r,a)=>{i={document:this.Kn(t,a),size:Pg(a)}}).next(()=>i)}getEntries(e,t){let i=Rr();return this.Qn(e,t,(r,a)=>{const u=this.Kn(r,a);i=i.insert(r,u)}).next(()=>i)}jn(e,t){let i=Rr(),r=new Gn(ht.comparator);return this.Qn(e,t,(a,u)=>{const f=this.Kn(a,u);i=i.insert(a,f),r=r.insert(a,Pg(u))}).next(()=>({documents:i,Wn:r}))}Qn(e,t,i){if(t.isEmpty())return ye.resolve();let r=new Fn(Gb);t.forEach(g=>r=r.add(g));const a=IDBKeyRange.bound(gd(r.first()),gd(r.last())),u=r.getIterator();let f=u.getNext();return Rl(e).J({index:"documentKeyIndex",range:a},(g,v,I)=>{const D=ht.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&Gb(f,D)<0;)i(f,null),f=u.getNext();f&&f.isEqual(D)&&(i(f,v),f=u.hasNext()?u.getNext():null),f?I.q(gd(f)):I.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),Mf(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Rl(e).K(IDBKeyRange.bound(r,a,!0)).next(u=>{let f=Rr();for(const g of u){const v=this.Kn(ht.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);f=f.insert(v.key,v)}return f})}getAllFromCollectionGroup(e,t,i,r){let a=Rr();const u=mI(t,i),f=mI(t,_r.max());return Rl(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(g,v,I)=>{const D=this.Kn(ht.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);a=a.insert(D.key,D),a.size===r&&I.done()}).next(()=>a)}newChangeBuffer(e){return new fI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return pI(e).get("remoteDocumentGlobalKey").next(t=>(Gt(!!t),t))}qn(e,t){return pI(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const i=function EA(n,e){let t;if(e.document)t=Tg(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ht.fromSegments(e.noDocument.path),r=Sl(e.noDocument.readTime);t=qn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return At();{const i=ht.fromSegments(e.unknownDocument.path),r=Sl(e.unknownDocument.version);t=qn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Pn(i[0],i[1]);return Wt.fromTimestamp(r)}(e.readTime)),t}(this.wt,t);if(!i.isNoDocument()||!i.version.isEqual(Wt.min()))return i}return qn.newInvalidDocument(e)}}function zb(n){return new $b(n)}class fI extends hI{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new Il(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Fn((a,u)=>qt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Hn.get(a);if(t.push(this.zn.removeEntry(e,a,f.readTime)),u.isValidDocument()){const g=Fb(this.zn.wt,u);r=r.add(a.path.popLast()),i+=Pg(g)-f.size,t.push(this.zn.addEntry(e,a,g))}else if(i-=f.size,this.trackRemovals){const g=Fb(this.zn.wt,u.convertToNoDocument(Wt.min()));t.push(this.zn.addEntry(e,a,g))}}),r.forEach(a=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.zn.updateMetadata(e,i)),ye.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(i=>(this.Hn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:i,Wn:r})=>(r.forEach((a,u)=>{this.Hn.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function pI(n){return Pi(n,"remoteDocumentGlobal")}function Rl(n){return Pi(n,"remoteDocumentsV14")}function gd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function mI(n,e){const t=e.documentKey.path.toArray();return[n,Mf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Gb(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=qt(t[a],i[a]),r)return r;return r=qt(t.length,i.length),r||(r=qt(t[t.length-2],i[i.length-2]),r||qt(t[t.length-1],i[i.length-1]))}class RA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Lg{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&Oc(i.mutation,r,zr.empty(),Pn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,cn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=cn()){const r=to();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let u=ld();return a.forEach((f,g)=>{u=u.insert(f,g.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=to();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,cn()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,r){let a=Rr();const u=If(),f=If();return t.forEach((g,v)=>{const I=i.get(v.key);r.has(v.key)&&(void 0===I||I.mutation instanceof ya)?a=a.insert(v.key,v):void 0!==I&&(u.set(v.key,I.mutation.getFieldMask()),Oc(I.mutation,v,I.mutation.getFieldMask(),Pn.now()))}),this.recalculateAndSaveOverlays(e,a).next(g=>(g.forEach((v,I)=>u.set(v,I)),t.forEach((v,I)=>{var D;return f.set(v,new RA(I,null!==(D=u.get(v))&&void 0!==D?D:null))}),f))}recalculateAndSaveOverlays(e,t){const i=If();let r=new Gn((u,f)=>u-f),a=cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(g=>{const v=t.get(g);if(null===v)return;let I=i.get(g)||zr.empty();I=f.applyToLocalView(v,I),i.set(g,I);const D=(r.get(f.batchId)||cn()).add(g);r=r.insert(f.batchId,D)})}).next(()=>{const u=[],f=r.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),v=g.key,I=g.value,D=wb();I.forEach(x=>{if(!a.has(x)){const P=VC(t.get(x),i.get(x));null!==P&&D.set(x,P),a=a.add(x)}}),u.push(this.documentOverlayCache.saveOverlays(e,v,D))}return ye.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return ht.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):dg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):ye.resolve(to());let f=-1,g=a;return u.next(v=>ye.forEach(v,(I,D)=>(f<D.largestBatchId&&(f=D.largestBatchId),a.get(I)?ye.resolve():this.getBaseDocument(e,I,D).next(x=>{g=g.insert(I,x)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,g,v,cn())).next(I=>({batchId:f,changes:bb(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ht(t)).next(i=>{let r=ld();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=ld();return this.indexManager.getCollectionParents(e,r).next(u=>ye.forEach(u,f=>{const g=(v=t,I=f.child(r),new _a(I,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,I;return this.getDocumentsMatchingCollectionQuery(e,g,i).next(v=>{v.forEach((I,D)=>{a=a.insert(I,D)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(a=>(r=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(a=>{a.forEach((f,g)=>{const v=g.getKey();null===r.get(v)&&(r=r.insert(v,qn.newInvalidDocument(v)))});let u=ld();return r.forEach((f,g)=>{const v=a.get(f);void 0!==v&&Oc(v.mutation,g,zr.empty(),Pn.now()),hg(t,g)&&(u=u.insert(f,g))}),u})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):ye.resolve(qn.newInvalidDocument(t))}}class kl{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return ye.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var i;return this.Jn.set(t.id,{id:(i=t).id,version:i.version,createTime:Ui(i.createTime)}),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(i=t).name,query:xg(i.bundledQuery),readTime:Ui(i.readTime)}),ye.resolve();var i}}class gI{constructor(){this.overlays=new Gn(ht.comparator),this.Xn=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}getOverlays(e,t){const i=to();return ye.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.ie(e,t,a)}),ye.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.Xn.delete(i)),ye.resolve()}getOverlaysForCollection(e,t,i){const r=to(),a=t.length+1,u=new ht(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&g.largestBatchId>i&&r.set(g.getKey(),g)}return ye.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new Gn((v,I)=>v-I);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let I=a.get(v.largestBatchId);null===I&&(I=to(),a=a.insert(v.largestBatchId,I)),I.set(v.getKey(),v)}}const f=to(),g=a.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,I)=>f.set(v,I)),!(f.size()>=r)););return ye.resolve(f)}ie(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new iI(t,i));let a=this.Xn.get(t);void 0===a&&(a=cn(),this.Xn.set(t,a)),this.Xn.set(t,a.add(i.key))}}class Vg{constructor(){this.Zn=new Fn(Wn.ts),this.es=new Fn(Wn.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const i=new Wn(e,t);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.rs(new Wn(e,t))}os(e,t){e.forEach(i=>this.removeReference(i,t))}us(e){const t=new ht(new En([])),i=new Wn(t,e),r=new Wn(t,e+1),a=[];return this.es.forEachInRange([i,r],u=>{this.rs(u),a.push(u.key)}),a}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new ht(new En([])),i=new Wn(t,e),r=new Wn(t,e+1);let a=cn();return this.es.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Wn(e,0),i=this.Zn.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Wn{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return ht.comparator(e.key,t.key)||qt(e.ls,t.ls)}static ns(e,t){return qt(e.ls,t.ls)||ht.comparator(e.key,t.key)}}class kA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Fn(Wn.ts)}checkEmpty(e){return ye.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.fs;this.fs++;const u=new nI(a,t,i,r);this.mutationQueue.push(u);for(const f of r)this.ds=this.ds.add(new Wn(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ye.resolve(u)}lookupMutationBatch(e,t){return ye.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ws(t+1),a=r<0?0:r;return ye.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Wn(t,0),r=new Wn(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([i,r],u=>{const f=this._s(u.ls);a.push(f)}),ye.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Fn(qt);return t.forEach(r=>{const a=new Wn(r,0),u=new Wn(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([a,u],f=>{i=i.add(f.ls)})}),ye.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;ht.isDocumentKey(a)||(a=a.child(""));const u=new Wn(new ht(a),0);let f=new Fn(qt);return this.ds.forEachWhile(g=>{const v=g.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(f=f.add(g.ls)),!0)},u),ye.resolve(this.gs(f))}gs(e){const t=[];return e.forEach(i=>{const r=this._s(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Gt(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return ye.forEach(t.mutations,r=>{const a=new Wn(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=i})}In(e){}containsKey(e,t){const i=new Wn(t,0),r=this.ds.firstAfterOrEqual(i);return ye.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ye.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Mk{constructor(e){this.ps=e,this.docs=new Gn(ht.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.ps(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ye.resolve(i?i.document.mutableCopy():qn.newInvalidDocument(t))}getEntries(e,t){let i=Rr();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():qn.newInvalidDocument(r))}),ye.resolve(i)}getAllFromCollection(e,t,i){let r=Rr();const a=new ht(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:f,value:{document:g}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||si(ff(g),i)<=0||(r=r.insert(g.key,g.mutableCopy()))}return ye.resolve(r)}getAllFromCollectionGroup(e,t,i,r){At()}Is(e,t){return ye.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new OA(this)}getSize(e){return ye.resolve(this.size)}}class OA extends hI{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.zn.addEntry(e,r)):this.zn.removeEntry(i)}),ye.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class PA{constructor(e){this.persistence=e,this.Ts=new Il(t=>vl(t),vf),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.Es=0,this.As=new Vg,this.targetCount=0,this.Rs=jc.An()}forEachTarget(e,t){return this.Ts.forEach((i,r)=>t(r)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Es&&(this.Es=t),ye.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new jc(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.vn(t),ye.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Ts.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Ts.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),ye.waitFor(a).next(()=>r)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const i=this.Ts.get(t)||null;return ye.resolve(i)}addMatchingKeys(e,t,i){return this.As.ss(t,i),ye.resolve()}removeMatchingKeys(e,t,i){this.As.os(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),ye.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const i=this.As.hs(t);return ye.resolve(i)}containsKey(e,t){return ye.resolve(this.As.containsKey(t))}}class _I{constructor(e,t){this.bs={},this.overlays={},this.Ps=new xr(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new PA(this),this.indexManager=new lI,this.remoteDocumentCache=new Mk(i=>this.referenceDelegate.Ss(i)),this.wt=new rI(t),this.Ds=new kl(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.bs[e.toKey()];return i||(i=new kA(t,this.referenceDelegate),this.bs[e.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,i){Qe("MemoryPersistence","Starting transaction:",e);const r=new NA(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(a=>this.referenceDelegate.xs(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ns(e,t){return ye.or(Object.values(this.bs).map(i=>()=>i.containsKey(e,t)))}}class NA extends Zv{constructor(e){super(),this.currentSequenceNumber=e}}class Ff{constructor(e){this.persistence=e,this.ks=new Vg,this.Os=null}static Ms(e){return new Ff(e)}get Fs(){if(this.Os)return this.Os;throw At()}addReference(e,t,i){return this.ks.addReference(i,t),this.Fs.delete(i.toString()),ye.resolve()}removeReference(e,t,i){return this.ks.removeReference(i,t),this.Fs.add(i.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),ye.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Fs.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.Fs,i=>{const r=ht.fromPath(i);return this.$s(e,r).next(a=>{a||t.removeEntry(r,Wt.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(i=>{i?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return ye.or([()=>ye.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class xk{constructor(e){this.wt=e}O(e,t,i,r){const a=new pf("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pA,{unique:!0}),f.createObjectStore("documentMutations"),qb(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=ye.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),qb(e)),u=u.next(()=>function(f){const g=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Wt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",v)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,g){return g.store("mutations").K().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pA,{unique:!0});const I=g.store("mutations"),D=v.map(x=>I.put(x));return ye.waitFor(D)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Bs(a))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(a)))),i<7&&r>=7&&(u=u.next(()=>this.Us(a))),i<8&&r>=8&&(u=u.next(()=>this.qs(e,a))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.Ks(a))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const g=f.createObjectStore("documentOverlays",{keyPath:Ag});g.createIndex("collectionPathOverlayIndex",kb,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",Ck,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(f){const g=f.createObjectStore("remoteDocumentsV14",{keyPath:mA});g.createIndex("documentKeyIndex",xb),g.createIndex("collectionGroupIndex",gA)}(e)).next(()=>this.Gs(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.Qs(e,a))),i<15&&r>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:vA}).createIndex("sequenceNumberIndex",Rb,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:eI}).createIndex("documentKeyIndex",tI,{unique:!1})}(e))),u}Ls(e){let t=0;return e.store("remoteDocuments").J((i,r)=>{t+=Pg(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.K().next(r=>ye.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",u).next(f=>ye.forEach(f,g=>{Gt(g.userId===a.userId);const v=Al(this.wt,g);return uI(e,a.userId,v).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.J((u,f)=>{const g=new En(u),v=[0,Oi(g)];a.push(t.get(v).next(I=>I?ye.resolve():t.put({targetId:0,path:Oi(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ye.waitFor(a))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:dd});const i=t.store("collectionParents"),r=new pd,a=u=>{if(r.add(u)){const f=u.lastSegment(),g=u.popLast();return i.put({collectionId:f,parent:Oi(g)})}};return t.store("remoteDocuments").J({H:!0},(u,f)=>{const g=new En(u);return a(g.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([u,f,g],v)=>{const I=ba(f);return a(I.popLast())}))}Ks(e){const t=e.store("targets");return t.J((i,r)=>{const a=xf(r),u=sI(this.wt,a);return t.put(u)})}Gs(e,t){const i=t.store("remoteDocuments"),r=[];return i.J((a,u)=>{const f=t.store("remoteDocumentsV14"),g=(v=u,v.document?new ht(En.fromString(v.document.name).popFirst(5)):v.noDocument?ht.fromSegments(v.noDocument.path):v.unknownDocument?ht.fromSegments(v.unknownDocument.path):At()).path.toArray();var v;const I={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(I))}).next(()=>ye.waitFor(r))}Qs(e,t){const i=t.store("mutations"),r=zb(this.wt),a=new _I(Ff.Ms,this.wt.ne);return i.K().next(u=>{const f=new Map;return u.forEach(g=>{var v;let I=null!==(v=f.get(g.userId))&&void 0!==v?v:cn();Al(this.wt,g).keys().forEach(D=>I=I.add(D)),f.set(g.userId,I)}),ye.forEach(f,(g,v)=>{const I=new Zi(v),D=Rg.se(this.wt,I),x=a.getIndexManager(I),P=Uc.se(I,this.wt,x,a.referenceDelegate);return new Lg(r,P,D,x).recalculateAndSaveOverlaysForDocumentKeys(new Mg(t,xr.ot),g).next()})})}}function qb(n){n.createObjectStore("targetDocuments",{keyPath:_A}).createIndex("documentTargetsIndex",yA,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",JC,{unique:!0}),n.createObjectStore("targetGlobal")}const Wb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Bg{constructor(e,t,i,r,a,u,f,g,v,I,D=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.js=a,this.window=u,this.document=f,this.Ws=v,this.zs=I,this.Hs=D,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=x=>Promise.resolve(),!Bg.V())throw new Ke(Te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jb(this,r),this.ei=t+"main",this.wt=new rI(g),this.ni=new Ss(this.ei,this.Hs,new xk(this.wt)),this.Vs=new SA(this.referenceDelegate,this.wt),this.remoteDocumentCache=zb(this.wt),this.Ds=new oI,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===I&&Ri("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ke(Te.FAILED_PRECONDITION,Wb);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new xr(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var i=(0,xe.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,xe.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,xe.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>_d(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(pl(e))return Qe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Qe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return Ug(e).get("owner").next(t=>ye.resolve(this.di(t)))}_i(e){return _d(e).delete(this.clientId)}wi(){var e=this;return(0,xe.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Pi(i,"clientMetadata");return r.K().next(a=>{const u=e.gi(a,18e5),f=a.filter(g=>-1===u.indexOf(g));return ye.forEach(f,g=>r.delete(g.clientId)).next(()=>f)})}).catch(()=>[]);if(e.si)for(const i of t)e.si.removeItem(e.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?ye.resolve(!0):Ug(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Ke(Te.FAILED_PRECONDITION,Wb);return!1}}return!(!this.networkEnabled||!this.inForeground)||_d(e).K().next(i=>void 0===this.gi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Qe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,xe.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Mg(t,xr.ot);return e.li(i).next(()=>e._i(i))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(i=>this.mi(i.updateTimeMs,t)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>_d(e).K().next(t=>this.gi(t,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return Uc.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new cI(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return Rg.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,i){Qe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(u=this.Hs)?wA:14===u?Lc:13===u?Pb:12===u?bA:11===u?Ob:void At();var u;let f;return this.ni.runTransaction(e,r,a,g=>(f=new Mg(g,this.Ps?this.Ps.next():xr.ot),"readwrite-primary"===t?this.ai(f).next(v=>!!v||this.hi(f)).next(v=>{if(!v)throw Ri(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Ke(Te.FAILED_PRECONDITION,HS);return i(f)}).next(v=>this.fi(f).next(()=>v)):this.bi(f).next(()=>i(f)))).then(g=>(f.raiseOnCommittedEvent(),g))}bi(e){return Ug(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ke(Te.FAILED_PRECONDITION,Wb)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ug(e).put("owner",t)}static V(){return Ss.V()}li(e){const t=Ug(e);return t.get("owner").next(i=>this.di(i)?(Qe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ye.resolve())}mi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Ri(`Detected an update time that is in the future: ${e} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Qt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const i=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Qe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ri("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Ri("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ug(n){return Pi(n,"owner")}function _d(n){return Pi(n,"clientMetadata")}function Hg(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class jg{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Pi=i,this.vi=r}static Vi(e,t){let i=cn(),r=cn();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new jg(e,t.fromCache,i,r)}}class yI{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ci(e,t).next(a=>a||this.xi(e,t,r,i)).next(a=>a||this.Ni(e,t))}Ci(e,t){return ye.resolve(null)}xi(e,t,i,r){return function QS(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Wt.min())?this.Ni(e,t):this.Di.getDocuments(e,i).next(a=>{const u=this.ki(t,a);return this.Oi(t,u,i,r)?this.Ni(e,t):($v()<=qs.in.DEBUG&&Qe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hb(t)),this.Mi(e,u,t,mC(r,-1)))})}ki(e,t){let i=new Fn(Rc(e));return t.forEach((r,a)=>{hg(e,a)&&(i=i.add(a))}),i}Oi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ni(e,t){return $v()<=qs.in.DEBUG&&Qe("QueryEngine","Using full collection scan to execute query:",hb(t)),this.Di.getDocumentsMatchingQuery(e,t,_r.min())}Mi(e,t,i,r){return this.Di.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class vI{constructor(e,t,i,r){this.persistence=e,this.Fi=t,this.wt=r,this.$i=new Gn(qt),this.Bi=new Il(a=>vl(a),vf),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(i)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lg(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function Kb(n,e,t,i){return new vI(n,e,t,i)}function Lf(n,e){return yd.apply(this,arguments)}function yd(){return yd=(0,xe.Z)(function*(n,e){const t=mt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.qi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let g=cn();for(const v of r){u.push(v.batchId);for(const I of v.mutations)g=g.add(I.key)}for(const v of a){f.push(v.batchId);for(const I of v.mutations)g=g.add(I.key)}return t.localDocuments.getDocuments(i,g).next(v=>({Ki:v,removedBatchIds:u,addedBatchIds:f}))})})}),yd.apply(this,arguments)}function bI(n,e){const t=mt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Ui.newChangeBuffer({trackRemovals:!0});return function(u,f,g,v){const I=g.batch,D=I.keys();let x=ye.resolve();return D.forEach(P=>{x=x.next(()=>v.getEntry(f,P)).next(H=>{const ne=g.docVersions.get(P);Gt(null!==ne),H.version.compareTo(ne)<0&&(I.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),v.addEntry(H)))})}),x.next(()=>u.mutationQueue.removeMutationBatch(f,I))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=cn();for(let g=0;g<u.mutationResults.length;++g)u.mutationResults[g].transformResults.length>0&&(f=f.add(u.batch.mutations[g].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function wI(n){const e=mt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function EI(n,e){const t=mt(n),i=e.snapshotVersion;let r=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Ui.newChangeBuffer({trackRemovals:!0});r=t.$i;const f=[];e.targetChanges.forEach((I,D)=>{const x=r.get(D);if(!x)return;f.push(t.Vs.removeMatchingKeys(a,I.removedDocuments,D).next(()=>t.Vs.addMatchingKeys(a,I.addedDocuments,D)));let P=x.withSequenceNumber(a.currentSequenceNumber);var H,ne,De;e.targetMismatches.has(D)?P=P.withResumeToken(Bi.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):I.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(I.resumeToken,i)),r=r.insert(D,P),ne=P,De=I,(0===(H=x).resumeToken.approximateByteSize()||ne.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||De.addedDocuments.size+De.modifiedDocuments.size+De.removedDocuments.size>0)&&f.push(t.Vs.updateTargetData(a,P))});let g=Rr(),v=cn();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,I))}),f.push(Zb(a,u,e.documentUpdates).next(I=>{g=I.Gi,v=I.Qi})),!i.isEqual(Wt.min())){const I=t.Vs.getLastRemoteSnapshotVersion(a).next(D=>t.Vs.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(I)}return ye.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,g,v)).next(()=>g)}).then(a=>(t.$i=r,a))}function Zb(n,e,t){let i=cn(),r=cn();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=Rr();return t.forEach((f,g)=>{const v=a.get(f);g.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(f)),g.isNoDocument()&&g.version.isEqual(Wt.min())?(e.removeEntry(f,g.readTime),u=u.insert(f,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||0===g.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(g),u=u.insert(f,g)):Qe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",g.version)}),{Gi:u,Qi:r}})}function FA(n,e){const t=mt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function vd(n,e){const t=mt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Vs.getTargetData(i,e).next(a=>a?(r=a,ye.resolve(r)):t.Vs.allocateTargetId(i).next(u=>(r=new Tl(e,u,0,i.currentSequenceNumber),t.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.$i=t.$i.insert(i.targetId,i),t.Bi.set(e,i.targetId)),i})}function Vf(n,e,t){return CI.apply(this,arguments)}function CI(){return CI=(0,xe.Z)(function*(n,e,t){const i=mt(n),r=i.$i.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!pl(u))throw u;Qe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.$i=i.$i.remove(e),i.Bi.delete(r.target)}),CI.apply(this,arguments)}function Bf(n,e,t){const i=mt(n);let r=Wt.min(),a=cn();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,g,v){const I=mt(f),D=I.Bi.get(v);return void 0!==D?ye.resolve(I.$i.get(D)):I.Vs.getTargetData(g,v)}(i,u,Rs(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(u,f.targetId).next(g=>{a=g})}).next(()=>i.Fi.getDocumentsMatchingQuery(u,e,t?r:Wt.min(),t?a:cn())).next(f=>(TI(i,NC(e),f),{documents:f,ji:a})))}function II(n,e){const t=mt(n),i=mt(t.Vs),r=t.$i.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.te(a,e).next(u=>u?u.target:null))}function DI(n,e){const t=mt(n),i=t.Li.get(e)||Wt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Ui.getAllFromCollectionGroup(r,e,mC(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(TI(t,e,r),r))}function TI(n,e,t){let i=Wt.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Li.set(e,i)}function SI(){return SI=(0,xe.Z)(function*(n,e,t,i){const r=mt(n);let a=cn(),u=Rr();for(const v of t){const I=e.Wi(v.metadata.name);v.document&&(a=a.add(I));const D=e.zi(v);D.setReadTime(e.Hi(v.metadata.readTime)),u=u.insert(I,D)}const f=r.Ui.newChangeBuffer({trackRemovals:!0}),g=yield vd(r,(v=i,Rs(El(En.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>Zb(v,f,u).next(I=>(f.apply(v),I)).next(I=>r.Vs.removeMatchingKeysForTargetId(v,g.targetId).next(()=>r.Vs.addMatchingKeys(v,a,g.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,I.Gi,I.Qi)).next(()=>I.Gi)))}),SI.apply(this,arguments)}function kk(n,e){return AI.apply(this,arguments)}function AI(){return AI=(0,xe.Z)(function*(n,e,t=cn()){const i=yield vd(n,Rs(xg(e.bundledQuery))),r=mt(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=Ui(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ds.saveNamedQuery(a,e);const f=i.withResumeToken(Bi.EMPTY_BYTE_STRING,u);return r.$i=r.$i.insert(f.targetId,f),r.Vs.updateTargetData(a,f).next(()=>r.Vs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Vs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ds.saveNamedQuery(a,e))})}),AI.apply(this,arguments)}function LA(n,e){return`firestore_clients_${n}_${e}`}function MI(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function bd(n,e){return`firestore_targets_${n}_${e}`}class $g{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ji(e,t,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new Ke(r.error.code,r.error.message))),u?new $g(e,t,r.state,a):(Ri("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Uf{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ji(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Ke(i.error.code,i.error.message))),a?new Uf(e,i.state,r):(Ri("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=yg();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=Jv(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new Hf(e,a):(Ri("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class wa{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new wa(t.clientId,t.onlineState):(Ri("SharedClientState",`Failed to parse online state: ${e}`),null)}}class zg{constructor(){this.activeTargetIds=yg()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jf{constructor(e,t,i,r,a){this.window=e,this.js=t,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Gn(qt),this.started=!1,this.ir=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=LA(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new zg),this.cr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,xe.Z)(function*(){const t=yield e.syncEngine.Ri();for(const r of t){if(r===e.tr)continue;const a=e.getItem(LA(e.persistenceKey,r));if(a){const u=Hf.Ji(r,a);u&&(e.sr=e.sr.insert(u.clientId,u))}}e._r();const i=e.storage.getItem(e.lr);if(i){const r=e.wr(i);r&&e.mr(r)}for(const r of e.ir)e.nr(r);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,i){this.yr(e,t,i),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(bd(this.persistenceKey,e));if(i){const r=Uf.Ji(e,i);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(bd(this.persistenceKey,e))}updateQueryState(e,t,i){this.Tr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.pr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Qe("SharedClientState","READ",e,t),t}setItem(e,t){Qe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Qe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Qe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void Ri("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,xe.Z)(function*(){if(t.started){if(null!==i.key)if(t.cr.test(i.key)){if(null==i.newValue){const r=t.Rr(i.key);return t.br(r,null)}{const r=t.Pr(i.key,i.newValue);if(r)return t.br(r.clientId,r)}}else if(t.ar.test(i.key)){if(null!==i.newValue){const r=t.vr(i.key,i.newValue);if(r)return t.Vr(r)}}else if(t.hr.test(i.key)){if(null!==i.newValue){const r=t.Sr(i.key,i.newValue);if(r)return t.Dr(r)}}else if(i.key===t.lr){if(null!==i.newValue){const r=t.wr(i.newValue);if(r)return t.mr(r)}}else if(i.key===t.ur){const r=function(a){let u=xr.ot;if(null!=a)try{const f=JSON.parse(a);Gt("number"==typeof f),u=f}catch(f){Ri("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==xr.ot&&t.sequenceNumberHandler(r)}else if(i.key===t.dr){const r=t.Cr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Nr(a)))}}else t.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,i){const r=new $g(this.currentUser,e,t,i),a=MI(this.persistenceKey,this.currentUser,e);this.setItem(a,r.Yi())}pr(e){const t=MI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,i){const r=bd(this.persistenceKey,e),a=new Uf(e,t,i);this.setItem(r,a.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const i=this.Rr(e);return Hf.Ji(i,t)}vr(e,t){const i=this.ar.exec(e),r=Number(i[1]);return $g.Ji(new Zi(void 0!==i[2]?i[2]:null),r,t)}Sr(e,t){const i=this.hr.exec(e),r=Number(i[1]);return Uf.Ji(r,t)}wr(e){return wa.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,xe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Qe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const i=t?this.sr.insert(e,t):this.sr.remove(e),r=this.gr(this.sr),a=this.gr(i),u=[],f=[];return a.forEach(g=>{r.has(g)||u.push(g)}),r.forEach(g=>{a.has(g)||f.push(g)}),this.syncEngine.Mr(u,f).then(()=>{this.sr=i})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=yg();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class Gg{constructor(){this.Fr=new zg,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,i){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new zg,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VA{Br(e){}shutdown(){}}class qg{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Yb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Wg{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class Ok extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,i,r,a){const u=this.oo(e,t);Qe("RestConnection","Sending: ",u,i);const f={};return this.uo(f,r,a),this.co(e,u,f,i).then(g=>(Qe("RestConnection","Received: ",g),g),g=>{throw hf("RestConnection",`${e} failed with error: `,g,"url: ",u,"request:",i),g})}ao(e,t,i,r,a,u){return this.ro(e,t,i,r,a)}uo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}oo(e,t){return`${this.so}/v1/${t}:${Yb[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,i,r){return new Promise((a,u)=>{const f=new LS;f.listenOnce(iC.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case eg.NO_ERROR:const v=f.getResponseJson();Qe("Connection","XHR received:",JSON.stringify(v)),a(v);break;case eg.TIMEOUT:Qe("Connection",'RPC "'+e+'" timed out'),u(new Ke(Te.DEADLINE_EXCEEDED,"Request time out"));break;case eg.HTTP_ERROR:const I=f.getStatus();if(Qe("Connection",'RPC "'+e+'" failed with status:',I,"response text:",f.getResponseText()),I>0){const D=f.getResponseJson().error;if(D&&D.status&&D.message){const x=function(P){const H=P.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(H)>=0?H:Te.UNKNOWN}(D.status);u(new Ke(x,D.message))}else u(new Ke(Te.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Ke(Te.UNAVAILABLE,"Connection failed."));break;default:At()}}finally{Qe("Connection",'RPC "'+e+'" completed.')}});const g=JSON.stringify(r);f.send(t,"POST",g,i,15)})}ho(e,t,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=tC(),u=nC(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new sC({})),this.uo(f.initMessageHeaders,t,i),(0,Qt.uI)()||(0,Qt.b$)()||(0,Qt.d)()||(0,Qt.w1)()||(0,Qt.Mn)()||(0,Qt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const g=r.join("");Qe("Connection","Creating WebChannel: "+g,f);const v=a.createWebChannel(g,f);let I=!1,D=!1;const x=new Wg({jr:H=>{D?Qe("Connection","Not sending because WebChannel is closed:",H):(I||(Qe("Connection","Opening WebChannel transport."),v.open(),I=!0),Qe("Connection","WebChannel sending:",H),v.send(H))},Wr:()=>v.close()}),P=(H,ne,De)=>{H.listen(ne,rt=>{try{De(rt)}catch(ct){setTimeout(()=>{throw ct},0)}})};return P(v,df.EventType.OPEN,()=>{D||Qe("Connection","WebChannel transport opened.")}),P(v,df.EventType.CLOSE,()=>{D||(D=!0,Qe("Connection","WebChannel transport closed"),x.eo())}),P(v,df.EventType.ERROR,H=>{D||(D=!0,hf("Connection","WebChannel transport errored:",H),x.eo(new Ke(Te.UNAVAILABLE,"The operation could not be completed")))}),P(v,df.EventType.MESSAGE,H=>{var ne;if(!D){const De=H.data[0];Gt(!!De);const rt=De,ct=rt.error||(null===(ne=rt[0])||void 0===ne?void 0:ne.error);if(ct){Qe("Connection","WebChannel received error:",ct);const Ct=ct.status;let ft=function(Kt){const wn=ki[Kt];if(void 0!==wn)return $C(wn)}(Ct),jt=ct.message;void 0===ft&&(ft=Te.INTERNAL,jt="Unknown error status: "+Ct+" with message "+ct.message),D=!0,x.eo(new Ke(ft,jt)),v.close()}else Qe("Connection","WebChannel received:",De),x.no(De)}}),P(u,rC.STAT_EVENT,H=>{H.stat===jv.PROXY?Qe("Connection","Detected buffering proxy"):H.stat===jv.NOPROXY&&Qe("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.Zr()},0),x}}function BA(){return typeof window<"u"?window:null}function Qb(){return typeof document<"u"?document:null}function Kg(n){return new Eg(n,!0)}class Zg{constructor(e,t,i=1e3,r=1.5,a=6e4){this.js=e,this.timerId=t,this.lo=i,this.fo=r,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,t-i);r>0&&Qe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class xI{constructor(e,t,i,r,a,u,f,g){this.js=e,this.Ao=i,this.Ro=r,this.bo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Zg(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,xe.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,xe.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var i=this;return(0,xe.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==e?i.So.reset():t&&t.code===Te.RESOURCE_EXHAUSTED?(Ri(t.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):t&&t.code===Te.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===t&&this.Uo(i,r)},i=>{e(()=>{const r=new Ke(Te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(e,t){const i=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var e=this;this.state=5,this.So.Io((0,xe.Z)(function*(){e.state=0,e.start()}))}qo(e){return Qe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UA extends xI{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.wt=a}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function cA(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:At(),r=e.targetChange.targetIds||[],a=function(g,v){return g.dt?(Gt(void 0===v||"string"==typeof v),Bi.fromBase64String(v||"")):(Gt(void 0===v||v instanceof Uint8Array),Bi.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(g){const v=void 0===g.code?Te.UNKNOWN:$C(g.code);return new Ke(v,g.message||"")}(u);t=new no(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Lo(n,i.document.name),a=Ui(i.document.updateTime),u=new lr({mapValue:{fields:i.document.fields}}),f=qn.newFoundDocument(r,a,u);t=new vg(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const i=e.documentDelete,r=Lo(n,i.document),a=i.readTime?Ui(i.readTime):Wt.min(),u=qn.newNoDocument(r,a);t=new vg([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Lo(n,i.document);t=new vg([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return At();{const i=e.filter,a=new iA(i.count||0);t=new bg(i.targetId,a)}}var g;return t}(this.wt,e),i=function(r){if(!("targetChange"in r))return Wt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Wt.min():a.readTime?Ui(a.readTime):Wt.min()}(e);return this.listener.Go(t,i)}Qo(e){const t={};t.database=Pc(this.wt),t.addTarget=function(r,a){let u;const f=a.target;return u=ag(f)?{documents:Tb(r,f)}:{query:Sg(r,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=WC(r,a.resumeToken):a.snapshotVersion.compareTo(Wt.min())>0&&(u.readTime=Dl(r,a.snapshotVersion.toTimestamp())),u}(this.wt,e);const i=function KC(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return At()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Mo(t)}jo(e){const t={};t.database=Pc(this.wt),t.removeTarget=e,this.Mo(t)}}class HA extends xI{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.wt=a,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function uA(n,e){return n&&n.length>0?(Gt(void 0!==e),n.map(t=>function(i,r){let a=Ui(i.updateTime?i.updateTime:r);return a.isEqual(Wt.min())&&(a=Ui(r)),new mb(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Ui(e.commitTime);return this.listener.Jo(i,t)}return Gt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Pc(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Tf(this.wt,i))};this.Mo(t)}}class jA extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new Ke(Te.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.bo.ro(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ke(Te.UNKNOWN,r.toString())})}ao(e,t,i,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.bo.ao(e,t,i,a,u,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ke(Te.UNKNOWN,a.toString())})}terminate(){this.Zo=!0}}class RI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Ri(t),this.su=!1):Qe("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class kI{constructor(e,t,i,r,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(f=>{i.enqueueAndForget((0,xe.Z)(function*(){var g;$c(u)&&(Qe("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,xe.Z)(function*(v){const I=mt(v);I.lu.add(4),yield Ed(I),I._u.set("Unknown"),I.lu.delete(4),yield wd(I)}),function(v){return g.apply(this,arguments)})(u))}))}),this._u=new RI(i,r)}}function wd(n){return Xb.apply(this,arguments)}function Xb(){return Xb=(0,xe.Z)(function*(n){if($c(n))for(const e of n.fu)yield e(!0)}),Xb.apply(this,arguments)}function Ed(n){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,xe.Z)(function*(n){for(const e of n.fu)yield e(!1)}),Yg.apply(this,arguments)}function Cd(n,e){const t=mt(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),ew(t)?Jb(t):Fe(t).Co()&&Xg(t,e))}function Qg(n,e){const t=mt(n),i=Fe(t);t.hu.delete(e),i.Co()&&Jg(t,e),0===t.hu.size&&(i.Co()?i.ko():$c(t)&&t._u.set("Unknown"))}function Xg(n,e){n.wu.Nt(e.targetId),Fe(n).Qo(e)}function Jg(n,e){n.wu.Nt(e),Fe(n).jo(e)}function Jb(n){n.wu=new wg({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),Fe(n).start(),n._u.iu()}function ew(n){return $c(n)&&!Fe(n).Do()&&n.hu.size>0}function $c(n){return 0===mt(n).lu.size}function $A(n){n.wu=void 0}function zA(n){return tw.apply(this,arguments)}function tw(){return tw=(0,xe.Z)(function*(n){n.hu.forEach((e,t)=>{Xg(n,e)})}),tw.apply(this,arguments)}function GA(n,e){return OI.apply(this,arguments)}function OI(){return OI=(0,xe.Z)(function*(n,e){$A(n),ew(n)?(n._u.uu(e),Jb(n)):n._u.set("Unknown")}),OI.apply(this,arguments)}function Pk(n,e,t){return PI.apply(this,arguments)}function PI(){return PI=(0,xe.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof no&&2===e.state&&e.cause)try{yield(i=(0,xe.Z)(function*(r,a){const u=a.cause;for(const f of a.targetIds)r.hu.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.hu.delete(f),r.wu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Qe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield nw(n,i)}else if(e instanceof vg?n.wu.Ut(e):e instanceof bg?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(Wt.min()))try{const i=yield wI(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const u=r.wu.Yt(a);return u.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const v=r.hu.get(g);v&&r.hu.set(g,v.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const g=r.hu.get(f);if(!g)return;r.hu.set(f,g.withResumeToken(Bi.EMPTY_BYTE_STRING,g.snapshotVersion)),Jg(r,f);const v=new Tl(g.target,f,1,g.sequenceNumber);Xg(r,v)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Qe("RemoteStore","Failed to raise snapshot:",i),yield nw(n,i)}var i}),PI.apply(this,arguments)}function nw(n,e,t){return NI.apply(this,arguments)}function NI(){return NI=(0,xe.Z)(function*(n,e,t){if(!pl(e))throw e;n.lu.add(1),yield Ed(n),n._u.set("Offline"),t||(t=()=>wI(n.localStore)),n.asyncQueue.enqueueRetryable((0,xe.Z)(function*(){Qe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield wd(n)}))}),NI.apply(this,arguments)}function FI(n,e){return e().catch(t=>nw(n,t,e))}function $f(n){return LI.apply(this,arguments)}function LI(){return LI=(0,xe.Z)(function*(n){const e=mt(n),t=Ze(e);let i=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;Nk(e);)try{const r=yield FA(e.localStore,i);if(null===r){0===e.au.length&&t.ko();break}i=r.batchId,Fk(e,r)}catch(r){yield nw(e,r)}s(e)&&o(e)}),LI.apply(this,arguments)}function Nk(n){return $c(n)&&n.au.length<10}function Fk(n,e){n.au.push(e);const t=Ze(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function s(n){return $c(n)&&!Ze(n).Do()&&n.au.length>0}function o(n){Ze(n).start()}function l(n){return d.apply(this,arguments)}function d(){return d=(0,xe.Z)(function*(n){Ze(n).Xo()}),d.apply(this,arguments)}function h(n){return p.apply(this,arguments)}function p(){return p=(0,xe.Z)(function*(n){const e=Ze(n);for(const t of n.au)e.Ho(t.mutations)}),p.apply(this,arguments)}function y(n,e,t){return w.apply(this,arguments)}function w(){return w=(0,xe.Z)(function*(n,e,t){const i=n.au.shift(),r=Nb.from(i,e,t);yield FI(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield $f(n)}),w.apply(this,arguments)}function C(n,e){return T.apply(this,arguments)}function T(){return T=(0,xe.Z)(function*(n,e){var t;e&&Ze(n).zo&&(yield(t=(0,xe.Z)(function*(i,r){if(jC(a=r.code)&&a!==Te.ABORTED){const u=i.au.shift();Ze(i).No(),yield FI(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield $f(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),s(n)&&o(n)}),T.apply(this,arguments)}function A(n,e){return O.apply(this,arguments)}function O(){return O=(0,xe.Z)(function*(n,e){const t=mt(n);t.asyncQueue.verifyOperationInProgress(),Qe("RemoteStore","RemoteStore received new credentials");const i=$c(t);t.lu.add(3),yield Ed(t),i&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield wd(t)}),O.apply(this,arguments)}function q(n,e){return ce.apply(this,arguments)}function ce(){return ce=(0,xe.Z)(function*(n,e){const t=mt(n);e?(t.lu.delete(2),yield wd(t)):e||(t.lu.add(2),yield Ed(t),t._u.set("Unknown"))}),ce.apply(this,arguments)}function Fe(n){return n.mu||(n.mu=function(e,t,i){const r=mt(e);return r.tu(),new UA(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:zA.bind(null,n),Jr:GA.bind(null,n),Go:Pk.bind(null,n)}),n.fu.push(function(){var e=(0,xe.Z)(function*(t){t?(n.mu.No(),ew(n)?Jb(n):n._u.set("Unknown")):(yield n.mu.stop(),$A(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Ze(n){return n.gu||(n.gu=function(e,t,i){const r=mt(e);return r.tu(),new HA(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:l.bind(null,n),Jr:C.bind(null,n),Yo:h.bind(null,n),Jo:y.bind(null,n)}),n.fu.push(function(){var e=(0,xe.Z)(function*(t){t?(n.gu.No(),yield $f(n)):(yield n.gu.stop(),n.au.length>0&&(Qe("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class lt{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,f=new lt(e,t,u,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ke(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yt(n,e){if(Ri("AsyncQueue",`${e}: ${n}`),pl(n))return new Ke(Te.UNAVAILABLE,`${e}: ${n}`);throw n}class Pt{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ht.comparator(t.key,i.key):(t,i)=>ht.comparator(t.key,i.key),this.keyedMap=ld(),this.sortedSet=new Gn(this.comparator)}static emptySet(e){return new Pt(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Pt;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class qe{constructor(){this.yu=new Gn(ht.comparator)}track(e){const t=e.doc.key,i=this.yu.get(t);i?0!==e.type&&3===i.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==i.type?this.yu=this.yu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.yu=this.yu.remove(t):1===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):At():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Mt{constructor(e,t,i,r,a,u,f,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=g}static fromInitialDocuments(e,t,i,r){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new Mt(e,t,Pt.emptySet(t),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class bn{constructor(){this.Iu=void 0,this.listeners=[]}}class Jn{constructor(){this.queries=new Il(e=>db(e),eo),this.onlineState="Unknown",this.Tu=new Set}}function Ea(n,e){return zf.apply(this,arguments)}function zf(){return zf=(0,xe.Z)(function*(n,e){const t=mt(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new bn),r)try{a.Iu=yield t.onListen(i)}catch(u){const f=yt(u,`Initialization of query '${hb(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.Eu(t.onlineState),a.Iu&&e.Au(a.Iu)&&Wf(t)}),zf.apply(this,arguments)}function Gf(n,e){return qf.apply(this,arguments)}function qf(){return qf=(0,xe.Z)(function*(n,e){const t=mt(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),qf.apply(this,arguments)}function iw(n,e){const t=mt(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.Au(r)&&(i=!0);u.Iu=r}}i&&Wf(t)}function rw(n,e,t){const i=mt(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function Wf(n){n.Tu.forEach(e=>{e.next()})}class Kf{constructor(e,t,i){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Mt(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Mt.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class sw{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class e_{constructor(e){this.wt=e}Wi(e){return Lo(this.wt,e)}zi(e){return e.metadata.exists?Tg(this.wt,e.document,!1):qn.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return Ui(e)}}class oV{constructor(e,t,i){this.xu=e,this.localStore=t,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Lk(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=En.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,i=new e_(this.wt);for(const r of e)if(r.metadata.queries){const a=i.Wi(r.metadata.name);for(const u of r.metadata.queries){const f=(t.get(u)||cn()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,xe.Z)(function*(){const t=yield function Rk(n,e,t,i){return SI.apply(this,arguments)}(e.localStore,new e_(e.wt),e.documents,e.xu.id),i=e.ku(e.documents);for(const r of e.queries)yield kk(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function Lk(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Vk{constructor(e){this.key=e}}class Bk{constructor(e){this.key=e}}class Uk{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=cn(),this.mutatedKeys=cn(),this.Lu=Rc(e),this.Uu=new Pt(this.Lu)}get qu(){return this.Fu}Ku(e,t){const i=t?t.Gu:new qe,r=t?t.Uu:this.Uu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((I,D)=>{const x=r.get(I),P=hg(this.query,D)?D:null,H=!!x&&this.mutatedKeys.has(x.key),ne=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let De=!1;x&&P?x.data.isEqual(P.data)?H!==ne&&(i.track({type:3,doc:P}),De=!0):this.Qu(x,P)||(i.track({type:2,doc:P}),De=!0,(g&&this.Lu(P,g)>0||v&&this.Lu(P,v)<0)&&(f=!0)):!x&&P?(i.track({type:0,doc:P}),De=!0):x&&!P&&(i.track({type:1,doc:x}),De=!0,(g||v)&&(f=!0)),De&&(P?(u=u.add(P),a=ne?a.add(I):a.delete(I)):(u=u.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const I="F"===this.query.limitType?u.last():u.first();u=u.delete(I.key),a=a.delete(I.key),i.track({type:1,doc:I})}return{Uu:u,Gu:i,Oi:f,mutatedKeys:a}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const a=e.Gu.pu();a.sort((v,I)=>function(D,x){const P=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At()}};return P(D)-P(x)}(v.type,I.type)||this.Lu(v.doc,I.doc)),this.ju(i);const u=t?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,g=f!==this.$u;return this.$u=f,0!==a.length||g?{snapshot:new Mt(this.query,e.Uu,r,a,e.mutatedKeys,0===f,g,!1),zu:u}:{zu:u}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new qe,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=cn(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const t=[];return e.forEach(i=>{this.Bu.has(i)||t.push(new Bk(i))}),this.Bu.forEach(i=>{e.has(i)||t.push(new Vk(i))}),t}Ju(e){this.Fu=e.ji,this.Bu=cn();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Mt.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class aV{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class lV{constructor(e){this.key=e,this.Xu=!1}}class cV{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Zu={},this.tc=new Il(f=>db(f),eo),this.ec=new Map,this.nc=new Set,this.sc=new Gn(ht.comparator),this.ic=new Map,this.rc=new Vg,this.oc={},this.uc=new Map,this.cc=jc.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function uV(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,xe.Z)(function*(n,e){const t=mM(n);let i,r;const a=t.tc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.Yu();else{const u=yield vd(t.localStore,Rs(e));t.isPrimaryClient&&Cd(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield WA(t,e,i,"current"===f)}return r}),qA.apply(this,arguments)}function WA(n,e,t,i){return KA.apply(this,arguments)}function KA(){return KA=(0,xe.Z)(function*(n,e,t,i){n.hc=(I,D,x)=>{return(P=(0,xe.Z)(function*(H,ne,De,rt){let ct=ne.view.Ku(De);ct.Oi&&(ct=yield Bf(H.localStore,ne.query,!1).then(({documents:jt})=>ne.view.Ku(jt,ct)));const Ct=rt&&rt.targetChanges.get(ne.targetId),ft=ne.view.applyChanges(ct,H.isPrimaryClient,Ct);return rM(H,ne.targetId,ft.zu),ft.snapshot}),function(H,ne,De,rt){return P.apply(this,arguments)})(n,I,D,x);var P};const r=yield Bf(n.localStore,e,!0),a=new Uk(e,r.ji),u=a.Ku(r.documents),f=va.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),g=a.applyChanges(u,n.isPrimaryClient,f);rM(n,t,g.zu);const v=new aV(e,t,a);return n.tc.set(e,v),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),g.snapshot}),KA.apply(this,arguments)}function dV(n,e){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,xe.Z)(function*(n,e){const t=mt(n),i=t.tc.get(e),r=t.ec.get(i.targetId);if(r.length>1)return t.ec.set(i.targetId,r.filter(a=>!eo(a,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Vf(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Qg(t.remoteStore,i.targetId),t_(t,i.targetId)}).catch(ga))):(t_(t,i.targetId),yield Vf(t.localStore,i.targetId,!0))}),ZA.apply(this,arguments)}function YA(){return YA=(0,xe.Z)(function*(n,e,t){const i=gM(n);try{const r=yield function(a,u){const f=mt(a),g=Pn.now(),v=u.reduce((x,P)=>x.add(P.key),cn());let I,D;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>{let P=Rr(),H=cn();return f.Ui.getEntries(x,v).next(ne=>{P=ne,P.forEach((De,rt)=>{rt.isValidDocument()||(H=H.add(De))})}).next(()=>f.localDocuments.getOverlayedDocuments(x,P)).next(ne=>{I=ne;const De=[];for(const rt of u){const ct=nA(rt,I.get(rt.key).overlayedDocument);null!=ct&&De.push(new ya(rt.key,ct,TC(ct.value.mapValue),ci.exists(!0)))}return f.mutationQueue.addMutationBatch(x,g,De,u)}).next(ne=>{D=ne;const De=ne.applyToLocalDocumentSet(I,H);return f.documentOverlayCache.saveOverlays(x,ne.batchId,De)})}).then(()=>({batchId:D.batchId,changes:bb(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,f){let g=a.oc[a.currentUser.toKey()];g||(g=new Gn(qt)),g=g.insert(u,f),a.oc[a.currentUser.toKey()]=g}(i,r.batchId,t),yield zc(i,r.changes),yield $f(i.remoteStore)}catch(r){const a=yt(r,"Failed to persist write");t.reject(a)}}),YA.apply(this,arguments)}function Hk(n,e){return QA.apply(this,arguments)}function QA(){return QA=(0,xe.Z)(function*(n,e){const t=mt(n);try{const i=yield EI(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.ic.get(a);u&&(Gt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.Xu=!0:r.modifiedDocuments.size>0?Gt(u.Xu):r.removedDocuments.size>0&&(Gt(u.Xu),u.Xu=!1))}),yield zc(t,i,e)}catch(i){yield ga(i)}}),QA.apply(this,arguments)}function jk(n,e,t){const i=mt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.tc.forEach((a,u)=>{const f=u.view.Eu(e);f.snapshot&&r.push(f.snapshot)}),function(a,u){const f=mt(a);f.onlineState=u;let g=!1;f.queries.forEach((v,I)=>{for(const D of I.listeners)D.Eu(u)&&(g=!0)}),g&&Wf(f)}(i.eventManager,e),r.length&&i.Zu.Go(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function fV(n,e,t){return XA.apply(this,arguments)}function XA(){return XA=(0,xe.Z)(function*(n,e,t){const i=mt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ic.get(e),a=r&&r.key;if(a){let u=new Gn(ht.comparator);u=u.insert(a,qn.newNoDocument(a,Wt.min()));const f=cn().add(a),g=new Df(Wt.min(),new Map,new Fn(qt),u,f);yield Hk(i,g),i.sc=i.sc.remove(a),i.ic.delete(e),sM(i)}else yield Vf(i.localStore,e,!1).then(()=>t_(i,e,t)).catch(ga)}),XA.apply(this,arguments)}function pV(n,e){return JA.apply(this,arguments)}function JA(){return JA=(0,xe.Z)(function*(n,e){const t=mt(n),i=e.batch.batchId;try{const r=yield bI(t.localStore,e);iM(t,i,null),nM(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield zc(t,r)}catch(r){yield ga(r)}}),JA.apply(this,arguments)}function mV(n,e,t){return eM.apply(this,arguments)}function eM(){return eM=(0,xe.Z)(function*(n,e,t){const i=mt(n);try{const r=yield function(a,u){const f=mt(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return f.mutationQueue.lookupMutationBatch(g,u).next(I=>(Gt(null!==I),v=I.keys(),f.mutationQueue.removeMutationBatch(g,I))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,v,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>f.localDocuments.getDocuments(g,v))})}(i.localStore,e);iM(i,e,t),nM(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield zc(i,r)}catch(r){yield ga(r)}}),eM.apply(this,arguments)}function tM(){return tM=(0,xe.Z)(function*(n,e){const t=mt(n);$c(t.remoteStore)||Qe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=mt(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.uc.get(i)||[];r.push(e),t.uc.set(i,r)}catch(i){const r=yt(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),tM.apply(this,arguments)}function nM(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function iM(n,e,t){const i=mt(n);let r=i.oc[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.oc[i.currentUser.toKey()]=r}}function t_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ec.get(e))n.tc.delete(i),t&&n.Zu.lc(i,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(i=>{n.rc.containsKey(i)||$k(n,i)})}function $k(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(Qg(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),sM(n))}function rM(n,e,t){for(const i of t)i instanceof Vk?(n.rc.addReference(i.key,e),_V(n,i)):i instanceof Bk?(Qe("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,e),n.rc.containsKey(i.key)||$k(n,i.key)):At()}function _V(n,e){const t=e.key,i=t.path.canonicalString();n.sc.get(t)||n.nc.has(i)||(Qe("SyncEngine","New document in limbo: "+t),n.nc.add(i),sM(n))}function sM(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new ht(En.fromString(e)),i=n.cc.next();n.ic.set(i,new lV(t)),n.sc=n.sc.insert(t,i),Cd(n.remoteStore,new Tl(Rs(El(t.path)),i,2,xr.ot))}}function zc(n,e,t){return oM.apply(this,arguments)}function oM(){return oM=(0,xe.Z)(function*(n,e,t){const i=mt(n),r=[],a=[],u=[];var f;i.tc.isEmpty()||(i.tc.forEach((f,g)=>{u.push(i.hc(g,e,t).then(v=>{if(v){i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,v.fromCache?"not-current":"current"),r.push(v);const I=jg.Vi(g.targetId,v);a.push(I)}}))}),yield Promise.all(u),i.Zu.Go(r),yield(f=(0,xe.Z)(function*(g,v){const I=mt(g);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>ye.forEach(v,x=>ye.forEach(x.Pi,P=>I.persistence.referenceDelegate.addReference(D,x.targetId,P)).next(()=>ye.forEach(x.vi,P=>I.persistence.referenceDelegate.removeReference(D,x.targetId,P)))))}catch(D){if(!pl(D))throw D;Qe("LocalStore","Failed to update sequence numbers: "+D)}for(const D of v){const x=D.targetId;if(!D.fromCache){const P=I.$i.get(x),ne=P.withLastLimboFreeSnapshotVersion(P.snapshotVersion);I.$i=I.$i.insert(x,ne)}}}),function(g,v){return f.apply(this,arguments)})(i.localStore,a))}),oM.apply(this,arguments)}function yV(n,e){return aM.apply(this,arguments)}function aM(){return aM=(0,xe.Z)(function*(n,e){const t=mt(n);if(!t.currentUser.isEqual(e)){Qe("SyncEngine","User change. New user:",e.toKey());const i=yield Lf(t.localStore,e);t.currentUser=e,(r=t).uc.forEach(u=>{u.forEach(f=>{f.reject(new Ke(Te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield zc(t,i.Ki)}var r}),aM.apply(this,arguments)}function vV(n,e){const t=mt(n),i=t.ic.get(e);if(i&&i.Xu)return cn().add(i.key);{let r=cn();const a=t.ec.get(e);if(!a)return r;for(const u of a){const f=t.tc.get(u);r=r.unionWith(f.view.qu)}return r}}function bV(n,e){return lM.apply(this,arguments)}function lM(){return lM=(0,xe.Z)(function*(n,e){const t=mt(n),i=yield Bf(t.localStore,e.query,!0),r=e.view.Ju(i);return t.isPrimaryClient&&rM(t,e.targetId,r.zu),r}),lM.apply(this,arguments)}function wV(n,e){return cM.apply(this,arguments)}function cM(){return cM=(0,xe.Z)(function*(n,e){const t=mt(n);return DI(t.localStore,e).then(i=>zc(t,i))}),cM.apply(this,arguments)}function EV(n,e,t,i){return uM.apply(this,arguments)}function uM(){return uM=(0,xe.Z)(function*(n,e,t,i){const r=mt(n),a=yield function(u,f){const g=mt(u),v=mt(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",I=>v.yn(I,f).next(D=>D?g.localDocuments.getDocuments(I,D):ye.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield $f(r.remoteStore):"acknowledged"===t||"rejected"===t?(iM(r,e,i||null),nM(r,e),f=e,mt(mt(r.localStore).mutationQueue).In(f)):At(),yield zc(r,a)):Qe("SyncEngine","Cannot apply mutation batch with id: "+e)}),uM.apply(this,arguments)}function dM(){return dM=(0,xe.Z)(function*(n,e){const t=mt(n);if(mM(t),gM(t),!0===e&&!0!==t.ac){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield zk(t,i.toArray());t.ac=!0,yield q(t.remoteStore,!0);for(const a of r)Cd(t.remoteStore,a)}else if(!1===e&&!1!==t.ac){const i=[];let r=Promise.resolve();t.ec.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(t_(t,u),Vf(t.localStore,u,!0))),Qg(t.remoteStore,u)}),yield r,yield zk(t,i),function(a){const u=mt(a);u.ic.forEach((f,g)=>{Qg(u.remoteStore,g)}),u.rc.cs(),u.ic=new Map,u.sc=new Gn(ht.comparator)}(t),t.ac=!1,yield q(t.remoteStore,!1)}}),dM.apply(this,arguments)}function zk(n,e,t){return hM.apply(this,arguments)}function hM(){return hM=(0,xe.Z)(function*(n,e,t){const i=mt(n),r=[],a=[];for(const u of e){let f;const g=i.ec.get(u);if(g&&0!==g.length){f=yield vd(i.localStore,Rs(g[0]));for(const v of g){const I=i.tc.get(v),D=yield bV(i,I);D.snapshot&&a.push(D.snapshot)}}else{const v=yield II(i.localStore,u);f=yield vd(i.localStore,v),yield WA(i,Gk(v),u,!1)}r.push(f)}return i.Zu.Go(a),r}),hM.apply(this,arguments)}function Gk(n){return PC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function IV(n){const e=mt(n);return mt(mt(e.localStore).persistence).Ri()}function DV(n,e,t,i){return fM.apply(this,arguments)}function fM(){return fM=(0,xe.Z)(function*(n,e,t,i){const r=mt(n);if(r.ac)return void Qe("SyncEngine","Ignoring unexpected query state notification.");const a=r.ec.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield DI(r.localStore,NC(a[0])),f=Df.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield zc(r,u,f);break}case"rejected":yield Vf(r.localStore,e,!0),t_(r,e,i);break;default:At()}}),fM.apply(this,arguments)}function TV(n,e,t){return pM.apply(this,arguments)}function pM(){return pM=(0,xe.Z)(function*(n,e,t){const i=mM(n);if(i.ac){for(const r of e){if(i.ec.has(r)){Qe("SyncEngine","Adding an already active target "+r);continue}const a=yield II(i.localStore,r),u=yield vd(i.localStore,a);yield WA(i,Gk(a),u.targetId,!1),Cd(i.remoteStore,u)}for(const r of t)i.ec.has(r)&&(yield Vf(i.localStore,r,!1).then(()=>{Qg(i.remoteStore,r),t_(i,r)}).catch(ga))}}),pM.apply(this,arguments)}function mM(n){const e=mt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fV.bind(null,e),e.Zu.Go=iw.bind(null,e.eventManager),e.Zu.lc=rw.bind(null,e.eventManager),e}function gM(n){const e=mt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mV.bind(null,e),e}class qk{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,xe.Z)(function*(){t.wt=Kg(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return Kb(this.persistence,new yI,e.initialUser,this.wt)}_c(e){return new _I(Ff.Ms,this.wt)}dc(e){return new Gg}terminate(){var e=this;return(0,xe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Wk extends qk{constructor(e,t,i){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,xe.Z)(function*(){yield t().call(i,e),yield i.yc.initialize(i,e),yield gM(i.yc.syncEngine),yield $f(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return Kb(this.persistence,new yI,e.initialUser,this.wt)}mc(e,t){return new as(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const i=new ig(t,this.persistence);return new $S(e.asyncQueue,i)}_c(e){const t=Hg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Gr.withCacheSize(this.cacheSizeBytes):Gr.DEFAULT;return new Bg(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,BA(),Qb(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new Gg}}class AV extends Wk{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,xe.Z)(function*(){yield t().call(i,e);const r=i.yc.syncEngine;i.sharedClientState instanceof jf&&(i.sharedClientState.syncEngine={kr:EV.bind(null,r),Or:DV.bind(null,r),Mr:TV.bind(null,r),Ri:IV.bind(null,r),Nr:wV.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var a=(0,xe.Z)(function*(u){yield function CV(n,e){return dM.apply(this,arguments)}(i.yc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}dc(e){const t=BA();if(!jf.V(t))throw new Ke(Te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Hg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jf(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class _M{initialize(e,t){var i=this;return(0,xe.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>jk(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=yV.bind(null,i.syncEngine),yield q(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Jn}createDatastore(e){const t=Kg(e.databaseInfo.databaseId),i=new Ok(e.databaseInfo);return new jA(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>jk(this.syncEngine,f,0),u=qg.V()?new qg:new VA,new kI(t,i,r,a,u);var t,i,r,a,u}createSyncEngine(e,t){return function(i,r,a,u,f,g,v){const I=new cV(i,r,a,u,f,g);return v&&(I.ac=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,xe.Z)(function*(t){const i=mt(t);Qe("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield Ed(i),i.du.shutdown(),i._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Kk(n,e=10240){let t=0;return{read:()=>(0,xe.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,xe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class VI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class MV{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new Yi,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,xe.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,xe.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,xe.Z)(function*(){const t=yield e.bc();if(null===t)return null;const i=e.Ac.decode(t),r=Number(i);isNaN(r)&&e.Pc(`length string (${i}) is not valid number`);const a=yield e.vc(r);return new sw(JSON.parse(a),t.length+r)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,xe.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}vc(e){var t=this;return(0,xe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const i=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,xe.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class xV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,xe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ke(Te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,xe.Z)(function*(a,u){const f=mt(a),g=Pc(f.wt)+"/documents",v={documents:u.map(P=>ud(f.wt,P))},I=yield f.ao("BatchGetDocuments",g,v,u.length),D=new Map;I.forEach(P=>{const H=function Ib(n,e){return"found"in e?function(t,i){Gt(!!i.found);const r=Lo(t,i.found.name),a=Ui(i.found.updateTime),u=new lr({mapValue:{fields:i.found.fields}});return qn.newFoundDocument(r,a,u)}(n,e):"missing"in e?function(t,i){Gt(!!i.missing),Gt(!!i.readTime);const r=Lo(t,i.missing),a=Ui(i.readTime);return qn.newNoDocument(r,a)}(n,e):At()}(f.wt,P);D.set(H.key.toString(),H)});const x=[];return u.forEach(P=>{const H=D.get(P.toString());Gt(!!H),x.push(H)}),x}),function(a,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new ad(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,xe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=ht.fromPath(r);e.mutations.push(new yb(a,e.precondition(a)))}),yield(i=(0,xe.Z)(function*(r,a){const u=mt(r),f=Pc(u.wt)+"/documents",g={writes:a.map(v=>Tf(u.wt,v))};yield u.ro("Commit",f,g)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw At();t=Wt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Ke(Te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ci.updateTime(t):ci.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Wt.min()))throw new Ke(Te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ci.updateTime(t)}return ci.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class RV{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Dc=i.maxAttempts,this.So=new Zg(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,xe.Z)(function*(){const t=new xV(e.datastore),i=e.xc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Nc(a)}))}).catch(r=>{e.Nc(r)})}))}xc(e){try{const t=this.updateFunction(e);return!gf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!jC(t)}return!1}}class kV{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Zi.UNAUTHENTICATED,this.clientId=tg.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,xe.Z)(function*(f){Qe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Qe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,xe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ke(Te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,xe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=yt(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function Zk(n,e){return yM.apply(this,arguments)}function yM(){return yM=(0,xe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Qe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,xe.Z)(function*(a){i.isEqual(a)||(yield Lf(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),yM.apply(this,arguments)}function Yk(n,e){return vM.apply(this,arguments)}function vM(){return vM=(0,xe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield bM(n);Qe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>A(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>A(e.remoteStore,a)),n.onlineComponents=e}),vM.apply(this,arguments)}function bM(n){return wM.apply(this,arguments)}function wM(){return wM=(0,xe.Z)(function*(n){return n.offlineComponents||(Qe("FirestoreClient","Using default OfflineComponentProvider"),yield Zk(n,new qk)),n.offlineComponents}),wM.apply(this,arguments)}function BI(n){return EM.apply(this,arguments)}function EM(){return EM=(0,xe.Z)(function*(n){return n.onlineComponents||(Qe("FirestoreClient","Using default OnlineComponentProvider"),yield Yk(n,new _M)),n.onlineComponents}),EM.apply(this,arguments)}function Qk(n){return bM(n).then(e=>e.persistence)}function CM(n){return bM(n).then(e=>e.localStore)}function Xk(n){return BI(n).then(e=>e.remoteStore)}function IM(n){return BI(n).then(e=>e.syncEngine)}function n_(n){return DM.apply(this,arguments)}function DM(){return DM=(0,xe.Z)(function*(n){const e=yield BI(n),t=e.eventManager;return t.onListen=uV.bind(null,e.syncEngine),t.onUnlisten=dV.bind(null,e.syncEngine),t}),DM.apply(this,arguments)}function Jk(n,e,t={}){const i=new Yi;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(r,a,u,f,g){const v=new VI({next:D=>{a.enqueueAndForget(()=>Gf(r,I));const x=D.docs.has(u);!x&&D.fromCache?g.reject(new Ke(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&D.fromCache&&f&&"server"===f.source?g.reject(new Ke(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(D)},error:D=>g.reject(D)}),I=new Kf(El(u.path),v,{includeMetadataChanges:!0,Du:!0});return Ea(r,I)}(yield n_(n),n.asyncQueue,e,t,i)})),i.promise}function eO(n,e,t={}){const i=new Yi;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(r,a,u,f,g){const v=new VI({next:D=>{a.enqueueAndForget(()=>Gf(r,I)),D.fromCache&&"server"===f.source?g.reject(new Ke(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(D)},error:D=>g.reject(D)}),I=new Kf(u,v,{includeMetadataChanges:!0,Du:!0});return Ea(r,I)}(yield n_(n),n.asyncQueue,e,t,i)})),i.promise}const tO=new Map;function TM(n,e,t){if(!t)throw new Ke(Te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function nO(n,e,t,i){if(!0===e&&!0===i)throw new Ke(Te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function iO(n){if(!ht.isDocumentKey(n))throw new Ke(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rO(n){if(ht.isDocumentKey(n))throw new Ke(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function UI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":At()}function Cn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ke(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=UI(n);throw new Ke(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function sO(n,e){if(e<=0)throw new Ke(Te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class oO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ke(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ke(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,nO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ow{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oO({}),this._settingsFrozen=!1,e instanceof As?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ke(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new As(r.options.projectId)}(e))}get app(){if(!this._app)throw new Ke(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ke(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new aC;switch(t.type){case"gapi":const i=t.client;return Gt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new dC(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ke(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=tO.get(e);t&&(Qe("ComponentProvider","Removing Datastore"),tO.delete(e),t.terminate())}(this),Promise.resolve()}}class ui{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ol(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ui(this.firestore,e,this._key)}}class qr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new qr(this.firestore,e,this._query)}}class Ol extends qr{constructor(e,t,i){super(e,t,El(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ui(this.firestore,null,new ht(e))}withConverter(e){return new Ol(this.firestore,e,this._path)}}function aO(n,e,...t){if(n=(0,Qt.m9)(n),TM("collection","path",e),n instanceof ow){const i=En.fromString(e,...t);return rO(i),new Ol(n,null,i)}{if(!(n instanceof ui||n instanceof Ol))throw new Ke(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(En.fromString(e,...t));return rO(i),new Ol(n.firestore,null,i)}}function HI(n,e,...t){if(n=(0,Qt.m9)(n),1===arguments.length&&(e=tg.I()),TM("doc","path",e),n instanceof ow){const i=En.fromString(e,...t);return iO(i),new ui(n,null,new ht(i))}{if(!(n instanceof ui||n instanceof Ol))throw new Ke(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(En.fromString(e,...t));return iO(i),new ui(n.firestore,n instanceof Ol?n.converter:null,new ht(i))}}function lO(n,e){return n=(0,Qt.m9)(n),e=(0,Qt.m9)(e),(n instanceof ui||n instanceof Ol)&&(e instanceof ui||e instanceof Ol)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function cO(n,e){return n=(0,Qt.m9)(n),e=(0,Qt.m9)(e),n instanceof qr&&e instanceof qr&&n.firestore===e.firestore&&eo(n._query,e._query)&&n.converter===e.converter}class $V{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Zg(this,"async_queue_retry"),this.Kc=()=>{const t=Qb();t&&Qe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=Qb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=Qb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new Yi;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,xe.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!pl(t))throw t;Qe("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(i=>{throw this.Bc=i,this.Lc=!1,Ri("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Oc=t,t}enqueueAfterDelay(e,t,i){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const r=lt.createAndSchedule(this,e,t,i,a=>this.Wc(a));return this.$c.push(r),r}Gc(){this.Bc&&At()}verifyOperationInProgress(){}zc(){var e=this;return(0,xe.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function SM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class zV{constructor(){this._progressObserver={},this._taskCompletionResolver=new Yi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class vi extends ow{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new $V,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||uO(this),this._firestoreClient.terminate()}}function qV(n=(0,zn.getApp)()){return(0,zn._getProvider)(n,"firestore").getImmediate()}function Qi(n){return n._firestoreClient||uO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function uO(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new CC(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new kV(n._authCredentials,n._appCheckCredentials,n._queue,i)}function dO(n,e,t){const i=new Yi;return n.asyncQueue.enqueue((0,xe.Z)(function*(){try{yield Zk(n,t),yield Yk(n,e),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(u=a).name?u.code===Te.FAILED_PRECONDITION||u.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var u})).then(()=>i.promise)}function hO(n){if(n._initialized||n._terminated)throw new Ke(Te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Gc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ke(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _i(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pl(Bi.fromBase64String(e))}catch(t){throw new Ke(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pl(Bi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Zf{constructor(e){this._methodName=e}}class jI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ke(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ke(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}const tB=/^__.*__$/;class nB{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new ya(e,this.data,this.fieldMask,t,this.fieldTransforms):new od(e,this.data,t,this.fieldTransforms)}}class fO{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ya(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At()}}class $I{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.wt=i,this.ignoreUndefinedProperties=r,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new $I(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:i,na:!1});return r.sa(e),r}ia(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:i,na:!1});return r.Xc(),r}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return qI(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(pO(this.Zc)&&tB.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class iB{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=i||Kg(e)}aa(e,t,i,r=!1){return new $I({Zc:e,methodName:t,ca:i,path:_i.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Yf(n){const e=n._freezeSettings(),t=Kg(n._databaseId);return new iB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zI(n,e,t,i,r,a={}){const u=n.aa(a.merge||a.mergeFields?2:0,e,t,r);RM("Data must be an object, but it was:",u,i);const f=_O(i,u);let g,v;if(a.merge)g=new zr(u.fieldMask),v=u.fieldTransforms;else if(a.mergeFields){const I=[];for(const D of a.mergeFields){const x=kM(e,D,t);if(!u.contains(x))throw new Ke(Te.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);vO(I,x)||I.push(x)}g=new zr(I),v=u.fieldTransforms.filter(D=>g.covers(D.field))}else g=null,v=u.fieldTransforms;return new nB(new lr(f),g,v)}class aw extends Zf{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof aw}}function mO(n,e,t){return new $I({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class AM extends Zf{_toFieldTransform(e){return new Ef(e.path,new kc)}isEqual(e){return e instanceof AM}}class rB extends Zf{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=mO(this,e,!0),i=this.ha.map(a=>Qf(a,t)),r=new Cl(i);return new Ef(e.path,r)}isEqual(e){return this===e}}class sB extends Zf{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=mO(this,e,!0),i=this.ha.map(a=>Qf(a,t)),r=new Fo(i);return new Ef(e.path,r)}isEqual(e){return this===e}}class oB extends Zf{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new sd(e.wt,fb(e.wt,this.la));return new Ef(e.path,t)}isEqual(e){return this===e}}function MM(n,e,t,i){const r=n.aa(1,e,t);RM("Data must be an object, but it was:",r,i);const a=[],u=lr.empty();ml(i,(g,v)=>{const I=GI(e,g,t);v=(0,Qt.m9)(v);const D=r.ia(I);if(v instanceof aw)a.push(I);else{const x=Qf(v,D);null!=x&&(a.push(I),u.set(I,x))}});const f=new zr(a);return new fO(u,f,r.fieldTransforms)}function xM(n,e,t,i,r,a){const u=n.aa(1,e,t),f=[kM(e,i,t)],g=[r];if(a.length%2!=0)throw new Ke(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)f.push(kM(e,a[x])),g.push(a[x+1]);const v=[],I=lr.empty();for(let x=f.length-1;x>=0;--x)if(!vO(v,f[x])){const P=f[x];let H=g[x];H=(0,Qt.m9)(H);const ne=u.ia(P);if(H instanceof aw)v.push(P);else{const De=Qf(H,ne);null!=De&&(v.push(P),I.set(P,De))}}const D=new zr(v);return new fO(I,D,u.fieldTransforms)}function gO(n,e,t,i=!1){return Qf(t,n.aa(i?4:3,e))}function Qf(n,e){if(yO(n=(0,Qt.m9)(n)))return RM("Unsupported field value:",e,n),_O(n,e);if(n instanceof Zf)return function(t,i){if(!pO(i.Zc))throw i.oa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const u of t){let f=Qf(u,i.ra(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,Qt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fb(i.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Pn.fromDate(t);return{timestampValue:Dl(i.wt,r)}}if(t instanceof Pn){const r=new Pn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Dl(i.wt,r)}}if(t instanceof jI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Pl)return{bytesValue:WC(i.wt,t._byteString)};if(t instanceof ui){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.oa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Cg(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.oa(`Unsupported field value: ${UI(t)}`)}(n,e)}function _O(n,e){const t={};return yC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ml(n,(i,r)=>{const a=Qf(r,e.ea(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function yO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Pn||n instanceof jI||n instanceof Pl||n instanceof ui||n instanceof Zf)}function RM(n,e,t){if(!yO(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=UI(t);throw e.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function kM(n,e,t){if((e=(0,Qt.m9)(e))instanceof Gc)return e._internalPath;if("string"==typeof e)return GI(n,e);throw qI("Field path arguments must be of type string or ",n,!1,void 0,t)}const aB=new RegExp("[~\\*/\\[\\]]");function GI(n,e,t){if(e.search(aB)>=0)throw qI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gc(...e.split("."))._internalPath}catch{throw qI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qI(n,e,t,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(a||u)&&(g+=" (found",a&&(g+=` in field ${i}`),u&&(g+=` in document ${r}`),g+=")"),new Ke(Te.INVALID_ARGUMENT,f+n+g)}function vO(n,e){return n.some(t=>t.isEqual(e))}class lw{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ui(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new lB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(WI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class lB extends lw{data(){return super.data()}}function WI(n,e){return"string"==typeof e?GI(n,e):e instanceof Gc?e._internalPath:e._delegate._internalPath}class Xf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qc extends lw{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(WI("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class cw extends qc{data(e={}){return super.data(e)}}class Id{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Xf(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new cw(this._firestore,this._userDataWriter,i.key,i,new Xf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ke(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new cw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Xf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new cw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Xf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,v=-1;return 0!==u.type&&(g=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),v=a.indexOf(u.doc.key)),{type:cB(u.type),doc:f,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At()}}function bO(n,e){return n instanceof qc&&e instanceof qc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Id&&e instanceof Id&&n._firestore===e._firestore&&cO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function wO(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ke(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uw{}function Dd(n,...e){for(const t of e)n=t._apply(n);return n}class uB extends uw{constructor(e,t,i){super(),this.fa=e,this.da=t,this._a=i,this.type="where"}_apply(e){const t=Yf(e.firestore),i=function(r,a,u,f,g,v,I){let D;if(g.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Ke(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){SO(I,v);const P=[];for(const H of I)P.push(TO(f,r,H));D={arrayValue:{values:P}}}else D=TO(f,r,I)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||SO(I,v),D=gO(u,"where",I,"in"===v||"not-in"===v);const x=cr.create(g,v,D);return function(P,H){if(H.ht()){const De=ub(P);if(null!==De&&!De.isEqual(H.field))throw new Ke(Te.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${De.toString()}' and '${H.field.toString()}'`);const rt=ug(P);null!==rt&&AO(0,H.field,rt)}const ne=function(De,rt){for(const ct of De.filters)if(rt.indexOf(ct.op)>=0)return ct.op;return null}(P,function(De){switch(De){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(H.op));if(null!==ne)throw new Ke(Te.INVALID_ARGUMENT,ne===H.op?`Invalid query. You cannot use more than one '${H.op.toString()}' filter.`:`Invalid query. You cannot use '${H.op.toString()}' filters with '${ne.toString()}' filters.`)}(r,x),x}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new qr(e.firestore,e.converter,function(r,a){const u=r.filters.concat([a]);return new _a(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class hB extends uw{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Ke(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ke(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new wl(r,a);return function(f,g){if(null===ug(f)){const v=ub(f);null!==v&&AO(0,v,g.field)}}(i,u),u}(e._query,this.fa,this.wa);return new qr(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new _a(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class EO extends uw{constructor(e,t,i){super(),this.type=e,this.ma=t,this.ga=i}_apply(e){return new qr(e.firestore,e.converter,id(e._query,this.ma,this.ga))}}class CO extends uw{constructor(e,t,i){super(),this.type=e,this.ya=t,this.pa=i}_apply(e){const t=DO(e,this.type,this.ya,this.pa);return new qr(e.firestore,e.converter,(r=t,new _a((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class IO extends uw{constructor(e,t,i){super(),this.type=e,this.ya=t,this.pa=i}_apply(e){const t=DO(e,this.type,this.ya,this.pa);return new qr(e.firestore,e.converter,(r=t,new _a((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function DO(n,e,t,i){if(t[0]=(0,Qt.m9)(t[0]),t[0]instanceof lw)return function(r,a,u,f,g){if(!f)throw new Ke(Te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const I of bf(r))if(I.field.isKeyField())v.push(xs(a,f.key));else{const D=f.data.field(I.field);if(EC(D))throw new Ke(Te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const x=I.field.canonicalString();throw new Ke(Te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}v.push(D)}return new bl(v,g)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Yf(n.firestore);return function(a,u,f,g,v,I){const D=a.explicitOrderBy;if(v.length>D.length)throw new Ke(Te.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let P=0;P<v.length;P++){const H=v[P];if(D[P].field.isKeyField()){if("string"!=typeof H)throw new Ke(Te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof H}`);if(!dg(a)&&-1!==H.indexOf("/"))throw new Ke(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${H}' contains a slash.`);const ne=a.path.child(En.fromString(H));if(!ht.isDocumentKey(ne))throw new Ke(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const De=new ht(ne);x.push(xs(u,De))}else{const ne=gO(f,g,H);x.push(ne)}}return new bl(x,I)}(n._query,n.firestore._databaseId,r,e,t,i)}}function TO(n,e,t){if("string"==typeof(t=(0,Qt.m9)(t))){if(""===t)throw new Ke(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dg(e)&&-1!==t.indexOf("/"))throw new Ke(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(En.fromString(t));if(!ht.isDocumentKey(i))throw new Ke(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return xs(n,new ht(i))}if(t instanceof ui)return xs(n,t._key);throw new Ke(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${UI(t)}.`)}function SO(n,e){if(!Array.isArray(n)||0===n.length)throw new Ke(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ke(Te.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function AO(n,e,t){if(!t.isEqual(e))throw new Ke(Te.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const bB={maxAttempts:5};class OM{convertValue(e,t="none"){switch(xc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ju(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw At()}}convertObject(e,t){const i={};return ml(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new jI(yi(e.latitude),yi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=zS(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(rg(e));default:return null}}convertTimestamp(e){const t=_l(e);return new Pn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=En.fromString(e);Gt(yr(i));const r=new As(i.get(1),i.get(3)),a=new ht(i.popFirst(5));return r.isEqual(t)||Ri(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function KI(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class wB extends OM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ui(this.firestore,null,t)}}class MO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Yf(e)}set(e,t,i){this._verifyNotCommitted();const r=Td(e,this._firestore),a=KI(r.converter,t,i),u=zI(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,ci.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=Td(e,this._firestore);let u;return u="string"==typeof(t=(0,Qt.m9)(t))||t instanceof Gc?xM(this._dataReader,"WriteBatch.update",a._key,t,i,r):MM(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,ci.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Td(e,this._firestore);return this._mutations=this._mutations.concat(new ad(t._key,ci.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ke(Te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Td(n,e){if((n=(0,Qt.m9)(n)).firestore!==e)throw new Ke(Te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Jf extends OM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ui(this.firestore,null,t)}}function xO(n,e,t){n=Cn(n,ui);const i=Cn(n.firestore,vi),r=KI(n.converter,e,t);return i_(i,[zI(Yf(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,ci.none())])}function RO(n,e,t,...i){n=Cn(n,ui);const r=Cn(n.firestore,vi),a=Yf(r);let u;return u="string"==typeof(e=(0,Qt.m9)(e))||e instanceof Gc?xM(a,"updateDoc",n._key,e,t,i):MM(a,"updateDoc",n._key,e),i_(r,[u.toMutation(n._key,ci.exists(!0))])}function kO(n,...e){var t,i,r;n=(0,Qt.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||SM(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(SM(e[u])){const D=e[u];e[u]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[u+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),e[u+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let g,v,I;if(n instanceof ui)v=Cn(n.firestore,vi),I=El(n._key.path),g={next:D=>{e[u]&&e[u](PM(v,n,D))},error:e[u+1],complete:e[u+2]};else{const D=Cn(n,qr);v=Cn(D.firestore,vi),I=D._query;const x=new Jf(v);g={next:P=>{e[u]&&e[u](new Id(v,x,D,P))},error:e[u+1],complete:e[u+2]},wO(n._query)}return function(D,x,P,H){const ne=new VI(H),De=new Kf(x,ne,P);return D.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return Ea(yield n_(D),De)})),()=>{ne.Tc(),D.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return Gf(yield n_(D),De)}))}}(Qi(v),I,f,g)}function i_(n,e){return function(t,i){const r=new Yi;return t.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function hV(n,e,t){return YA.apply(this,arguments)}(yield IM(t),i,r)})),r.promise}(Qi(n),e)}function PM(n,e,t){const i=t.docs.get(e._key),r=new Jf(n);return new qc(n,r,e._key,i,new Xf(t.hasPendingWrites,t.fromCache),e.converter)}class RB extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Yf(e)}get(e){const t=Td(e,this._firestore),i=new wB(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return At();const a=r[0];if(a.isFoundDocument())return new lw(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new lw(this._firestore,i,t._key,null,t.converter);throw At()})}set(e,t,i){const r=Td(e,this._firestore),a=KI(r.converter,t,i),u=zI(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const a=Td(e,this._firestore);let u;return u="string"==typeof(t=(0,Qt.m9)(t))||t instanceof Gc?xM(this._dataReader,"Transaction.update",a._key,t,i,r):MM(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=Td(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Td(e,this._firestore),i=new Jf(this._firestore);return super.get(e).then(r=>new qc(this._firestore,i,t._key,r._document,new Xf(!1,!1),t.converter))}}function NM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function PO(){if(typeof Uint8Array>"u")throw new Ke("unimplemented","Uint8Arrays are not available in this environment.")}function NO(){if(!function bC(){return typeof atob<"u"}())throw new Ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Qu=zn.SDK_VERSION,(0,zn._registerComponent)(new el.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),a=new vi(r,new cC(t.getProvider("auth-internal")),new hC(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a},"PUBLIC")),(0,zn.registerVersion)(oC,"3.4.11",n),(0,zn.registerVersion)(oC,"3.4.11","esm2017")}();class dw{constructor(e){this._delegate=e}static fromBase64String(e){return NO(),new dw(Pl.fromBase64String(e))}static fromUint8Array(e){return PO(),new dw(Pl.fromUint8Array(e))}toBase64(){return NO(),this._delegate.toBase64()}toUint8Array(){return PO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function FM(n){return function UB(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class HB{enableIndexedDbPersistence(e,t){return function WV(n,e){hO(n=Cn(n,vi));const t=Qi(n),i=n._freezeSettings(),r=new _M;return dO(t,r,new Wk(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function KV(n){hO(n=Cn(n,vi));const e=Qi(n),t=n._freezeSettings(),i=new _M;return dO(e,i,new AV(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function ZV(n){if(n._initialized&&!n._terminated)throw new Ke(Te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Yi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,xe.Z)(function*(){try{yield(t=(0,xe.Z)(function*(i){if(!Ss.V())return Promise.resolve();const r=i+"main";yield Ss.delete(r)}),function(i){return t.apply(this,arguments)})(Hg(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class FO{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof As||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&hf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function HV(n,e,t,i={}){var r;const a=(n=Cn(n,ow))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&hf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=Zi.MOCK_USER;else{u=(0,Qt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Ke(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Zi(g)}n._authCredentials=new lC(new Gv(u,f))}}(this._delegate,e,t,i)}enableNetwork(){return function QV(n){return function OV(n){return n.asyncQueue.enqueue((0,xe.Z)(function*(){const e=yield Qk(n),t=yield Xk(n);return e.setNetworkEnabled(!0),function(i){const r=mt(i);return r.lu.delete(0),wd(r)}(t)}))}(Qi(n=Cn(n,vi)))}(this._delegate)}disableNetwork(){return function XV(n){return function PV(n){return n.asyncQueue.enqueue((0,xe.Z)(function*(){const e=yield Qk(n),t=yield Xk(n);return e.setNetworkEnabled(!1),(i=(0,xe.Z)(function*(r){const a=mt(r);a.lu.add(0),yield Ed(a),a._u.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Qi(n=Cn(n,vi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,nO("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function YV(n){return function(e){const t=new Yi;return e.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function gV(n,e){return tM.apply(this,arguments)}(yield IM(e),t)})),t.promise}(Qi(n=Cn(n,vi)))}(this._delegate)}onSnapshotsInSync(e){return function xB(n,e){return function LV(n,e){const t=new VI(e);return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return i=yield n_(n),r=t,mt(i).Tu.add(r),void r.next();var i,r})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return i=yield n_(n),r=t,void mt(i).Tu.delete(r);var i,r}))}}(Qi(n=Cn(n,vi)),SM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new r_(this,aO(this._delegate,e))}catch(t){throw ls(t,"collection()","Firestore.collection()")}}doc(e){try{return new Vo(this,HI(this._delegate,e))}catch(t){throw ls(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new cs(this,function jV(n,e){if(n=Cn(n,ow),TM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ke(Te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qr(n,null,(t=e,new _a(En.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ls(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function kB(n,e,t){n=Cn(n,vi);const i=Object.assign(Object.assign({},bB),t);return function(r){if(r.maxAttempts<1)throw new Ke(Te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function VV(n,e,t){const i=new Yi;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){const r=yield(a=n,BI(a).then(u=>u.datastore));var a;new RV(n.asyncQueue,r,t,e,i).run()})),i.promise}(Qi(n),r=>e(new RB(n,r)),i)}(this._delegate,t=>e(new LO(this,t)))}batch(){return Qi(this._delegate),new VO(new MO(this._delegate,e=>i_(this._delegate,e)))}loadBundle(e){return function JV(n,e){const t=Qi(n=Cn(n,vi)),i=new zV;return function BV(n,e,t,i){const r=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,g=function(g,v){if(g instanceof Uint8Array)return Kk(g,v);if(g instanceof ArrayBuffer)return Kk(new Uint8Array(g),v);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new MV(g,u);var g}(t,Kg(e));n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){!function SV(n,e,t){const i=mt(n);var r;(r=(0,xe.Z)(function*(a,u,f){try{const g=yield u.getMetadata();if(yield function(x,P){const H=mt(x),ne=Ui(P.createTime);return H.persistence.runTransaction("hasNewerBundle","readonly",De=>H.Ds.getBundleMetadata(De,P.id)).then(De=>!!De&&De.createTime.compareTo(ne)>=0)}(a.localStore,g))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(x=g).totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}),Promise.resolve(new Set);f._updateProgress(Lk(g));const v=new oV(g,a.localStore,u.wt);let I=yield u.fc();for(;I;){const x=yield v.Nu(I);x&&f._updateProgress(x),I=yield u.fc()}const D=yield v.complete();return yield zc(a,D.Mu,void 0),yield function(x,P){const H=mt(x);return H.persistence.runTransaction("Save bundle","readwrite",ne=>H.Ds.saveBundleMetadata(ne,P))}(a.localStore,g),f._completeWith(D.progress),Promise.resolve(D.Ou)}catch(g){return hf("SyncEngine",`Loading bundle failed with ${g}`),f._failWith(g),Promise.resolve(new Set)}var x}),function(a,u,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield IM(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function eB(n,e){return function UV(n,e){return n.asyncQueue.enqueue((0,xe.Z)(function*(){return function(t,i){const r=mt(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ds.getNamedQuery(a,i))}(yield CM(n),e)}))}(Qi(n=Cn(n,vi)),e).then(t=>t?new qr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new cs(this,t):null)}}class ZI extends OM{constructor(e){super(),this.firestore=e}convertBytes(e){return new dw(new Pl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Vo.forKey(t,this.firestore,null)}}class LO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ZI(e)}get(e){const t=tp(e);return this._delegate.get(t).then(i=>new hw(this._firestore,new qc(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=tp(e);return i?(NM("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=tp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=tp(e);return this._delegate.delete(t),this}}class VO{constructor(e){this._delegate=e}set(e,t,i){const r=tp(e);return i?(NM("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=tp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=tp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ep{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new cw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new fw(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=ep.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new ep(e,new ZI(e),t),r.set(t,a)),a}}ep.INSTANCES=new WeakMap;class Vo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ZI(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Vo(t,new ui(t._delegate,i,new ht(e)))}static forKey(e,t,i){return new Vo(t,new ui(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new r_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new r_(this.firestore,aO(this._delegate,e))}catch(t){throw ls(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Qt.m9)(e))instanceof ui&&lO(this._delegate,e)}set(e,t){t=NM("DocumentReference.set",t);try{return t?xO(this._delegate,e,t):xO(this._delegate,e)}catch(i){throw ls(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?RO(this._delegate,e):RO(this._delegate,e,t,...i)}catch(r){throw ls(r,"updateDoc()","DocumentReference.update()")}}delete(){return function AB(n){return i_(Cn(n.firestore,vi),[new ad(n._key,ci.none())])}(this._delegate)}onSnapshot(...e){const t=BO(e),i=UO(e,r=>new hw(this.firestore,new qc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return kO(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function CB(n){n=Cn(n,ui);const e=Cn(n.firestore,vi),t=Qi(e),i=new Jf(e);return function NV(n,e){const t=new Yi;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return(i=(0,xe.Z)(function*(r,a,u){try{const f=yield function(g,v){const I=mt(g);return I.persistence.runTransaction("read document","readonly",D=>I.localDocuments.getDocument(D,v))}(r,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Ke(Te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const g=yt(f,`Failed to get document '${a} from cache`);u.reject(g)}}),function(r,a,u){return i.apply(this,arguments)})(yield CM(n),e,t);var i})),t.promise}(t,n._key).then(r=>new qc(e,i,n._key,r,new Xf(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function IB(n){n=Cn(n,ui);const e=Cn(n.firestore,vi);return Jk(Qi(e),n._key,{source:"server"}).then(t=>PM(e,n,t))}(this._delegate):function EB(n){n=Cn(n,ui);const e=Cn(n.firestore,vi);return Jk(Qi(e),n._key).then(t=>PM(e,n,t))}(this._delegate),t.then(i=>new hw(this.firestore,new qc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Vo(this.firestore,this._delegate.withConverter(e?ep.getInstance(this.firestore,e):null))}}function ls(n,e,t){return n.message=n.message.replace(e,t),n}function BO(n){for(const e of n)if("object"==typeof e&&!FM(e))return e;return{}}function UO(n,e){var t,i;let r;return r=FM(n[0])?n[0]:FM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class hw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Vo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return bO(this._delegate,e._delegate)}}class fw extends hw{data(e){const t=this._delegate.data(e);return function BS(n,e){n||At()}(void 0!==t),t}}class cs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ZI(e)}where(e,t,i){try{return new cs(this.firestore,Dd(this._delegate,function dB(n,e,t){const i=e,r=WI("where",n);return new uB(r,i,t)}(e,t,i)))}catch(r){throw ls(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new cs(this.firestore,Dd(this._delegate,function fB(n,e="asc"){const t=e,i=WI("orderBy",n);return new hB(i,t)}(e,t)))}catch(i){throw ls(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new cs(this.firestore,Dd(this._delegate,function pB(n){return sO("limit",n),new EO("limit",n,"F")}(e)))}catch(t){throw ls(t,"limit()","Query.limit()")}}limitToLast(e){try{return new cs(this.firestore,Dd(this._delegate,function mB(n){return sO("limitToLast",n),new EO("limitToLast",n,"L")}(e)))}catch(t){throw ls(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new cs(this.firestore,Dd(this._delegate,function gB(...n){return new CO("startAt",n,!0)}(...e)))}catch(t){throw ls(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new cs(this.firestore,Dd(this._delegate,function _B(...n){return new CO("startAfter",n,!1)}(...e)))}catch(t){throw ls(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new cs(this.firestore,Dd(this._delegate,function yB(...n){return new IO("endBefore",n,!1)}(...e)))}catch(t){throw ls(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new cs(this.firestore,Dd(this._delegate,function vB(...n){return new IO("endAt",n,!0)}(...e)))}catch(t){throw ls(t,"endAt()","Query.endAt()")}}isEqual(e){return cO(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function TB(n){n=Cn(n,qr);const e=Cn(n.firestore,vi),t=Qi(e),i=new Jf(e);return function FV(n,e){const t=new Yi;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return(i=(0,xe.Z)(function*(r,a,u){try{const f=yield Bf(r,a,!0),g=new Uk(a,f.ji),v=g.Ku(f.documents),I=g.applyChanges(v,!1);u.resolve(I.snapshot)}catch(f){const g=yt(f,`Failed to execute query '${a} against cache`);u.reject(g)}}),function(r,a,u){return i.apply(this,arguments)})(yield CM(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Id(e,i,n,r))}(this._delegate):"server"===e?.source?function SB(n){n=Cn(n,qr);const e=Cn(n.firestore,vi),t=Qi(e),i=new Jf(e);return eO(t,n._query,{source:"server"}).then(r=>new Id(e,i,n,r))}(this._delegate):function DB(n){n=Cn(n,qr);const e=Cn(n.firestore,vi),t=Qi(e),i=new Jf(e);return wO(n._query),eO(t,n._query).then(r=>new Id(e,i,n,r))}(this._delegate),t.then(i=>new LM(this.firestore,new Id(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=BO(e),i=UO(e,r=>new LM(this.firestore,new Id(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return kO(this._delegate,t,i)}withConverter(e){return new cs(this.firestore,this._delegate.withConverter(e?ep.getInstance(this.firestore,e):null))}}class $B{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new fw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class LM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new cs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new fw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new $B(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new fw(this._firestore,i))})}isEqual(e){return bO(this._delegate,e._delegate)}}class r_ extends cs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Vo(this.firestore,e):null}doc(e){try{return new Vo(this.firestore,void 0===e?HI(this._delegate):HI(this._delegate,e))}catch(t){throw ls(t,"doc()","CollectionReference.doc()")}}add(e){return function MB(n,e){const t=Cn(n.firestore,vi),i=HI(n),r=KI(n.converter,e);return i_(t,[zI(Yf(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ci.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Vo(this.firestore,t))}isEqual(e){return lO(this._delegate,e._delegate)}withConverter(e){return new r_(this.firestore,this._delegate.withConverter(e?ep.getInstance(this.firestore,e):null))}}function tp(n){return Cn(n,ui)}class VM{constructor(...e){this._delegate=new Gc(...e)}static documentId(){return new VM(_i.keyField().canonicalString())}isEqual(e){return(e=(0,Qt.m9)(e))instanceof Gc&&this._delegate._internalPath.isEqual(e._internalPath)}}class np{constructor(e){this._delegate=e}static serverTimestamp(){const e=function PB(){return new AM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new np(e)}static delete(){const e=function OB(){return new aw("deleteField")}();return e._methodName="FieldValue.delete",new np(e)}static arrayUnion(...e){const t=function NB(...n){return new rB("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new np(t)}static arrayRemove(...e){const t=function FB(...n){return new sB("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new np(t)}static increment(e){const t=function LB(n){return new oB("increment",n)}(e);return t._methodName="FieldValue.increment",new np(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const zB={Firestore:FO,GeoPoint:jI,Timestamp:Pn,Blob:dw,Transaction:LO,WriteBatch:VO,DocumentReference:Vo,DocumentSnapshot:hw,Query:cs,QueryDocumentSnapshot:fw,QuerySnapshot:LM,CollectionReference:r_,FieldPath:VM,FieldValue:np,setLogLevel:function jB(n){!function VS(n){fl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function HO(n,e){return function WB(n,e=Oh.z){return new fi.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function BM(n,e){return HO(n,e).pipe((0,It.U)(t=>({payload:t,type:"query"})))}function YI(n,e){return BM(n,e).pipe(mi(void 0),Ph(),(0,It.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const g=r.find(I=>I.doc.ref.isEqual(u.ref)),v=t?.payload.docs.find(I=>I.ref.isEqual(u.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(u.metadata)||!g&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function jO(n,e,t){return YI(n,t).pipe(vu((i,r)=>function ZB(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function YB(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return UM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return UM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return UM(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),Uu(),(0,It.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function UM(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function $O(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function qB(n){(function GB(n,e){n.INTERNAL.registerComponent(new el.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},zB)))})(n,(e,t)=>new FO(e,t,new HB)),n.registerVersion("@firebase/firestore-compat","0.1.20")}(vS.Z);class zO{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=YI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,It.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(mi(void 0),Ph(),Vn(([i,r])=>r.length>0||!i),(0,It.U)(([i,r])=>r),Et.iC)}auditTrail(e){return this.stateChanges(e).pipe(vu((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=$O(e);return jO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Et.iC)}valueChanges(e={}){return BM(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Et.iC)}get(e){return(0,Rn.D)(this.query.get(e)).pipe(Et.iC)}add(e){return this.ref.add(e)}doc(e){return new GO(this.ref.doc(e),this.afs)}}class GO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=qO(i,t);return new zO(r,a,this.afs)}snapshotChanges(){return function KB(n,e){return HO(n,e).pipe(mi(void 0),Ph(),(0,It.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Et.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,It.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Rn.D)(this.ref.get(e)).pipe(Et.iC)}}class QB{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?YI(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Vn(t=>t.length>0),Et.iC):YI(this.query,this.afs.schedulers.outsideAngular).pipe(Et.iC)}auditTrail(e){return this.stateChanges(e).pipe(vu((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=$O(e);return jO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Et.iC)}valueChanges(e={}){return BM(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Et.iC)}get(e){return(0,Rn.D)(this.query.get(e)).pipe(Et.iC)}}const XB=new c.OlP("angularfire2.enableFirestorePersistence"),JB=new c.OlP("angularfire2.firestore.persistenceSettings"),eU=new c.OlP("angularfire2.firestore.settings"),tU=new c.OlP("angularfire2.firestore.use-emulator");function qO(n,e=(t=>t)){return{query:e(n),ref:n}}let QI=(()=>{class n{constructor(t,i,r,a,u,f,g,v,I,D,x,P,H,ne,De,rt,ct){this.schedulers=g;const Ct=(0,zs.on)(t,f,i),ft=I;D&&yS(Ct,f,x,H,ne,De,P,rt),[this.firestore,this.persistenceEnabled$]=(0,zs.cc)(`${Ct.name}.firestore`,"AngularFirestore",Ct.name,()=>{const jt=f.runOutsideAngular(()=>Ct.firestore());if(a&&jt.settings(a),ft&&jt.useEmulator(...ft),r&&!$d(u)){const Kt=()=>{try{return(0,Rn.D)(jt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(wn){return typeof console<"u"&&console.warn(wn),ot(!1)}};return[jt,f.runOutsideAngular(Kt)]}return[jt,ot(!1)]},[a,ft,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=qO(r,i),f=this.schedulers.ngZone.run(()=>a);return new zO(f,u,this)}collectionGroup(t,i){const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new QB(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new GO(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(zs.Dh),c.LFG(zs.xv,8),c.LFG(XB,8),c.LFG(eU,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Et.HU),c.LFG(JB,8),c.LFG(tU,8),c.LFG(Gy,8),c.LFG(Em,8),c.LFG(fS,8),c.LFG(pS,8),c.LFG(mS,8),c.LFG(gS,8),c.LFG(_S,8),c.LFG(To,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function WO(...n){const e=(0,Xr.jO)(n),{args:t,keys:i}=Jr(n),r=new fi.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let g=u,v=u;for(let I=0;I<u;I++){let D=!1;(0,Us.Xf)(t[I]).subscribe((0,jn.x)(a,x=>{D||(D=!0,v--),f[I]=x},()=>g--,void 0,()=>{(!g||!D)&&(v||a.next(i?eh(i,f):f),a.complete())}))}});return e?r.pipe(_o(e)):r}let KO=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),ip=(()=>{class n extends KO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Ca=new c.OlP("NgValueAccessor"),iU={provide:Ca,useExisting:(0,c.Gpc)(()=>pw),multi:!0},sU=new c.OlP("CompositionEventMode");let pw=(()=>{class n extends KO{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rU(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(sU,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[c._Bn([iU]),c.qOj]}),n})();function Sd(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function YO(n){return null!=n&&"number"==typeof n.length}const Wr=new c.OlP("NgValidators"),Ad=new c.OlP("NgAsyncValidators"),oU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class aU{static min(e){return function QO(n){return e=>{if(Sd(e.value)||Sd(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function XO(n){return e=>{if(Sd(e.value)||Sd(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return JO(e)}static requiredTrue(e){return function eP(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function tP(n){return Sd(n.value)||oU.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function nP(n){return e=>Sd(e.value)||!YO(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function iP(n){return e=>YO(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function rP(n){if(!n)return XI;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Sd(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return uP(e)}static composeAsync(e){return dP(e)}}function JO(n){return Sd(n.value)?{required:!0}:null}function XI(n){return null}function sP(n){return null!=n}function oP(n){const e=(0,c.QGY)(n)?(0,Rn.D)(n):n;return(0,c.CqO)(e),e}function aP(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function lP(n,e){return e.map(t=>t(n))}function cP(n){return n.map(e=>function lU(n){return!n.validate}(e)?e:t=>e.validate(t))}function uP(n){if(!n)return null;const e=n.filter(sP);return 0==e.length?null:function(t){return aP(lP(t,e))}}function HM(n){return null!=n?uP(cP(n)):null}function dP(n){if(!n)return null;const e=n.filter(sP);return 0==e.length?null:function(t){return WO(lP(t,e).map(oP)).pipe((0,It.U)(aP))}}function jM(n){return null!=n?dP(cP(n)):null}function hP(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function fP(n){return n._rawValidators}function pP(n){return n._rawAsyncValidators}function $M(n){return n?Array.isArray(n)?n:[n]:[]}function JI(n,e){return Array.isArray(n)?n.includes(e):n===e}function mP(n,e){const t=$M(e);return $M(n).forEach(r=>{JI(t,r)||t.push(r)}),t}function gP(n,e){return $M(e).filter(t=>!JI(n,t))}class _P{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=HM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=jM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class us extends _P{get formDirective(){return null}get path(){return null}}class Wc extends _P{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yP{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let zM=(()=>{class n extends yP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Wc,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[c.qOj]}),n})(),GM=(()=>{class n extends yP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(us,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[c.qOj]}),n})();const mw="VALID",tD="INVALID",s_="PENDING",gw="DISABLED";function ZM(n){return(nD(n)?n.validators:n)||null}function bP(n){return Array.isArray(n)?HM(n):n||null}function YM(n,e){return(nD(e)?e.asyncValidators:n)||null}function wP(n){return Array.isArray(n)?jM(n):n||null}function nD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class IP{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=bP(this._rawValidators),this._composedAsyncValidatorFn=wP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===mw}get invalid(){return this.status===tD}get pending(){return this.status==s_}get disabled(){return this.status===gw}get enabled(){return this.status!==gw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=bP(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=wP(e)}addValidators(e){this.setValidators(mP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(mP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gP(e,this._rawAsyncValidators))}hasValidator(e){return JI(this._rawValidators,e)}hasAsyncValidator(e){return JI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=s_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=gw,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=mw,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mw||this.status===s_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gw:mw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=s_,this._hasOwnPendingAsyncValidator=!0;const t=oP(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?gw:this.errors?tD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(s_)?s_:this._anyControlsHaveStatus(tD)?tD:mw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){nD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class QM extends IP{constructor(e,t,i){super(ZM(t),YM(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function CP(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new c.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function EP(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[t])throw new c.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function _w(n,e){XM(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function _U(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&DP(n,e)})}(n,e),function vU(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function yU(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&DP(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function gU(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function rD(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),oD(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function sD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function XM(n,e){const t=fP(n);null!==e.validator?n.setValidators(hP(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=pP(n);null!==e.asyncValidator?n.setAsyncValidators(hP(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();sD(e._rawValidators,r),sD(e._rawAsyncValidators,r)}function oD(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=fP(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=pP(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return sD(e._rawValidators,i),sD(e._rawAsyncValidators,i),t}function DP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function TP(n,e){XM(n,e)}function AP(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const IU={provide:us,useExisting:(0,c.Gpc)(()=>o_)},yw=(()=>Promise.resolve(null))();let o_=(()=>{class n extends us{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new QM({},HM(t),jM(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){yw.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),_w(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){yw.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){yw.then(()=>{const i=this._findContainer(t.path),r=new QM({});TP(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){yw.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){yw.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,AP(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Wr,10),c.Y36(Ad,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([IU]),c.qOj]}),n})();function MP(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function xP(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const RP=class extends IP{constructor(e=null,t,i){super(ZM(t),YM(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nD(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=xP(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){MP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){MP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){xP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},SU={provide:Wc,useExisting:(0,c.Gpc)(()=>aD)},PP=(()=>Promise.resolve(null))();let aD=(()=>{class n extends Wc{constructor(t,i,r,a,u){super(),this._changeDetectorRef=u,this.control=new RP,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function ex(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===pw?t=a:function EU(n){return Object.getPrototypeOf(n.constructor)===ip}(a)?i=a:r=a}),r||i||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function JM(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_w(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){PP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,c.D6c)(i);PP.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function iD(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(us,9),c.Y36(Wr,10),c.Y36(Ad,10),c.Y36(Ca,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([SU]),c.qOj,c.TTD]}),n})(),FP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const PU={provide:us,useExisting:(0,c.Gpc)(()=>lD)};let lD=(()=>{class n extends us{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(oD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return _w(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){rD(t.control||null,t,!1),function CU(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,AP(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(rD(i||null,t),(n=>n instanceof RP)(r)&&(_w(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);TP(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function bU(n,e){return oD(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){XM(this.form,this),this._oldForm&&oD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Wr,10),c.Y36(Ad,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([PU]),c.qOj,c.TTD]}),n})(),rp=(()=>{class n{constructor(){this._validator=XI}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):XI,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const qU={provide:Wr,useExisting:(0,c.Gpc)(()=>vw),multi:!0};let vw=(()=>{class n extends rp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=t=>JO}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&c.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([qU]),c.qOj]}),n})(),XU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[FP]}),n})(),JU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[XU]}),n})();function Hi(n){return null!=n&&"false"!=`${n}`}function a_(n,e=0){return function n2(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function cD(n){return Array.isArray(n)?n:[n]}function Xi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Kc(n){return n instanceof c.SBq?n.nativeElement:n}function uD(n,e=Oh.z){return(0,pi.e)((t,i)=>{let r=null,a=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const v=a;a=null,i.next(v)}};function g(){const v=u+n,I=e.now();if(I<v)return r=this.schedule(void 0,v-I),void i.add(r);f()}t.subscribe((0,jn.x)(i,v=>{a=v,u=e.now(),r||(r=e.schedule(g,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}let sx,eN=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r2=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Kc(t);return new fi.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Bt.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(eN))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s2=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Hi(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=a_(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(uD(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(r2),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),o2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[eN]}),n})();try{sx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{sx=!1}let l_,Kr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?$i(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!sx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tN=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function nN(){if(l_)return l_;if("object"!=typeof document||!document)return l_=new Set(tN),l_;let n=document.createElement("input");return l_=new Set(tN.filter(e=>(n.setAttribute("type",e),n.type===e))),l_}let bw,dD,sp,ox;function ww(n){return function a2(){if(null==bw&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>bw=!0}))}finally{bw=bw||!1}return bw}()?n:!!n.capture}function iN(){if(null==sp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return sp=!1,sp;if("scrollBehavior"in document.documentElement.style)sp=!0;else{const n=Element.prototype.scrollTo;sp=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return sp}function Ew(){if("object"!=typeof document||!document)return 0;if(null==dD){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),dD=0,0===n.scrollLeft&&(n.scrollLeft=1,dD=0===n.scrollLeft?1:2),n.remove()}return dD}function op(n){return n.composedPath?n.composedPath()[0]:n.target}function ax(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Cw(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function lN(n){return Vn((e,t)=>n<=t)}var cN=M(5032);function bi(n){return(0,pi.e)((e,t)=>{(0,Us.Xf)(n).subscribe((0,jn.x)(t,()=>t.complete(),cN.Z)),!t.closed&&e.subscribe(t)})}let w2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const uN=new Set;let c_,E2=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):I2}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function C2(n){if(!uN.has(n))try{c_||(c_=document.createElement("style"),c_.setAttribute("type","text/css"),document.head.appendChild(c_)),c_.sheet&&(c_.sheet.insertRule(`@media ${n} {body{ }}`,0),uN.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Kr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function I2(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let hx=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Bt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return dN(cD(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let a=Na(dN(cD(t)).map(u=>this._registerQuery(u).observable));return a=Jo(a.pipe((0,Di.q)(1)),a.pipe(lN(1),uD(0))),a.pipe((0,It.U)(u=>{const f={matches:!1,breakpoints:{}};return u.forEach(({matches:g,query:v})=>{f.matches=f.matches||g,f.breakpoints[v]=g}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new fi.y(u=>{const f=g=>this._zone.run(()=>u.next(g));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(mi(i),(0,It.U)(({matches:u})=>({query:t,matches:u})),bi(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(E2),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dN(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const hN_Handset="(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)";class mN extends class S2{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Bt.x,this._typeaheadSubscription=Vr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Bt.x,this.change=new Bt.x,e instanceof c.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,wi.b)(t=>this._pressedLetters.push(t)),uD(e),Vn(()=>this._pressedLetters.length>0),(0,It.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const a=(this._activeItemIndex+r)%i.length,u=i[a];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!e[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Cw(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let gN=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function M2(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function A2(n){try{return n.frameElement}catch{return null}}(function L2(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===yN(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=yN(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function N2(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function F2(n){return!function R2(n){return function O2(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function x2(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function k2(n){return function P2(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||_N(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Kr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _N(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function yN(n){if(!_N(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class V2{constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,Di.q)(1)).subscribe(e)}}let B2=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new V2(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(gN),c.LFG(c.R0b),c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fx(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function px(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const U2=new c.OlP("cdk-input-modality-detector-options"),H2={ignoreKeys:[18,17,224,91,16]},u_=ww({passive:!0,capture:!0});let j2=(()=>{class n{constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new zi(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(f=>f===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=op(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(fx(u)?"keyboard":"mouse"),this._mostRecentTarget=op(u))},this._onTouchstart=u=>{px(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=op(u))},this._options={...H2,...a},this.modalityDetected=this._modality.pipe(lN(1)),this.modalityChanged=this.modalityDetected.pipe(Uu()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,u_),r.addEventListener("mousedown",this._onMousedown,u_),r.addEventListener("touchstart",this._onTouchstart,u_)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,u_),document.removeEventListener("mousedown",this._onMousedown,u_),document.removeEventListener("touchstart",this._onTouchstart,u_))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Kr),c.LFG(c.R0b),c.LFG(se),c.LFG(U2,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const z2=new c.OlP("cdk-focus-monitor-default-options"),hD=ww({passive:!0,capture:!0});let Iw=(()=>{class n{constructor(t,i,r,a,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Bt.x,this._rootNodeFocusAndBlurListener=f=>{const g=op(f),v="focus"===f.type?this._onFocus:this._onBlur;for(let I=g;I;I=I.parentElement)v.call(this,f,I)},this._document=a,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=Kc(t);if(!this._platform.isBrowser||1!==r.nodeType)return ot(null);const a=function c2(n){if(function l2(){if(null==ox){const n=typeof document<"u"?document.head:null;ox=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ox}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new Bt.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=Kc(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=Kc(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,g])=>this._originChanged(f,i,g)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=op(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,hD),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,hD)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(bi(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,hD),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,hD),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(Kr),c.LFG(j2),c.LFG(se,8),c.LFG(z2,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bN="cdk-high-contrast-black-on-white",wN="cdk-high-contrast-white-on-black",mx="cdk-high-contrast-active";let G2=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,c.f3M)(hx).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(mx,bN,wN),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(mx,bN):2===i&&t.add(mx,wN)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Kr),c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const q2=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function W2(){return(0,c.f3M)(se)}}),K2=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let d_=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function Z2(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?K2.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(q2,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Q2=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function Y2(){return!0}});let oi=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!ax()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(G2),c.LFG(Q2,8),c.LFG(se))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Dw,Dw]}),n})();function gx(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Hi(e)}}}function fD(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function h_(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Hi(e)}}}function X2(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let IN=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Tw(n,e,t){n.nativeElement.classList.toggle(e,t)}let pD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[oi,oi]}),n})();class eH{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const SN={enterDuration:225,exitDuration:150},_x=ww({passive:!0}),AN=["mousedown","touchstart"],MN=["mouseup","mouseleave","touchend","touchcancel"];class nH{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Kc(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...SN,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function iH(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,g=t-r.top,v=a.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-u+"px",I.style.top=g-u+"px",I.style.height=2*u+"px",I.style.width=2*u+"px",null!=i.color&&(I.style.backgroundColor=i.color),I.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(I);const D=window.getComputedStyle(I),P=D.transitionDuration,H="none"===D.transitionProperty||"0s"===P||"0s, 0s"===P,ne=new eH(this,I,i,H);I.style.transform="scale3d(1, 1, 1)",ne.state=0,i.persistent||(this._mostRecentTransientRipple=ne);let De=null;return!H&&(v||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const rt=()=>this._finishRippleTransition(ne),ct=()=>this._destroyRipple(ne);I.addEventListener("transitionend",rt),I.addEventListener("transitioncancel",ct),De={onTransitionEnd:rt,onTransitionCancel:ct}}),this._activeRipples.set(ne,De),(H||!v)&&this._finishRippleTransition(ne),ne}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...SN,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Kc(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(AN))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(MN),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=fx(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!px(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,_x)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(AN.forEach(e=>{this._triggerElement.removeEventListener(e,this,_x)}),this._pointerUpEventsRegistered&&MN.forEach(e=>{this._triggerElement.removeEventListener(e,this,_x)}))}}const rH=new c.OlP("mat-ripple-global-options");let Sw=(()=>{class n{constructor(t,i,r,a,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new nH(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Kr),c.Y36(rH,8),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),yx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[oi,oi]}),n})(),xN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[oi]}),n})();var oH=M(1144);const aH=["addListener","removeListener"],lH=["addEventListener","removeEventListener"],cH=["on","off"];function f_(n,e,t,i){if((0,Ir.m)(t)&&(i=t,t=void 0),i)return f_(n,e,t).pipe(_o(i));const[r,a]=function hH(n){return(0,Ir.m)(n.addEventListener)&&(0,Ir.m)(n.removeEventListener)}(n)?lH.map(u=>f=>n[u](e,f,t)):function uH(n){return(0,Ir.m)(n.addListener)&&(0,Ir.m)(n.removeListener)}(n)?aH.map(RN(n,e)):function dH(n){return(0,Ir.m)(n.on)&&(0,Ir.m)(n.off)}(n)?cH.map(RN(n,e)):[];if(!r&&(0,oH.z)(n))return(0,Ti.z)(u=>f_(u,e,t))((0,Us.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new fi.y(u=>{const f=(...g)=>u.next(1<g.length?g:g[0]);return r(f),()=>a(f)})}function RN(n,e){return t=>i=>n[t](e,i)}class kN{}const Zc="*";function mD(n,e){return{type:7,name:n,definitions:e,options:{}}}function p_(n,e=null){return{type:4,styles:e,timings:n}}function ON(n,e=null){return{type:2,steps:n,options:e}}function Ia(n){return{type:6,styles:n,offset:null}}function Aw(n,e,t){return{type:0,name:n,styles:e,options:t}}function m_(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function PN(n){Promise.resolve(null).then(n)}class Mw{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){PN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class NN{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?PN(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const pH=["connectionContainer"],mH=["inputContainer"],gH=["label"];function _H(n,e){1&n&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15)(3,"div",16)(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15)(7,"div",16)(8,"div",17),c.qZA(),c.BQk())}function yH(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",19),c.NdJ("cdkObserveContent",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.updateOutlineGap())}),c.Hsn(1,1),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function vH(n,e){if(1&n&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&n){const t=c.oxw(2);c.xp6(3),c.Oqu(t._control.placeholder)}}function bH(n,e){1&n&&c.Hsn(0,3,["*ngSwitchCase","true"])}function wH(n,e){1&n&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function EH(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.updateOutlineGap())}),c.YNc(2,vH,4,1,"ng-container",12),c.YNc(3,bH,1,0,"ng-content",12),c.YNc(4,wH,2,0,"span",22),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),c.uIk("for",t._control.id)("aria-owns",t._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function CH(n,e){1&n&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function IH(n,e){if(1&n&&(c.TgZ(0,"div",25),c._UZ(1,"span",26),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function DH(n,e){if(1&n&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState)}}function TH(n,e){if(1&n&&(c.TgZ(0,"div",30),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("id",t._hintLabelId),c.xp6(1),c.Oqu(t.hintLabel)}}function SH(n,e){if(1&n&&(c.TgZ(0,"div",27),c.YNc(1,TH,2,2,"div",28),c.Hsn(2,6),c._UZ(3,"div",29),c.Hsn(4,7),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",t.hintLabel)}}const AH=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],MH=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],xH=new c.OlP("MatError"),RH={transitionMessages:mD("transitionMessages",[Aw("enter",Ia({opacity:1,transform:"translateY(0%)"})),m_("void => enter",[Ia({opacity:0,transform:"translateY(-5px)"}),p_("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let bx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n}),n})();const kH=new c.OlP("MatHint");let FN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),OH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const PH=new c.OlP("MatPrefix"),NH=new c.OlP("MatSuffix");let LN=0;const LH=fD(class{constructor(n){this._elementRef=n}},"primary"),VH=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),BN=new c.OlP("MatFormField");let UN=(()=>{class n extends LH{constructor(t,i,r,a,u,f,g){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=a,this._platform=u,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Bt.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+LN++,this._labelId="mat-form-field-label-"+LN++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==g,this.appearance=a?.appearance||"legacy",a&&(this._hideRequiredMarker=Boolean(a.hideRequiredMarker),a.color&&(this.color=this.defaultColor=a.color))}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Hi(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(mi(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(bi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(bi(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Nu.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(mi(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(mi(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(bi(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,f_(this._label.nativeElement,"transitionend").pipe((0,Di.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,r=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const I=i.querySelectorAll(`${r}, ${a}`);for(let D=0;D<I.length;D++)I[D].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,f=0;const g=i.querySelectorAll(r),v=i.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const I=i.getBoundingClientRect();if(0===I.width&&0===I.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const D=this._getStartEnd(I),x=t.children,P=this._getStartEnd(x[0].getBoundingClientRect());let H=0;for(let ne=0;ne<x.length;ne++)H+=x[ne].offsetWidth;u=Math.abs(P-D)-5,f=H>0?.75*H+10:0}for(let I=0;I<g.length;I++)g[I].style.width=`${u}px`;for(let I=0;I<v.length;I++)v[I].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(d_,8),c.Y36(VH,8),c.Y36(Kr),c.Y36(c.R0b),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,bx,5),c.Suo(r,bx,7),c.Suo(r,FN,5),c.Suo(r,FN,7),c.Suo(r,OH,5),c.Suo(r,xH,5),c.Suo(r,kH,5),c.Suo(r,PH,5),c.Suo(r,NH,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._controlNonStatic=a.first),c.iGM(a=c.CRH())&&(i._controlStatic=a.first),c.iGM(a=c.CRH())&&(i._labelChildNonStatic=a.first),c.iGM(a=c.CRH())&&(i._labelChildStatic=a.first),c.iGM(a=c.CRH())&&(i._placeholderChild=a.first),c.iGM(a=c.CRH())&&(i._errorChildren=a),c.iGM(a=c.CRH())&&(i._hintChildren=a),c.iGM(a=c.CRH())&&(i._prefixChildren=a),c.iGM(a=c.CRH())&&(i._suffixChildren=a)}},viewQuery:function(t,i){if(1&t&&(c.Gf(pH,7),c.Gf(mH,5),c.Gf(gH,5)),2&t){let r;c.iGM(r=c.CRH())&&(i._connectionContainerRef=r.first),c.iGM(r=c.CRH())&&(i._inputContainerRef=r.first),c.iGM(r=c.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&c.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:BN,useExisting:n}]),c.qOj],ngContentSelectors:MH,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(c.F$t(AH),c.TgZ(0,"div",0)(1,"div",1,2),c.NdJ("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),c.YNc(3,_H,9,0,"ng-container",3),c.YNc(4,yH,2,1,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,EH,5,16,"label",8),c.qZA()(),c.YNc(10,CH,2,0,"div",9),c.qZA(),c.YNc(11,IH,2,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,DH,2,1,"div",12),c.YNc(14,SH,5,2,"div",13),c.qZA()()),2&t&&(c.xp6(3),c.Q6J("ngIf","outline"==i.appearance),c.xp6(1),c.Q6J("ngIf",i._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",i._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",i._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=i.appearance),c.xp6(1),c.Q6J("ngSwitch",i._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[Pr,Os,Hl,s2],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[RH.transitionMessages]},changeDetection:0}),n})(),HN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Go,oi,o2,oi]}),n})();const jN=ww({passive:!0});let BH=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return yo.E;const i=Kc(t),r=this._monitoredElements.get(i);if(r)return r.subject;const a=new Bt.x,u="cdk-text-field-autofilled",f=g=>{"cdk-text-field-autofill-start"!==g.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===g.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>a.next({target:g.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>a.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,jN),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",f,jN)}}),a}stopMonitoring(t){const i=Kc(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Kr),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const UH=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),HH=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let jH=0;const $H=X2(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new Bt.x}});let zN=(()=>{class n extends $H{constructor(t,i,r,a,u,f,g,v,I,D){super(f,a,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=v,this._formField=D,this._uid="mat-input-"+jH++,this.focused=!1,this.stateChanges=new Bt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(H=>nN().has(H)),this._iOSKeyupListener=H=>{const ne=H.target;!ne.value&&0===ne.selectionStart&&0===ne.selectionEnd&&(ne.setSelectionRange(1,1),ne.setSelectionRange(0,0))};const x=this._elementRef.nativeElement,P=x.nodeName.toLowerCase();this._inputValueAccessor=g||x,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&I.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===P,this._isTextarea="textarea"===P,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=x.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Hi(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(aU.required)??!1}set required(t){this._required=Hi(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&nN().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Hi(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField,i=t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){HH.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Kr),c.Y36(Wc,10),c.Y36(o_,8),c.Y36(lD,8),c.Y36(IN),c.Y36(UH,10),c.Y36(BH),c.Y36(c.R0b),c.Y36(BN,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&c.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(c.Ikx("disabled",i.disabled)("required",i.required),c.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),c.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:bx,useExisting:n}]),c.qOj,c.TTD]}),n})(),zH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[IN],imports:[$N,HN,oi,$N,HN]}),n})();const GH=["mat-button",""],qH=["*"],KH=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],ZH=fD(gx(h_(class{constructor(n){this._elementRef=n}})));let g_=(()=>{class n extends ZH{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of KH)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Iw),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&c.Gf(Sw,5),2&t){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:GH,ngContentSelectors:qH,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&t&&(c.xp6(2),c.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Sw],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}"],encapsulation:2,changeDetection:0}),n})(),YH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[yx,oi,oi]}),n})(),QH=(()=>{class n{constructor(t,i){this.afs=t,this.router=i,this.blogsCollection=t.collection("articles")}ngOnInit(){}onSubmit(t){const i=`${t.title.replace(/\s/g,"-").toLowerCase()}-${this.afs.createId()}`;this.blogsCollection.doc(i).set(t),this.router.navigate(["/flamenco-posts"])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(QI),c.Y36(Ai))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-create-post"]],decls:14,vars:0,consts:[["ngNativeValidate","",1,"example-form",3,"ngSubmit"],["f","ngForm"],[1,"example-full-width"],["matInput","","required","","ngModel","","name","title","placeholder","Title"],["matInput","","required","","ngModel","","name","imageUrl","placeholder","Img url"],["matInput","","required","","ngModel","","name","imageAlt","placeholder","Img alt text"],["matInput","","required","","ngModel","","name","description","placeholder","description"],["matInput","","required","","ngModel","","name","html","rows","10","placeholder","html"],["mat-button",""]],template:function(t,i){if(1&t){const r=c.EpF();c.TgZ(0,"form",0,1),c.NdJ("ngSubmit",function(){c.CHM(r);const u=c.MAs(1);return c.KtG(i.onSubmit(u.form.value))}),c.TgZ(2,"mat-form-field",2),c._UZ(3,"input",3),c.qZA(),c.TgZ(4,"mat-form-field",2),c._UZ(5,"input",4),c.qZA(),c.TgZ(6,"mat-form-field",2),c._UZ(7,"input",5),c.qZA(),c.TgZ(8,"mat-form-field",2),c._UZ(9,"input",6),c.qZA(),c.TgZ(10,"mat-form-field",2),c._UZ(11,"textarea",7),c.qZA(),c.TgZ(12,"button",8),c._uU(13,"Submit"),c.qZA()()}},dependencies:[pw,zM,GM,vw,aD,o_,UN,zN,g_],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;margin:50px auto}.example-full-width[_ngcontent-%COMP%]{width:100%}"]}),n})();function XH(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div")(1,"form",1,2),c.NdJ("ngSubmit",function(){c.CHM(t);const r=c.MAs(2),a=c.oxw();return c.KtG(a.onSubmit(r.form.value))}),c.TgZ(3,"mat-form-field",3),c._UZ(4,"input",4),c.qZA(),c.TgZ(5,"mat-form-field",3),c._UZ(6,"input",5),c.qZA(),c.TgZ(7,"mat-form-field",3),c._UZ(8,"input",6),c.qZA(),c.TgZ(9,"mat-form-field",3),c._UZ(10,"input",7),c.qZA(),c.TgZ(11,"mat-form-field",3),c._UZ(12,"textarea",8),c.qZA(),c.TgZ(13,"button",9),c._uU(14,"Submit"),c.qZA()(),c._UZ(15,"div",10),c.qZA()}if(2&n){const t=e.ngIf;c.xp6(4),c.Q6J("ngModel",t.title),c.xp6(2),c.Q6J("ngModel",t.imageUrl),c.xp6(2),c.Q6J("ngModel",t.imageAlt),c.xp6(2),c.Q6J("ngModel",t.desc),c.xp6(2),c.Q6J("ngModel",t.html),c.xp6(3),c.s9C("innerHTML",t.html,c.oJD)}}let JH=(()=>{class n{constructor(t,i,r){this.route=t,this.afs=i,this.router=r,this.blogsCollection=i.collection("articles"),this.blogId=this.route.snapshot.paramMap.get("id"),this.itemDoc=i.doc(`articles/${this.blogId}`),this.blog=this.itemDoc.valueChanges()}ngOnInit(){}onSubmit(t){this.itemDoc.update(t),this.router.navigate([`/flamenco-posts/${this.blogId}`])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Eo),c.Y36(QI),c.Y36(Ai))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-edit-post"]],decls:2,vars:3,consts:[[4,"ngIf"],["ngNativeValidate","",1,"example-form",3,"ngSubmit"],["f","ngForm"],[1,"example-full-width"],["matInput","","required","","name","title","placeholder","Title",3,"ngModel"],["matInput","","required","","name","imageUrl","placeholder","Img url",3,"ngModel"],["matInput","","required","","name","imageAlt","placeholder","Img alt text",3,"ngModel"],["matInput","","required","","name","desc","placeholder","description",3,"ngModel"],["matInput","","required","","name","html","rows","10","placeholder","html",3,"ngModel"],["mat-button",""],[3,"innerHTML"]],template:function(t,i){1&t&&(c.YNc(0,XH,16,6,"div",0),c.ALo(1,"async")),2&t&&c.Q6J("ngIf",c.lcZ(1,1,i.blog))},dependencies:[Pr,pw,zM,GM,vw,aD,o_,UN,zN,g_,jl],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;margin:50px auto}.example-full-width[_ngcontent-%COMP%]{width:100%}"]}),n})();class ej{}class Md{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Md?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Md;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Md?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class tj{encodeKey(e){return GN(e)}encodeValue(e){return GN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const ij=/%(\d[a-f0-9])/gi,rj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function GN(n){return encodeURIComponent(n).replace(ij,(e,t)=>rj[t]??e)}function gD(n){return`${n}`}class xd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new tj,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function nj(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],g=t.get(u)||[];g.push(f),t.set(u,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(gD):[gD(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new xd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(gD(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(gD(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class sj{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function qN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function WN(n){return typeof Blob<"u"&&n instanceof Blob}function KN(n){return typeof FormData<"u"&&n instanceof FormData}class xw{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function oj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Md),this.context||(this.context=new sj),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new xd,this.urlWithParams=t}serializeBody(){return null===this.body?null:qN(this.body)||WN(this.body)||KN(this.body)||function aj(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof xd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||KN(this.body)?null:WN(this.body)?this.body.type||null:qN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let g=e.headers||this.headers,v=e.params||this.params;const I=e.context??this.context;return void 0!==e.setHeaders&&(g=Object.keys(e.setHeaders).reduce((D,x)=>D.set(x,e.setHeaders[x]),g)),e.setParams&&(v=Object.keys(e.setParams).reduce((D,x)=>D.set(x,e.setParams[x]),v)),new xw(t,i,a,{params:v,headers:g,context:I,reportProgress:f,responseType:r,withCredentials:u})}}var kr=(()=>((kr=kr||{})[kr.Sent=0]="Sent",kr[kr.UploadProgress=1]="UploadProgress",kr[kr.ResponseHeader=2]="ResponseHeader",kr[kr.DownloadProgress=3]="DownloadProgress",kr[kr.Response=4]="Response",kr[kr.User=5]="User",kr))();class wx extends class lj{constructor(e,t=200,i="OK"){this.headers=e.headers||new Md,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=kr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new wx({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function Ex(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let YN=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof xw)a=t;else{let g,v;g=r.headers instanceof Md?r.headers:new Md(r.headers),r.params&&(v=r.params instanceof xd?r.params:new xd({fromObject:r.params})),a=new xw(t,i,void 0!==r.body?r.body:null,{headers:g,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=ot(a).pipe(Ua(g=>this.handler.handle(g)));if(t instanceof xw||"events"===r.observe)return u;const f=u.pipe(Vn(g=>g instanceof wx));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,It.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return f.pipe((0,It.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return f.pipe((0,It.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return f.pipe((0,It.U)(g=>g.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new xd).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Ex(r,i))}post(t,i,r={}){return this.request("POST",t,Ex(r,i))}put(t,i,r={}){return this.request("PUT",t,Ex(r,i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ej))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const uj=["*"];let _D;function Rw(n){return function dj(){if(void 0===_D&&(_D=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(_D=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return _D}()?.createHTML(n)||n}function QN(n){return Error(`Unable to find icon with the name "${n}"`)}function XN(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function JN(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class ap{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let yD=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new ap(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const u=this._sanitizer.sanitize(c.q3G.HTML,r);if(!u)throw JN(r);const f=Rw(u);return this._addSvgIconConfig(t,i,new ap("",f,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new ap(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(c.q3G.HTML,i);if(!a)throw JN(i);const u=Rw(a);return this._addSvgIconSetConfig(t,new ap("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,t);if(!i)throw XN(t);const r=this._cachedIconsByUrl.get(i);return r?ot(vD(r)):this._loadSvgIconFromConfig(new ap(t,null)).pipe((0,wi.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,It.U)(a=>vD(a)))}getNamedSvgIcon(t,i=""){const r=e1(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):Bs(QN(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?ot(vD(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,It.U)(i=>vD(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?ot(r):WO(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(mn(f=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(v)),ot(null)})))).pipe((0,It.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw QN(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(u,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,wi.b)(i=>t.svgText=i),(0,It.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?ot(null):this._fetchIcon(t).pipe((0,wi.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const f=this._svgElementFromString(Rw("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Rw("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:u,value:f}=r[a];"id"!==u&&i.setAttribute(u,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,a=r?.withCredentials??!1;if(!this._httpClient)throw function hj(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,i);if(!u)throw XN(i);const f=this._inProgressUrlFetches.get(u);if(f)return f;const g=this._httpClient.get(u,{responseType:"text",withCredentials:a}).pipe((0,It.U)(v=>Rw(v)),ii(()=>this._inProgressUrlFetches.delete(u)),(0,z0.B)());return this._inProgressUrlFetches.set(u,g),g}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(e1(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return pj(a)?new ap(a.url,null,a.options):new ap(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(YN,8),c.LFG(Jd),c.LFG(se,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vD(n){return n.cloneNode(!0)}function e1(n,e){return n+":"+e}function pj(n){return!(!n.url||!n.options)}const mj=fD(class{constructor(n){this._elementRef=n}}),gj=new c.OlP("MAT_ICON_DEFAULT_OPTIONS"),_j=new c.OlP("mat-icon-location",{providedIn:"root",factory:function yj(){const n=(0,c.f3M)(se),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),t1=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],vj=t1.map(n=>`[${n}]`).join(", "),bj=/^url\(['"]?#(.*?)['"]?\)$/;let Cx=(()=>{class n extends mj{constructor(t,i,r,a,u,f){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Vr.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Hi(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?[this._iconRegistry.classNameForFontAlias(this.fontSet)]:this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(u=>{a.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(vj),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)t1.forEach(u=>{const f=i[a],g=f.getAttribute(u),v=g?g.match(bj):null;if(v){let I=r.get(f);I||(I=[],r.set(f,I)),I.push({name:u,value:v[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Di.q)(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(yD),c.$8M("aria-hidden"),c.Y36(_j),c.Y36(c.qLn),c.Y36(gj,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:uj,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),wj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[oi,oi]}),n})();const n1=["*"];class Cj{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const e=Math.max(...this.tracker);return e>1?this.rowCount+e-1:this.rowCount}update(e,t){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(e),this.tracker.fill(0,0,this.tracker.length),this.positions=t.map(i=>this._trackTile(i))}_trackTile(e){const t=this._findMatchingGap(e.colspan);return this._markTilePosition(t,e),this.columnIndex=t+e.colspan,new Ij(this.rowIndex,t)}_findMatchingGap(e){let t=-1,i=-1;do{this.columnIndex+e>this.tracker.length?(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t)):(t=this.tracker.indexOf(0,this.columnIndex),-1!=t?(i=this._findGapEndIndex(t),this.columnIndex=t+1):(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t)))}while(i-t<e||0==i);return Math.max(t,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let e=0;e<this.tracker.length;e++)this.tracker[e]=Math.max(0,this.tracker[e]-1)}_findGapEndIndex(e){for(let t=e+1;t<this.tracker.length;t++)if(0!=this.tracker[t])return t;return this.tracker.length}_markTilePosition(e,t){for(let i=0;i<t.colspan;i++)this.tracker[e+i]=t.rowspan}}class Ij{constructor(e,t){this.row=e,this.col=t}}const r1=new c.OlP("MAT_GRID_LIST");let s1=(()=>{class n{constructor(t,i){this._element=t,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(a_(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(a_(t))}_setStyle(t,i){this._element.nativeElement.style[t]=i}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(r1,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(t,i){2&t&&c.uIk("rowspan",i.rowspan)("colspan",i.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:n1,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})();const Dj=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class Ix{constructor(){this._rows=0,this._rowspan=0}init(e,t,i,r){this._gutterSize=o1(e),this._rows=t.rowCount,this._rowspan=t.rowspan,this._cols=i,this._direction=r}getBaseTileSize(e,t){return`(${e}% - (${this._gutterSize} * ${t}))`}getTilePosition(e,t){return 0===t?"0":lp(`(${e} + ${this._gutterSize}) * ${t}`)}getTileSize(e,t){return`(${e} * ${t}) + (${t-1} * ${this._gutterSize})`}setStyle(e,t,i){let r=100/this._cols,a=(this._cols-1)/this._cols;this.setColStyles(e,i,r,a),this.setRowStyles(e,t,r,a)}setColStyles(e,t,i,r){let a=this.getBaseTileSize(i,r);e._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(a,t)),e._setStyle("width",lp(this.getTileSize(a,e.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(e){return`${this._rowspan} * ${this.getTileSize(e,1)}`}getComputedHeight(){return null}}class Tj extends Ix{constructor(e){super(),this.fixedRowHeight=e}init(e,t,i,r){super.init(e,t,i,r),this.fixedRowHeight=o1(this.fixedRowHeight),Dj.test(this.fixedRowHeight)}setRowStyles(e,t){e._setStyle("top",this.getTilePosition(this.fixedRowHeight,t)),e._setStyle("height",lp(this.getTileSize(this.fixedRowHeight,e.rowspan)))}getComputedHeight(){return["height",lp(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["height",null]),e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class Sj extends Ix{constructor(e){super(),this._parseRatio(e)}setRowStyles(e,t,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),e._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,t)),e._setStyle("paddingTop",lp(this.getTileSize(this.baseTileHeight,e.rowspan)))}getComputedHeight(){return["paddingBottom",lp(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["paddingBottom",null]),e._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(e){const t=e.split(":");this.rowHeightRatio=parseFloat(t[0])/parseFloat(t[1])}}class Aj extends Ix{setRowStyles(e,t){let a=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);e._setStyle("top",this.getTilePosition(a,t)),e._setStyle("height",lp(this.getTileSize(a,e.rowspan)))}reset(e){e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function lp(n){return`calc(${n})`}function o1(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let xj=(()=>{class n{constructor(t,i){this._element=t,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(a_(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=`${t??""}`}get rowHeight(){return this._rowHeight}set rowHeight(t){const i=`${t??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===t?new Aj:t&&t.indexOf(":")>-1?new Sj(t):new Tj(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new Cj);const t=this._tileCoordinator,i=this._tiles.filter(a=>!a._gridList||a._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,t,this.cols,r),i.forEach((a,u)=>{const f=t.positions[u];this._tileStyler.setStyle(a,f.row,f.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(d_,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-grid-list"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,s1,5),2&t){let a;c.iGM(a=c.CRH())&&(i._tiles=a)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(t,i){2&t&&c.uIk("cols",i.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[c._Bn([{provide:r1,useExisting:n}])],ngContentSelectors:n1,decls:2,vars:0,template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div"),c.Hsn(1),c.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})(),Rj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[pD,oi,pD,oi]}),n})();const kj=["*",[["mat-card-footer"]]],Oj=["*","mat-card-footer"],Pj=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Nj=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let a1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),l1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),Fj=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),c1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),n})(),Dx=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:Oj,decls:2,vars:0,template:function(t,i){1&t&&(c.F$t(kj),c.Hsn(0),c.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),u1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:Nj,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,i){1&t&&(c.F$t(Pj),c.Hsn(0),c.TgZ(1,"div",0),c.Hsn(2,1),c.qZA(),c.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),Lj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[oi,oi]}),n})();var d1=M(4408);let Tx,Vj=1;const bD={};function h1(n){return n in bD&&(delete bD[n],!0)}const Bj={setImmediate(n){const e=Vj++;return bD[e]=!0,Tx||(Tx=Promise.resolve()),Tx.then(()=>h1(e)&&n()),e},clearImmediate(n){h1(n)}},{setImmediate:Uj,clearImmediate:Hj}=Bj,wD={setImmediate(...n){const{delegate:e}=wD;return(e?.setImmediate||Uj)(...n)},clearImmediate(n){const{delegate:e}=wD;return(e?.clearImmediate||Hj)(n)},delegate:void 0};var f1=M(7565);const Sx=new class $j extends f1.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class jj extends d1.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=wD.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(wD.clearImmediate(t),e._scheduled=void 0)}});function p1(n,e){return e?t=>Jo(e.pipe((0,Di.q)(1),function zj(){return(0,pi.e)((n,e)=>{n.subscribe((0,jn.x)(e,cN.Z))})}()),t.pipe(p1(n))):(0,Ti.z)((t,i)=>n(t,i).pipe((0,Di.q)(1),rc(t)))}var Gj=M(3532);function m1(n=0,e,t=Oh.P){let i=-1;return null!=e&&((0,Gj.K)(e)?t=e:i=e),new fi.y(r=>{let a=function qj(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}function g1(n,e=Oh.z){const t=m1(n,e);return p1(()=>t)}class Ax{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Wj extends Ax{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class _1 extends Ax{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Kj extends Ax{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class Yj extends class Zj{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Wj?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof _1?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Kj?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,g=this._document.createComment("dom-portal");f.parentNode.insertBefore(g,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(f,g)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Qj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const kw={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=kw;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new Vr.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=kw;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=kw;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class Jj extends f1.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Xj extends d1.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=kw.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(kw.cancelAnimationFrame(t),e._scheduled=void 0)}});function y1(n,e=Oh.z){return function t$(n){return(0,pi.e)((e,t)=>{let i=!1,r=null,a=null,u=!1;const f=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const v=r;r=null,t.next(v)}u&&t.complete()},g=()=>{a=null,u&&t.complete()};e.subscribe((0,jn.x)(t,v=>{i=!0,r=v,a||(0,Us.Xf)(n(v)).subscribe(a=(0,jn.x)(t,f,g))},()=>{u=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>m1(n,e))}let ED=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Bt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new fi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(y1(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ot()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Vn(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Kc(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>f_(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(Kr),c.LFG(se,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ow=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new Bt.x,this._elementScrolled=new fi.y(u=>this.ngZone.runOutsideAngular(()=>f_(this.elementRef.nativeElement,"scroll").pipe(bi(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=Ew()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Ew()?t.left=t.right:1==Ew()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;iN()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?r:i:"end"==t&&(t=u?i:r),u&&2==Ew()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:u&&1==Ew()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(ED),c.Y36(c.R0b),c.Y36(d_,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),Mx=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Bt.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(y1(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Kr),c.LFG(c.R0b),c.LFG(se,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),v1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Dw,Pw,Dw,Pw]}),n})();const b1=iN();class r${constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Xi(-this._previousScrollPosition.left),e.style.top=Xi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),b1&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),b1&&(i.scrollBehavior=a,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class s${constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class w1{enable(){}disable(){}attach(){}}function xx(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function E1(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class o${constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();xx(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let a$=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new w1,this.close=u=>new s$(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new r$(this._viewportRuler,this._document),this.reposition=u=>new o$(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ED),c.LFG(Mx),c.LFG(c.R0b),c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class C1{constructor(e){if(this.scrollStrategy=new w1,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class l${constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let I1=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),c$=(()=>{class n extends I1{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const f=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u$=(()=>{class n extends I1{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=op(a)},this._clickListener=a=>{const u=op(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let v=g.length-1;v>-1;v--){const I=g[v];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(u)||I.overlayElement.contains(f))break;const D=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>D.next(a)):D.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se),c.LFG(Kr),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),D1=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||ax()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),ax()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se),c.LFG(Kr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class d${constructor(e,t,i,r,a,u,f,g,v,I=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=g,this._outsideClickDispatcher=v,this._animationsDisabled=I,this._backdropElement=null,this._backdropClick=new Bt.x,this._attachments=new Bt.x,this._detachments=new Bt.x,this._locationChanges=Vr.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new Bt.x,this._outsidePointerEvents=new Bt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Di.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Xi(this._config.width),e.height=Xi(this._config.height),e.minWidth=Xi(this._config.minWidth),e.minHeight=Xi(this._config.minHeight),e.maxWidth=Xi(this._config.maxWidth),e.maxHeight=Xi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=cD(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(bi((0,Nu.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const T1="cdk-overlay-connected-position-bounding-box",h$=/([A-Za-z%]+)$/;class f${constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Bt.x,this._resizeSubscription=Vr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(T1),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let u;for(let f of this._preferredPositions){let g=this._getOriginPoint(e,r,f),v=this._getOverlayPoint(g,t,f),I=this._getOverlayFit(v,t,i,f);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,g);this._canFitWithFlexibleDimensions(I,v,i)?a.push({position:f,origin:g,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(g,f)}):(!u||u.overlayFit.visibleArea<I.visibleArea)&&(u={overlayFit:I,overlayPoint:v,originPoint:g,position:f,overlayRect:t})}if(a.length){let f=null,g=-1;for(const v of a){const I=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);I>g&&(g=I,f=v)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&cp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(T1),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?u:f}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=A1(t);let{x:u,y:f}=e,g=this._getOffset(r,"x"),v=this._getOffset(r,"y");g&&(u+=g),v&&(f+=v);let x=0-f,P=f+a.height-i.height,H=this._subtractOverflows(a.width,0-u,u+a.width-i.width),ne=this._subtractOverflows(a.height,x,P),De=H*ne;return{visibleArea:De,isCompletelyWithinViewport:a.width*a.height===De,fitsInViewportVertically:ne===a.height,fitsInViewportHorizontally:H==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,u=S1(this._overlayRef.getConfig().minHeight),f=S1(this._overlayRef.getConfig().minWidth),v=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=u&&u<=r)&&v}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=A1(t),a=this._viewportRect,u=Math.max(e.x+r.width-a.width,0),f=Math.max(e.y+r.height-a.height,0),g=Math.max(a.top-i.top-e.y,0),v=Math.max(a.left-i.left-e.x,0);let I=0,D=0;return I=r.width<=a.width?v||-u:e.x<this._viewportMargin?a.left-i.left-e.x:0,D=r.height<=a.height?g||-f:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:I,y:D},{x:e.x+I,y:e.y+D}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new l$(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,u,f,I,D,x;if("top"===t.overlayY)u=e.y,a=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const P=Math.min(i.bottom-e.y+i.top,e.y),H=this._lastBoundingBoxSize.height;a=2*P,u=e.y-P,a>H&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-H/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)x=i.width-e.x+this._viewportMargin,I=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)D=e.x,I=i.right-e.x;else{const P=Math.min(i.right-e.x+i.left,e.x),H=this._lastBoundingBoxSize.width;I=2*P,D=e.x-P,I>H&&!this._isInitialRender&&!this._growAfterOpen&&(D=e.x-H/2)}return{top:u,left:D,bottom:f,right:x,width:I,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=Xi(i.height),r.top=Xi(i.top),r.bottom=Xi(i.bottom),r.width=Xi(i.width),r.left=Xi(i.left),r.right=Xi(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=Xi(a)),u&&(r.maxWidth=Xi(u))}this._lastBoundingBoxSize=i,cp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){cp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){cp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const I=this._viewportRuler.getViewportScrollPosition();cp(i,this._getExactOverlayY(t,e,I)),cp(i,this._getExactOverlayX(t,e,I))}else i.position="static";let f="",g=this._getOffset(t,"x"),v=this._getOffset(t,"y");g&&(f+=`translateX(${g}px) `),v&&(f+=`translateY(${v}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=Xi(u.maxHeight):a&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=Xi(u.maxWidth):a&&(i.maxWidth="")),cp(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=Xi(a.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=Xi(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:E1(e,i),isOriginOutsideView:xx(e,i),isOverlayClipped:E1(t,i),isOverlayOutsideView:xx(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&cD(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function cp(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function S1(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(h$);return t&&"px"!==t?null:parseFloat(e)}return n||null}function A1(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const M1="cdk-global-overlay-wrapper";class p${constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(M1),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:u,maxHeight:f}=i,g=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),v=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f),I=this._xPosition,D=this._xOffset,x="rtl"===this._overlayRef.getConfig().direction;let P="",H="",ne="";g?ne="flex-start":"center"===I?(ne="center",x?H=D:P=D):x?"left"===I||"end"===I?(ne="flex-end",P=D):("right"===I||"start"===I)&&(ne="flex-start",H=D):"left"===I||"start"===I?(ne="flex-start",P=D):("right"===I||"end"===I)&&(ne="flex-end",H=D),e.position=this._cssPosition,e.marginLeft=g?"0":P,e.marginTop=v?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=g?"0":H,t.justifyContent=ne,t.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(M1),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let m$=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new p$}flexibleConnectedTo(t){return new f$(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Mx),c.LFG(se),c.LFG(Kr),c.LFG(D1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g$=0,CD=(()=>{class n{constructor(t,i,r,a,u,f,g,v,I,D,x,P){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=g,this._document=v,this._directionality=I,this._location=D,this._outsideClickDispatcher=x,this._animationsModuleType=P}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),u=new C1(t);return u.direction=u.direction||this._directionality.value,new d$(a,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+g$++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new Yj(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(a$),c.LFG(D1),c.LFG(c._Vd),c.LFG(m$),c.LFG(c$),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(se),c.LFG(d_),c.LFG(Be),c.LFG(u$),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const v$={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[CD],useFactory:function y$(n){return()=>n.scrollStrategies.reposition()}};let b$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[CD,v$],imports:[Dw,Qj,v1,v1]}),n})();const w$=["mat-menu-item",""];function E$(n,e){1&n&&(c.O4$(),c.TgZ(0,"svg",2),c._UZ(1,"polygon",3),c.qZA())}const x1=["*"];function C$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",0),c.NdJ("keydown",function(r){c.CHM(t);const a=c.oxw();return c.KtG(a._handleKeydown(r))})("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){c.CHM(t);const a=c.oxw();return c.KtG(a._onAnimationStart(r))})("@transformMenu.done",function(r){c.CHM(t);const a=c.oxw();return c.KtG(a._onAnimationDone(r))}),c.TgZ(1,"div",1),c.Hsn(2),c.qZA()()}if(2&n){const t=c.oxw();c.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),c.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const ID={transformMenu:mD("transformMenu",[Aw("void",Ia({opacity:0,transform:"scale(0.8)"})),m_("void => enter",p_("120ms cubic-bezier(0, 0, 0.2, 1)",Ia({opacity:1,transform:"scale(1)"}))),m_("* => void",p_("100ms 25ms linear",Ia({opacity:0})))]),fadeInItems:mD("fadeInItems",[Aw("showing",Ia({opacity:1})),m_("void => *",[Ia({opacity:0}),p_("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},I$=new c.OlP("MatMenuContent"),Rx=new c.OlP("MAT_MENU_PANEL"),D$=h_(gx(class{}));let Nw=(()=>{class n extends D${constructor(t,i,r,a,u){super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=a,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new Bt.x,this._focused=new Bt.x,this._highlighted=!1,this._triggersSubmenu=!1,a?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(se),c.Y36(Iw),c.Y36(Rx,8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,i){1&t&&c.NdJ("click",function(a){return i._checkDisabled(a)})("mouseenter",function(){return i._handleMouseEnter()}),2&t&&(c.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),c.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[c.qOj],attrs:w$,ngContentSelectors:x1,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){1&t&&(c.F$t(),c.Hsn(0),c._UZ(1,"div",0),c.YNc(2,E$,2,0,"svg",1)),2&t&&(c.xp6(1),c.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),c.xp6(1),c.Q6J("ngIf",i._triggersSubmenu))},dependencies:[Pr,Sw],encapsulation:2,changeDetection:0}),n})();const R1=new c.OlP("mat-menu-default-options",{providedIn:"root",factory:function T$(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let S$=0,Fw=(()=>{class n{constructor(t,i,r,a){this._elementRef=t,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=a,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new c.n_E,this._tabSubscription=Vr.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Bt.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new c.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+S$++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Hi(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Hi(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new mN(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(mi(this._directDescendantItems),$n(t=>(0,Nu.T)(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),a=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[a]&&!r[a].disabled?i.setActiveItem(a):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(mi(this._directDescendantItems),$n(i=>(0,Nu.T)(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:Cw(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._ngZone.onStable.pipe((0,Di.q)(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,a=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!a||a===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(mi(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(R1),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,I$,5),c.Suo(r,Nw,5),c.Suo(r,Nw,4)),2&t){let a;c.iGM(a=c.CRH())&&(i.lazyContent=a.first),c.iGM(a=c.CRH())&&(i._allItems=a),c.iGM(a=c.CRH())&&(i.items=a)}},viewQuery:function(t,i){if(1&t&&c.Gf(c.Rgc,5),2&t){let r;c.iGM(r=c.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),k1=(()=>{class n extends Fw{constructor(t,i,r,a){super(t,i,r,a),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(R1),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,i){2&t&&c.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[c._Bn([{provide:Rx,useExisting:n}]),c.qOj],ngContentSelectors:x1,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,i){1&t&&(c.F$t(),c.YNc(0,C$,3,6,"ng-template"))},dependencies:[fs],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::before{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[ID.transformMenu,ID.fadeInItems]},changeDetection:0}),n})();const O1=new c.OlP("mat-menu-scroll-strategy"),M$={provide:O1,deps:[CD],useFactory:function A$(n){return()=>n.scrollStrategies.reposition()}},P1=ww({passive:!0});let x$=(()=>{class n{constructor(t,i,r,a,u,f,g,v,I){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=f,this._dir=g,this._focusMonitor=v,this._ngZone=I,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Vr.w0.EMPTY,this._hoverSubscription=Vr.w0.EMPTY,this._menuCloseSubscription=Vr.w0.EMPTY,this._handleTouchStart=D=>{px(D)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new c.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new c.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=a,this._parentMaterialMenu=u instanceof Fw?u:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,P1),f&&(f._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,P1),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),a=r.positionStrategy;this._setPosition(t,a),r.hasBackdrop=t.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof Fw&&(t._startAnimation(),t._directDescendantItems.changes.pipe(bi(t.close)).subscribe(()=>{a.withLockedPosition(!1).reapplyLastPosition(),a.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Fw?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Vn(r=>"void"===r.toState),(0,Di.q)(1),bi(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new C1({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const a="start"===r.connectionPair.overlayX?"after":"before",u="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(a,u)):t.setPositionClasses(a,u)})}_setPosition(t,i){let[r,a]="before"===t.xPosition?["end","start"]:["start","end"],[u,f]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[g,v]=[u,f],[I,D]=[r,a],x=0;if(this.triggersSubmenu()){if(D=r="before"===t.xPosition?"start":"end",a=I="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const P=this._parentMaterialMenu.items.first;this._parentInnerPadding=P?P._getHostElement().offsetTop:0}x="bottom"===u?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(g="top"===u?"bottom":"top",v="top"===f?"bottom":"top");i.withPositions([{originX:r,originY:g,overlayX:I,overlayY:u,offsetY:x},{originX:a,originY:g,overlayX:D,overlayY:u,offsetY:x},{originX:r,originY:v,overlayX:I,overlayY:f,offsetY:-x},{originX:a,originY:v,overlayX:D,overlayY:f,offsetY:-x}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:ot(),a=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Vn(u=>u!==this._menuItemInstance),Vn(()=>this._menuOpen)):ot();return(0,Nu.T)(t,r,a,i)}_handleMousedown(t){fx(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Vn(t=>t===this._menuItemInstance&&!t.disabled),g1(0,Sx)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Fw&&this.menu._isAnimating?this.menu._animationDone.pipe((0,Di.q)(1),g1(0,Sx),bi(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new _1(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(CD),c.Y36(c.SBq),c.Y36(c.s_b),c.Y36(O1),c.Y36(Rx,8),c.Y36(Nw,10),c.Y36(d_,8),c.Y36(Iw),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,hostVars:3,hostBindings:function(t,i){1&t&&c.NdJ("click",function(a){return i._handleClick(a)})("mousedown",function(a){return i._handleMousedown(a)})("keydown",function(a){return i._handleKeydown(a)}),2&t&&c.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),N1=(()=>{class n extends x${}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[c.qOj]}),n})(),R$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[M$],imports:[Go,oi,yx,b$,Pw,oi]}),n})(),k$=(()=>{class n{transform(t,...i){return t?t.slice(0,100)+"...":""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=c.Yjl({name:"trimArticles",type:n,pure:!0}),n})();const F1=function(n){return["/flamenco-post",n]},O$=function(n){return[n]};function P$(n,e){if(1&n&&(c.TgZ(0,"mat-grid-tile",3),c.ALo(1,"async"),c.ALo(2,"async"),c.TgZ(3,"mat-card",4)(4,"mat-card-header")(5,"mat-card-title")(6,"h2",5),c._uU(7),c.qZA(),c.TgZ(8,"button",6)(9,"mat-icon"),c._uU(10,"more_vert"),c.qZA()(),c.TgZ(11,"button",7)(12,"mat-icon"),c._uU(13,"more_vert"),c.qZA()(),c.TgZ(14,"mat-menu",8,9)(16,"button",10),c._uU(17,"View Article"),c.qZA()()()(),c.TgZ(18,"a",11),c._UZ(19,"img",12),c.TgZ(20,"mat-card-content",13),c._UZ(21,"div",14),c.ALo(22,"trimArticles"),c.qZA()()()()),2&n){const t=e.$implicit,i=c.MAs(15),r=c.oxw();c.Q6J("colspan",c.lcZ(1,9,r.cardSize).cols)("rowspan",c.lcZ(2,11,r.cardSize).rows),c.xp6(7),c.Oqu(t.title),c.xp6(4),c.Q6J("matMenuTriggerFor",i),c.xp6(5),c.Q6J("routerLink",c.VKq(15,F1,t.id)),c.xp6(2),c.Q6J("routerLink",c.VKq(17,F1,t.id)),c.xp6(1),c.s9C("src",t.imageUrl,c.LSH),c.s9C("alt",t.imageAlt),c.xp6(2),c.Q6J("innerHTML",c.VKq(19,O$,c.lcZ(22,13,t.html)),c.oJD)}}let L1=(()=>{class n{constructor(t,i,r,a){this.breakpointObserver=t,this.afs=i,this.meta=r,this.title=a,this.cardSize=this.breakpointObserver.observe(hN_Handset).pipe((0,It.U)(({matches:u})=>u?{cols:2,rows:2}:{cols:1,rows:2})),this.meta.updateTag({name:"description",content:"Brisbane and Queensland flamenco events, website by flamenco guitarist David Heisner"}),this.title.setTitle("Brisbane Flamenco")}ngOnInit(){this.blogsCollection=this.afs.collection("articles"),this.blogs$=this.blogsCollection.snapshotChanges().pipe((0,It.U)(t=>t.map(i=>{const r=i.payload.doc.data();return{id:i.payload.doc.id,...r}})))}clickEdit(){console.log("dd")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hx),c.Y36(QI),c.Y36(Jl),c.Y36(ka))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-all-posts"]],decls:4,vars:3,consts:[[1,"grid-container"],["cols","2","rowHeight","350px"],[3,"colspan","rowspan",4,"ngFor","ngForOf"],[3,"colspan","rowspan"],[1,"dashboard-card"],[1,"mat-h2","mat-title"],["mat-icon-button","",1,"more-button"],["mat-icon-button","","aria-label","Toggle menu",1,"more-button",3,"matMenuTriggerFor"],["xPosition","before"],["menu","matMenu"],["mat-menu-item","",3,"routerLink"],[2,"text-decoration","none","color","inherit",3,"routerLink"],["width","1032px","mat-card-image","",3,"src","alt"],[1,"dashboard-card-content","mat-body-strong"],[1,"content",3,"innerHTML"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"mat-grid-list",1),c.YNc(2,P$,23,21,"mat-grid-tile",2),c.ALo(3,"async"),c.qZA()()),2&t&&(c.xp6(2),c.Q6J("ngForOf",c.lcZ(3,1,i.blogs$)))},dependencies:[lo,Qa,Dh,g_,Cx,xj,s1,Dx,u1,a1,l1,c1,k1,Nw,N1,jl,k$],styles:[".grid-container[_ngcontent-%COMP%]{margin:20px}.dashboard-card[_ngcontent-%COMP%]{position:absolute;top:15px;left:15px;right:15px}.more-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}.dashboard-card-content[_ngcontent-%COMP%]{text-align:center}@keyframes bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-10px)}60%{transform:translateY(-5px)}}mat-card[_ngcontent-%COMP%]{animation-name:bounce;animation-duration:1s;animation-iteration-count:1;animation-delay:.5s}"]}),n})();function N$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div")(1,"button",5)(2,"mat-icon"),c._uU(3,"more_vert"),c.qZA()(),c.TgZ(4,"mat-menu",6,7)(6,"button",8),c._uU(7,"Edit"),c.qZA(),c.TgZ(8,"button",9),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.removeBlog())}),c._uU(9,"Remove"),c.qZA()()()}if(2&n){const t=c.MAs(5),i=c.oxw();c.xp6(1),c.Q6J("matMenuTriggerFor",t),c.xp6(5),c.MGl("routerLink","/admin/edit-post/",i.blogId,"")}}let F$=(()=>{class n{constructor(t,i,r,a,u,f){this.route=t,this.router=i,this.afs=r,this.meta=a,this.title=u,this.auth=f,this.auth1=this.auth.auth,this.blogId=this.route.snapshot.paramMap.get("id"),this.itemDoc=r.doc(`articles/${this.blogId}`),this.blog=this.itemDoc.valueChanges(),this.title.setTitle("string"==typeof this.blogId?this.blogId:"Brisbane Flamenco"),this.blog.subscribe(g=>this.meta.updateTag({name:"description",content:g.desc})),this.meta.updateTag({name:"robots",content:"index, follow"})}ngOnInit(){}removeBlog(){confirm("Are you sure")&&(this.itemDoc.delete(),this.router.navigate(["/flamenco-posts"]))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Eo),c.Y36(Ai),c.Y36(QI),c.Y36(Jl),c.Y36(ka),c.Y36(qy))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-view-post"]],decls:15,vars:15,consts:[[1,"example-card"],[1,"title","is-1"],[4,"ngIf"],["mat-card-image","",3,"src","alt"],[1,"mat-body-strong",3,"innerHTML"],["mat-icon-button","","aria-label","Toggle menu",1,"more-button",3,"matMenuTriggerFor"],["xPosition","before"],["menu","matMenu"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",3,"click"]],template:function(t,i){if(1&t&&(c.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title")(3,"h1",1),c._uU(4),c.ALo(5,"async"),c.qZA(),c.YNc(6,N$,10,2,"div",2),c.ALo(7,"async"),c.qZA()(),c._UZ(8,"img",3),c.ALo(9,"async"),c.ALo(10,"async"),c.TgZ(11,"mat-card-content"),c._UZ(12,"div",4),c.ALo(13,"async"),c.qZA(),c._UZ(14,"mat-card-actions"),c.qZA()),2&t){let r,a,u,f;c.xp6(4),c.Oqu(null==(r=c.lcZ(5,5,i.blog))?null:r.title),c.xp6(2),c.Q6J("ngIf",c.lcZ(7,7,i.auth1.user)),c.xp6(2),c.s9C("src",null==(a=c.lcZ(9,9,i.blog))?null:a.imageUrl,c.LSH),c.s9C("alt",null==(u=c.lcZ(10,11,i.blog))?null:u.imageAlt),c.xp6(4),c.s9C("innerHTML",null==(f=c.lcZ(13,13,i.blog))?null:f.html,c.oJD)}},dependencies:[Pr,Qa,g_,Cx,Dx,u1,a1,l1,Fj,c1,k1,Nw,N1,jl],styles:[".example-card[_ngcontent-%COMP%]{max-width:1000px;margin:auto}.example-header-image[_ngcontent-%COMP%]{background-size:cover}"]}),n})(),L$=(()=>{class n{constructor(t,i){this.metaTagService=t,this.title=i}ngOnInit(){this.title.setTitle("Contact David"),this.metaTagService.addTag({name:"description",content:"Contact me here"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Jl),c.Y36(ka))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-contact"]],decls:6,vars:0,consts:[["href","https://www.instagram.com/davidheisner1/","target","_blank"],["mat-raised-button","","color","accent"]],template:function(t,i){1&t&&(c.TgZ(0,"mat-card")(1,"a",0)(2,"button",1),c._uU(3,"For all flamenco events or to connect please"),c._UZ(4,"br"),c._uU(5," reach out on Instagram. Thanks!"),c.qZA()()())},dependencies:[g_,Dx],styles:["mat-card[_ngcontent-%COMP%]{text-align:center;margin-top:100px}"]}),n})();var V$=M(9635);const kx=(0,It.U)(n=>!!n);let Ox=(()=>{class n{constructor(t,i){this.router=t,this.auth=i,this.canActivate=(r,a)=>{const u=r.data.authGuardPipe||(()=>kx);return this.auth.user.pipe((0,Di.q)(1),u(r,a),(0,It.U)(f=>"boolean"==typeof f?f:Array.isArray(f)?this.router.createUrlTree(f):this.router.parseUrl(f)))}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ai),c.LFG(Gy))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const V1=()=>(n=>(0,V$.z)(kx,(0,It.U)(e=>e||n)))(["flamenco-posts"]),H$=[{path:"flamenco-post/:id",component:F$},{path:"flamenco-posts",component:L1},{path:"contact",component:L$},{path:"admin/create-post",component:QH,canActivate:[Ox],data:{authGuardPipe:V1}},{path:"admin/login",component:Wy},{path:"admin/edit-post/:id",component:JH,canActivate:[Ox],data:{authGuardPipe:V1}},{path:"**",component:L1}];let j$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[dy.forRoot(H$,{initialNavigation:"enabledBlocking"}),dy]}),n})();const $$=["*",[["mat-toolbar-row"]]],z$=["*","mat-toolbar-row"],G$=fD(class{constructor(n){this._elementRef=n}});let q$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),W$=(()=>{class n extends G${constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Kr),c.Y36(se))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,q$,5),2&t){let a;c.iGM(a=c.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:z$,decls:2,vars:0,template:function(t,i){1&t&&(c.F$t($$),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),K$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[oi,oi]}),n})();const DD=["*"],Z$=["content"];function Y$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r._onBackdropClicked())}),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function Q$(n,e){1&n&&(c.TgZ(0,"mat-drawer-content"),c.Hsn(1,2),c.qZA())}const X$=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],J$=["mat-drawer","mat-drawer-content","*"];function ez(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r._onBackdropClicked())}),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function tz(n,e){1&n&&(c.TgZ(0,"mat-sidenav-content"),c.Hsn(1,2),c.qZA())}const nz=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],iz=["mat-sidenav","mat-sidenav-content","*"],B1={transformDrawer:mD("transform",[Aw("open, open-instant",Ia({transform:"none",visibility:"visible"})),Aw("void",Ia({"box-shadow":"none",visibility:"hidden"})),m_("void => open-instant",p_("0ms")),m_("void <=> open, open-instant => void",p_("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},sz=new c.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function oz(){return!1}}),Px=new c.OlP("MAT_DRAWER_CONTAINER");let TD=(()=>{class n extends Ow{constructor(t,i,r,a,u){super(r,a,u),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>H1)),c.Y36(c.SBq),c.Y36(ED),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&c.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[c._Bn([{provide:Ow,useExisting:n}]),c.qOj],ngContentSelectors:DD,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),U1=(()=>{class n{constructor(t,i,r,a,u,f,g,v){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=a,this._ngZone=u,this._interactivityChecker=f,this._doc=g,this._container=v,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Bt.x,this._animationEnd=new Bt.x,this._animationState="void",this.openedChange=new c.vpe(!0),this._openedStream=this.openedChange.pipe(Vn(I=>I),(0,It.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Vn(I=>I.fromState!==I.toState&&0===I.toState.indexOf("open")),rc(void 0)),this._closedStream=this.openedChange.pipe(Vn(I=>!I),(0,It.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Vn(I=>I.fromState!==I.toState&&"void"===I.toState),rc(void 0)),this._destroyed=new Bt.x,this.onPositionChanged=new c.vpe,this._modeChanged=new Bt.x,this.openedChange.subscribe(I=>{I?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{f_(this._elementRef.nativeElement,"keydown").pipe(Vn(I=>27===I.keyCode&&!this.disableClose&&!Cw(I)),bi(this._destroyed)).subscribe(I=>this._ngZone.run(()=>{this.close(),I.stopPropagation(),I.preventDefault()}))}),this._animationEnd.pipe(Uu((I,D)=>I.fromState===D.fromState&&I.toState===D.toState)).subscribe(I=>{const{fromState:D,toState:x}=I;(0===x.indexOf("open")&&"void"===D||"void"===x&&0===D.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Hi(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Hi(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Hi(t))}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe((0,Di.q)(1)).subscribe(u=>a(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(B2),c.Y36(Iw),c.Y36(Kr),c.Y36(c.R0b),c.Y36(gN),c.Y36(se,8),c.Y36(Px,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&c.Gf(Z$,5),2&t){let r;c.iGM(r=c.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&c.WFA("@transform.start",function(a){return i._animationStarted.next(a)})("@transform.done",function(a){return i._animationEnd.next(a)}),2&t&&(c.uIk("align",null),c.d8E("@transform",i._animationState),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:DD,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},dependencies:[Ow],encapsulation:2,data:{animation:[B1.transformDrawer]},changeDetection:0}),n})(),H1=(()=>{class n{constructor(t,i,r,a,u,f=!1,g){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=a,this._animationMode=g,this._drawers=new c.n_E,this.backdropClick=new c.vpe,this._destroyed=new Bt.x,this._doCheckSubject=new Bt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Bt.x,t&&t.change.pipe(bi(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe(bi(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=f}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Hi(t)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(t){this._backdropOverride=null==t?null:Hi(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(mi(this._allDrawers),bi(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(mi(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(uD(10),bi(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Vn(i=>i.fromState!==i.toState),bi(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(bi(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(bi(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Di.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(bi((0,Nu.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(d_,8),c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(Mx),c.Y36(sz),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,TD,5),c.Suo(r,U1,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._content=a.first),c.iGM(a=c.CRH())&&(i._allDrawers=a)}},viewQuery:function(t,i){if(1&t&&c.Gf(TD,5),2&t){let r;c.iGM(r=c.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[c._Bn([{provide:Px,useExisting:n}])],ngContentSelectors:J$,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(c.F$t(X$),c.YNc(0,Y$,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,Q$,2,0,"mat-drawer-content",1)),2&t&&(c.Q6J("ngIf",i.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!i._content))},dependencies:[Pr,TD],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),Nx=(()=>{class n extends TD{constructor(t,i,r,a,u){super(t,i,r,a,u)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>$1)),c.Y36(c.SBq),c.Y36(ED),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,i){2&t&&c.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[c._Bn([{provide:Ow,useExisting:n}]),c.qOj],ngContentSelectors:DD,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),j1=(()=>{class n extends U1{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Hi(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=a_(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=a_(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,i){2&t&&(c.uIk("align",null),c.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[c.qOj],ngContentSelectors:DD,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},dependencies:[Ow],encapsulation:2,data:{animation:[B1.transformDrawer]},changeDetection:0}),n})(),$1=(()=>{class n extends H1{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,Nx,5),c.Suo(r,j1,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._content=a.first),c.iGM(a=c.CRH())&&(i._allDrawers=a)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[c._Bn([{provide:Px,useExisting:n}]),c.qOj],ngContentSelectors:iz,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(c.F$t(nz),c.YNc(0,ez,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,tz,2,0,"mat-sidenav-content",1)),2&t&&(c.Q6J("ngIf",i.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!i._content))},dependencies:[Pr,Nx],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),az=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Go,oi,Pw,Pw,oi]}),n})(),lz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[oi,oi]}),n})();const G1=["*"],uz=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],dz=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],gz=gx(h_(class{})),_z=h_(class{}),yz=new c.OlP("MatList"),q1=new c.OlP("MatNavList");let vz=(()=>{class n extends gz{constructor(){super(...arguments),this._stateChanges=new Bt.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[c._Bn([{provide:q1,useExisting:n}]),c.qOj,c.TTD],ngContentSelectors:G1,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),W1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),K1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),bz=(()=>{class n extends _z{constructor(t,i,r,a){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new Bt.x,this._disabled=!1,this._isInteractiveList=!!(r||a&&"action-list"===a._getListType()),this._list=r||a;const u=this._getHostElement();"button"===u.nodeName.toLowerCase()&&!u.hasAttribute("type")&&u.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(bi(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=Hi(t)}ngAfterContentInit(){!function TN(n,e,t="mat"){n.changes.pipe(mi(n)).subscribe(({length:i})=>{Tw(e,`${t}-2-line`,!1),Tw(e,`${t}-3-line`,!1),Tw(e,`${t}-multi-line`,!1),2===i||3===i?Tw(e,`${t}-${i}-line`,!0):i>3&&Tw(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(q1,8),c.Y36(yz,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,W1,5),c.Suo(r,K1,5),c.Suo(r,DN,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._avatar=a.first),c.iGM(a=c.CRH())&&(i._icon=a.first),c.iGM(a=c.CRH())&&(i._lines=a)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[c.qOj],ngContentSelectors:dz,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,i){1&t&&(c.F$t(uz),c.TgZ(0,"span",0),c._UZ(1,"span",1),c.Hsn(2),c.TgZ(3,"span",2),c.Hsn(4,1),c.qZA(),c.Hsn(5,2),c.qZA()),2&t&&(c.xp6(1),c.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},dependencies:[Sw],encapsulation:2,changeDetection:0}),n})(),Tz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[pD,yx,oi,xN,Go,pD,oi,xN,lz]}),n})();function Sz(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div")(1,"h1"),c._uU(2),c.qZA(),c.TgZ(3,"button",8),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.logout())}),c._uU(4,"Logout"),c.qZA()()}if(2&n){const t=e.ngIf;c.xp6(2),c.hij("Hello ",t.displayName,"!")}}function Az(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",9),c.NdJ("click",function(){c.CHM(t),c.oxw();const r=c.MAs(2);return c.KtG(r.toggle())}),c.TgZ(1,"mat-icon",10),c._uU(2,"menu"),c.qZA()()}}let Mz=(()=>{class n{constructor(t,i){this.breakpointObserver=t,this.auth=i,this.auth1=this.auth.auth,this.isHandset$=this.breakpointObserver.observe(hN_Handset).pipe((0,It.U)(r=>r.matches),py())}logout(){this.auth.logout()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hx),c.Y36(qy))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-main-nav"]],decls:21,vars:15,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","","routerLink","contact"],[4,"ngIf"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],["routerLink","/",2,"cursor","pointer"],[3,"click"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(t,i){1&t&&(c.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2),c.ALo(3,"async"),c.ALo(4,"async"),c.ALo(5,"async"),c.TgZ(6,"mat-toolbar"),c._uU(7,"Menu"),c.qZA(),c.TgZ(8,"mat-nav-list")(9,"a",3),c._uU(10,"Contact"),c.qZA()(),c.TgZ(11,"mat-nav-list"),c.YNc(12,Sz,5,1,"div",4),c.ALo(13,"async"),c.qZA()(),c.TgZ(14,"mat-sidenav-content")(15,"mat-toolbar",5),c.YNc(16,Az,3,0,"button",6),c.ALo(17,"async"),c.TgZ(18,"span",7),c._uU(19,"Brisbane Flamenco"),c.qZA()(),c._UZ(20,"router-outlet"),c.qZA()()),2&t&&(c.xp6(1),c.Q6J("mode",c.lcZ(4,7,i.isHandset$)?"over":"side")("opened",!1===c.lcZ(5,9,i.isHandset$)),c.uIk("role",c.lcZ(3,5,i.isHandset$)?"dialog":"navigation"),c.xp6(11),c.Q6J("ngIf",c.lcZ(13,11,i.auth1.user)),c.xp6(4),c.Q6J("ngIf",c.lcZ(17,13,i.isHandset$)))},dependencies:[Pr,pc,Qa,Dh,W$,g_,j1,$1,Nx,Cx,vz,bz,jl],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}"]}),n})(),xz=(()=>{class n{constructor(){this.title="brisflamenco3"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"app-main-nav")},dependencies:[Mz]}),n})();const Fx_firebase={projectId:"bris-flamenco",appId:"1:286871819218:web:3d1cc10adbd9109224ee0b",storageBucket:"bris-flamenco.appspot.com",locationId:"australia-southeast1",apiKey:"AIzaSyBQtrcRw7UuELPmT98gHSMkGuqSjZcafRs",authDomain:"bris-flamenco.firebaseapp.com",messagingSenderId:"286871819218",measurementId:"G-YV71ZJ5ZH1"};var kz=M(655),Lx=M(6148),Y1=M(3673);function Oz(n){return new fi.y(function(e){return{unsubscribe:(0,Y1.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class SD{constructor(e){return e}}class AD{constructor(){return(0,Et.vb)("auth")}}const Vx=new c.OlP("angularfire2.auth-instances");function Fz(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new SD(i)}}const Lz={provide:AD,deps:[[new c.FiY,Vx]]},Vz={provide:SD,useFactory:function Nz(n,e){const t=(0,Et.JM)("auth",n,e);return t&&new SD(t)},deps:[[new c.FiY,Vx],Gs]};let Bz=(()=>{class n{constructor(){(0,Sr.KN)("angularfire",Et.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Vz,Lz]}),n})();function Uz(n,...e){return{ngModule:Bz,providers:[{provide:Vx,useFactory:Fz(n),multi:!0,deps:[c.R0b,c.zs3,Et.HU,Ja,[new c.FiY,To],...e]}]}}const Hz=(0,Et.u3)(Oz,!0),jz=(0,Et.u3)(Y1.n,!0);class Lw{constructor(e){return e}}const X1="analytics",J1=Et.nk.async,zz=(0,Et.u3)(Lx.IH,!0),Gz=(0,Et.u3)(Lx.Kz,!0),qz=(0,Et.u3)(Lx.Iv,!0);let Bx=(()=>{class n{constructor(t,i,r){let a;this.disposables=[],(0,Sr.KN)("angularfire",Et.q4.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(u=>{a=u})),J1().then(()=>{const u=r.get(Lw);u?this.disposables=[Hz(t).subscribe(f=>{qz(u,f?.uid),a()})]:a()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(SD),c.LFG(c.R0b),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const eF="firebase_screen_id",Ux="outlet",Vw="screen_class",tF="screen_name";let rG=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Hx={},sG=n=>{const e=[n[Vw],n[Ux]].join("#");if(Hx.hasOwnProperty(e))return Hx[e];{const t=rG++;return Hx[e]=t,t}};let nF=(()=>{class n{constructor(t,i,r,a,u,f){(0,Sr.KN)("angularfire",Et.q4.full,"screen-tracking"),J1().then(()=>{const g=f.get(Lw);!t||!g||a.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(Vn(r=>r instanceof Gi)).pipe($n(r=>{var a;const f=(null===(a=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,P=>P.replace("://",":///"))).root.children[r.snapshot.outlet])||void 0===a?void 0:a.toString())||"",g=n.routerState.root.children.map(P=>P).find(P=>P.outlet===r.snapshot.outlet);if(!g)return ot(null);let v=g;for(;v.firstChild;)v=v.firstChild;const I=v.pathFromRoot.map(P=>{var H;return null===(H=P.routeConfig)||void 0===H?void 0:H.path}).filter(P=>P).join("/")||"/",D={[tF]:I,page_path:`/${f}`,firebase_event_origin:"auto",firebase_screen:I,[Ux]:r.snapshot.outlet};e&&(D.page_title=e.getTitle());let x=g.component;if(x){if(x===hh){let P=r.snapshot;for(;P.firstChild;)P=P.firstChild;x=P.component}}else x=r.snapshot.component;if("string"==typeof x)return ot(Object.assign(Object.assign({},D),{[Vw]:x}));if(x){const P=t.resolveComponentFactory(x);return ot(Object.assign(Object.assign({},D),{[Vw]:P.selector}))}return ot(null)}),Vn(r=>!!r),(0,It.U)(r=>Object.assign({firebase_screen_class:r[Vw],[eF]:sG(r)},r)),function Rz(n,e,t,i){return(0,pi.e)((r,a)=>{let u;e&&"function"!=typeof e?({duration:t,element:u,connector:i}=e):u=e;const f=new Map,g=H=>{f.forEach(H),H(a)},v=H=>g(ne=>ne.error(H));let I=0,D=!1;const x=new jn.Q(a,H=>{try{const ne=n(H);let De=f.get(ne);if(!De){f.set(ne,De=i?i():new Bt.x);const rt=function P(H,ne){const De=new fi.y(rt=>{I++;const ct=ne.subscribe(rt);return()=>{ct.unsubscribe(),0==--I&&D&&x.unsubscribe()}});return De.key=H,De}(ne,De);if(a.next(rt),t){const ct=(0,jn.x)(De,()=>{De.complete(),ct?.unsubscribe()},void 0,void 0,()=>f.delete(ne));x.add((0,Us.Xf)(t(rt)).subscribe(ct))}}De.next(u?u(H):H)}catch(ne){v(ne)}},()=>g(H=>H.complete()),v,()=>f.clear(),()=>(D=!0,0===I));r.subscribe(x)})}(r=>r[Ux]),(0,Ti.z)(r=>r.pipe(Uu((a,u)=>JSON.stringify(a)===JSON.stringify(u)),mi(void 0),Ph(),(0,It.U)(([a,u])=>a?Object.assign({firebase_previous_class:a[Vw],firebase_previous_screen:a[tF],firebase_previous_id:a[eF]},u):u)))))(t,i,r).pipe($n(v=>(0,kz.mG)(this,void 0,void 0,function*(){return u&&(yield u.initialized),Gz(g,"screen_view",v)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ai,8),c.LFG(ka,8),c.LFG(c._Vd),c.LFG(c.R0b),c.LFG(Bx,8),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const jx=new c.OlP("angularfire2.analytics-instances");function lG(n){return(e,t)=>{if(!Et.nk.sync())return null;const i=e.runOutsideAngular(()=>n(t));return new Lw(i)}}const cG={provide:class $z{constructor(){return(0,Et.vb)(X1)}},deps:[[new c.FiY,jx]]},uG={provide:Lw,useFactory:function aG(n,e){if(!Et.nk.sync())return null;const t=(0,Et.JM)(X1,n,e);return t&&new Lw(t)},deps:[[new c.FiY,jx],Gs]};let dG=(()=>{class n{constructor(t,i){(0,Sr.KN)("angularfire",Et.q4.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(nF,8),c.LFG(Bx,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[uG,cG,{provide:c.ip1,useValue:Et.nk.async,multi:!0}]}),n})();function hG(n,...e){return{ngModule:dG,providers:[{provide:jx,useFactory:lG(n),multi:!0,deps:[c.R0b,c.zs3,Et.HU,Ja,...e]}]}}class $x{constructor(e){return e}}const iF="firestore",zx=new c.OlP("angularfire2.firestore-instances");function mG(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new $x(i)}}const gG={provide:class fG{constructor(){return(0,Et.vb)(iF)}},deps:[[new c.FiY,zx]]},_G={provide:$x,useFactory:function pG(n,e){const t=(0,Et.JM)(iF,n,e);return t&&new $x(t)},deps:[[new c.FiY,zx],Gs]};let yG=(()=>{class n{constructor(){(0,Sr.KN)("angularfire",Et.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[_G,gG]}),n})();function vG(n,...e){return{ngModule:yG,providers:[{provide:zx,useFactory:mG(n),multi:!0,deps:[c.R0b,c.zs3,Et.HU,Ja,[new c.FiY,AD],[new c.FiY,To],...e]}]}}const bG=(0,Et.u3)(qV,!0),qx="functions";class DG{constructor(e,t,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||t.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}getAuthToken(){var e=this;return(0,xe.Z)(function*(){if(e.auth)try{return(yield e.auth.getToken())?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return(0,xe.Z)(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(){var e=this;return(0,xe.Z)(function*(){if(e.appCheck){const t=yield e.appCheck.getToken();return t.error?null:t.token}return null})()}getContext(){var e=this;return(0,xe.Z)(function*(){return{authToken:yield e.getAuthToken(),messagingToken:yield e.getMessagingToken(),appCheckToken:yield e.getAppCheckToken()}})()}}const Wx="us-central1";class SG{constructor(e,t,i,r,a=Wx,u){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new DG(t,i,r),this.cancelAllRequests=new Promise(f=>{this.deleteService=()=>Promise.resolve(f())});try{const f=new URL(a);this.customDomain=f.origin,this.region=Wx}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const aF="@firebase/functions";function LG(n=(0,zn.getApp)(),e=Wx){return(0,zn._getProvider)((0,Qt.m9)(n),qx).getImmediate({identifier:e})}!function FG(n,e){(0,zn._registerComponent)(new el.wA(qx,(i,{instanceIdentifier:r})=>{const a=i.getProvider("app").getImmediate(),u=i.getProvider("auth-internal"),f=i.getProvider("messaging-internal"),g=i.getProvider("app-check-internal");return new SG(a,u,f,g,r,n)},"PUBLIC").setMultipleInstances(!0)),(0,zn.registerVersion)(aF,"0.8.3",e),(0,zn.registerVersion)(aF,"0.8.3","esm2017")}(fetch.bind(self));class Yx{constructor(e){return e}}const cF="functions",Qx=new c.OlP("angularfire2.functions-instances");function UG(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Yx(i)}}const HG={provide:class VG{constructor(){return(0,Et.vb)(cF)}},deps:[[new c.FiY,Qx]]},jG={provide:Yx,useFactory:function BG(n,e){const t=(0,Et.JM)(cF,n,e);return t&&new Yx(t)},deps:[[new c.FiY,Qx],Gs]};let $G=(()=>{class n{constructor(){(0,Sr.KN)("angularfire",Et.q4.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[jG,HG]}),n})();function zG(n,...e){return{ngModule:$G,providers:[{provide:Qx,useFactory:UG(n),multi:!0,deps:[c.R0b,c.zs3,Et.HU,Ja,[new c.FiY,AD],[new c.FiY,To],...e]}]}}const GG=(0,Et.u3)(LG,!0);var qG=M(2375);class Xx{constructor(e){return e}}const uF="messaging",Jx=new c.OlP("angularfire2.messaging-instances");function ZG(n){return(e,t)=>{if(!Et.n1.sync())return null;const i=e.runOutsideAngular(()=>n(t));return new Xx(i)}}const YG={provide:class WG{constructor(){return(0,Et.vb)(uF)}},deps:[[new c.FiY,Jx]]},QG={provide:Xx,useFactory:function KG(n,e){if(!Et.n1.sync())return null;const t=(0,Et.JM)(uF,n,e);return t&&new Xx(t)},deps:[[new c.FiY,Jx],Gs]};let XG=(()=>{class n{constructor(){(0,Sr.KN)("angularfire",Et.q4.full,"fcm")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[QG,YG,{provide:c.ip1,useValue:Et.n1.async,multi:!0}]}),n})();function JG(n,...e){return{ngModule:XG,providers:[{provide:Jx,useFactory:ZG(n),multi:!0,deps:[c.R0b,c.zs3,Et.HU,Ja,...e]}]}}const e3=(0,Et.u3)(qG.KL,!0);M(2833);const dF="@firebase/performance",eR="0.5.11",tR="FB-PERF-TRACE-MEASURE",_F="@firebase/performance/config",yF="@firebase/performance/configexpire",vF="Performance",Or=new Qt.LL("performance",vF,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),Nl=new qs.Yd(vF);let nR,bF,wF,rR;Nl.logLevel=qs.in.INFO;class vr{constructor(e){if(this.window=e,!e)throw Or.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,t,i){!this.performance||!this.performance.measure||this.performance.measure(e,t,i)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&(0,Qt.zI)()?!!(0,Qt.hl)()||(Nl.info("IndexedDB is not supported by current browswer"),!1):(Nl.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,t){this.PerformanceObserver&&new this.PerformanceObserver(r=>{for(const a of r.getEntries())t(a)}).observe({entryTypes:[e]})}static getInstance(){return void 0===nR&&(nR=new vr(bF)),nR}}function iR(){return wF}function EF(n,e){const t=n.length-e.length;if(t<0||t>1)throw Or.create("invalid String merger input");const i=[];for(let r=0;r<n.length;r++)i.push(n.charAt(r)),e.length>r&&i.push(e.charAt(r));return i.join("")}class io{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=EF("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=EF("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===rR&&(rR=new io),rR}}var up=(()=>(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN"}(up||(up={})),up))();const c3=["firebase_","google_","ga_"],u3=new RegExp("^[a-zA-Z]\\w*$");function f3(){const n=vr.getInstance().navigator;return"serviceWorker"in n?n.serviceWorker.controller?2:3:1}function CF(){switch(vr.getInstance().document.visibilityState){case"visible":return up.VISIBLE;case"hidden":return up.HIDDEN;default:return up.UNKNOWN}}function p3(){const e=vr.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function IF(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.appId;if(!t)throw Or.create("no app id");return t}const Da={loggingEnabled:!0};const I3="Could not fetch config, will use default configs";function DF(n){if(!n)return n;const e=io.getInstance(),t=n.entries||{};return e.loggingEnabled=void 0!==t.fpr_enabled?"true"===String(t.fpr_enabled):Da.loggingEnabled,t.fpr_log_source?e.logSource=Number(t.fpr_log_source):Da.logSource&&(e.logSource=Da.logSource),t.fpr_log_endpoint_url?e.logEndPointUrl=t.fpr_log_endpoint_url:Da.logEndPointUrl&&(e.logEndPointUrl=Da.logEndPointUrl),t.fpr_log_transport_key?e.transportKey=t.fpr_log_transport_key:Da.transportKey&&(e.transportKey=Da.transportKey),void 0!==t.fpr_vc_network_request_sampling_rate?e.networkRequestsSamplingRate=Number(t.fpr_vc_network_request_sampling_rate):void 0!==Da.networkRequestsSamplingRate&&(e.networkRequestsSamplingRate=Da.networkRequestsSamplingRate),void 0!==t.fpr_vc_trace_sampling_rate?e.tracesSamplingRate=Number(t.fpr_vc_trace_sampling_rate):void 0!==Da.tracesSamplingRate&&(e.tracesSamplingRate=Da.tracesSamplingRate),e.logTraceAfterSampling=TF(e.tracesSamplingRate),e.logNetworkAfterSampling=TF(e.networkRequestsSamplingRate),n}function TF(n){return Math.random()<=n}let oR,sR=1;function SF(n){return sR=2,oR=oR||function A3(n){return function M3(){const n=vr.getInstance().document;return new Promise(e=>{if(n&&"complete"!==n.readyState){const t=()=>{"complete"===n.readyState&&(n.removeEventListener("readystatechange",t),e())};n.addEventListener("readystatechange",t)}else e()})}().then(()=>function a3(n){const e=n.getId();return e.then(t=>{wF=t}),e}(n.installations)).then(e=>function w3(n,e){const t=function E3(){const n=vr.getInstance().localStorage;if(!n)return;const e=n.getItem(yF);if(!e||!function T3(n){return Number(n)>Date.now()}(e))return;const t=n.getItem(_F);if(t)try{return JSON.parse(t)}catch{return}}();return t?(DF(t),Promise.resolve()):function D3(n,e){return function l3(n){const e=n.getToken();return e.then(t=>{}),e}(n.installations).then(t=>{const i=function _3(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.projectId;if(!t)throw Or.create("no project id");return t}(n.app),r=function y3(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.apiKey;if(!t)throw Or.create("no api key");return t}(n.app),u=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${i}/namespaces/fireperf:fetch?key=${r}`,{method:"POST",headers:{Authorization:`FIREBASE_INSTALLATIONS_AUTH ${t}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:IF(n.app),app_version:"0.5.11",sdk_version:"0.0.1"})});return fetch(u).then(f=>{if(f.ok)return f.json();throw Or.create("RC response not ok")})}).catch(()=>{Nl.info(I3)})}(n,e).then(DF).then(i=>function C3(n){const e=vr.getInstance().localStorage;!n||!e||(e.setItem(_F,JSON.stringify(n)),e.setItem(yF,String(Date.now()+60*io.getInstance().configTimeToLive*60*1e3)))}(i),()=>{})}(n,e)).then(()=>AF(),()=>AF())}(n),oR}function AF(){sR=3}let lR,xD=3,Rd=[],xF=!1;function RD(n){setTimeout(()=>{if(0!==xD){if(!Rd.length)return RD(1e4);!function O3(){const n=Rd.splice(0,1e3),e=n.map(i=>({source_extension_json_proto3:i.message,event_time_ms:String(i.eventTime)}));(function P3(n,e){return function N3(n){const e=io.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(n)})}(n).then(t=>(t.ok||Nl.info("Call to Firebase backend failed."),t.json())).then(t=>{const i=Number(t.nextRequestWaitMillis);let r=1e4;isNaN(i)||(r=Math.max(i,r));const a=t.logResponseDetails;Array.isArray(a)&&a.length>0&&"RETRY_REQUEST_LATER"===a[0].responseAction&&(Rd=[...e,...Rd],Nl.info("Retry transport request later.")),xD=3,RD(r)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:io.getInstance().logSource,log_event:e},n).catch(()=>{Rd=[...n,...Rd],xD--,Nl.info(`Tries left: ${xD}.`),RD(1e4)})}()}},n)}function RF(n,e){lR||(lR=function L3(n){return(...e)=>{!function F3(n){if(!n.eventTime||!n.message)throw Or.create("invalid cc log");Rd=[...Rd,n]}({message:n(...e),eventTime:Date.now()})}}(B3)),lR(n,e)}function kD(n){const e=io.getInstance();!e.instrumentationEnabled&&n.isAuto||!e.dataCollectionEnabled&&!n.isAuto||!vr.getInstance().requiredApisAvailable()||n.isAuto&&CF()!==up.VISIBLE||(function S3(){return 3===sR}()?cR(n):SF(n.performanceController).then(()=>cR(n),()=>cR(n)))}function cR(n){if(!iR())return;const e=io.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>RF(n,1),0)}function B3(n,e){return 0===e?function U3(n){const e={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},t={application_info:kF(n.performanceController.app),network_request_metric:e};return JSON.stringify(t)}(n):function H3(n){const e={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};0!==Object.keys(n.counters).length&&(e.counters=n.counters);const t=n.getAttributes();0!==Object.keys(t).length&&(e.custom_attributes=t);const i={application_info:kF(n.performanceController.app),trace_metric:e};return JSON.stringify(i)}(n)}function kF(n){return{google_app_id:IF(n),app_instance_id:iR(),web_app_info:{sdk_version:"0.5.11",page_url:vr.getInstance().getUrl(),service_worker_status:f3(),visibility_state:CF(),effective_connection_type:p3()},application_process_state:0}}const z3=["_fp","_fcp","_fid"];class kd{constructor(e,t,i=!1,r){this.performanceController=e,this.name=t,this.isAuto=i,this.state=1,this.customAttributes={},this.counters={},this.api=vr.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=r||`${tR}-${this.randomId}-${this.name}`,r&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw Or.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw Or.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),kD(this)}record(e,t,i){if(e<=0)throw Or.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw Or.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),i&&i.attributes&&(this.customAttributes=Object.assign({},i.attributes)),i&&i.metrics)for(const r of Object.keys(i.metrics))isNaN(Number(i.metrics[r]))||(this.counters[r]=Math.floor(Number(i.metrics[r])));kD(this)}incrementMetric(e,t=1){this.putMetric(e,void 0===this.counters[e]?t:this.counters[e]+t)}putMetric(e,t){if(!function G3(n,e){return!(0===n.length||n.length>100)&&(e&&e.startsWith("_wt_")&&z3.indexOf(n)>-1||!n.startsWith("_"))}(e,this.name))throw Or.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function q3(n){const e=Math.floor(n);return e<n&&Nl.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}(t??0)}getMetric(e){return this.counters[e]||0}putAttribute(e,t){const i=function m3(n){return!(0===n.length||n.length>40||c3.some(t=>n.startsWith(t))||!n.match(u3))}(e),r=function g3(n){return 0!==n.length&&n.length<=100}(t);if(i&&r)this.customAttributes[e]=t;else{if(!i)throw Or.create("invalid attribute name",{attributeName:e});if(!r)throw Or.create("invalid attribute value",{attributeValue:t})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,t,i,r){const a=vr.getInstance().getUrl();if(!a)return;const u=new kd(e,"_wt_"+a,!0),f=Math.floor(1e3*vr.getInstance().getTimeOrigin());if(u.setStartTime(f),t&&t[0]&&(u.setDuration(Math.floor(1e3*t[0].duration)),u.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),u.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),u.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),i){const I=i.find(x=>"first-paint"===x.name);I&&I.startTime&&u.putMetric("_fp",Math.floor(1e3*I.startTime));const D=i.find(x=>"first-contentful-paint"===x.name);D&&D.startTime&&u.putMetric("_fcp",Math.floor(1e3*D.startTime)),r&&u.putMetric("_fid",Math.floor(1e3*r))}kD(u)}static createUserTimingTrace(e,t){kD(new kd(e,t,!1,t))}}function OF(n,e){const t=e;if(!t||void 0===t.responseStart)return;const i=vr.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+i)),a=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,u=Math.floor(1e3*(t.responseEnd-t.startTime));!function V3(n){const e=io.getInstance();if(!e.instrumentationEnabled)return;const t=n.url,i=e.logEndPointUrl.split("?")[0],r=e.flTransportEndpointUrl.split("?")[0];t===i||t===r||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>RF(n,0),0)}({performanceController:n,url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:a,timeToResponseCompletedUs:u})}function PF(n){!iR()||(setTimeout(()=>function Z3(n){const e=vr.getInstance(),t=e.getEntriesByType("navigation"),i=e.getEntriesByType("paint");if(e.onFirstInputDelay){let r=setTimeout(()=>{kd.createOobTrace(n,t,i),r=void 0},5e3);e.onFirstInputDelay(a=>{r&&(clearTimeout(r),kd.createOobTrace(n,t,i,a))})}else kd.createOobTrace(n,t,i)}(n),0),setTimeout(()=>function K3(n){const e=vr.getInstance(),t=e.getEntriesByType("resource");for(const i of t)OF(n,i);e.setupObserver("resource",i=>OF(n,i))}(n),0),setTimeout(()=>function Y3(n){const e=vr.getInstance(),t=e.getEntriesByType("measure");for(const i of t)NF(n,i);e.setupObserver("measure",i=>NF(n,i))}(n),0))}function NF(n,e){const t=e.name;t.substring(0,tR.length)!==tR&&kd.createUserTimingTrace(n,t)}class Q3{constructor(e,t){this.app=e,this.installations=t,this.initialized=!1}_init(e){this.initialized||(void 0!==e?.dataCollectionEnabled&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==e?.instrumentationEnabled&&(this.instrumentationEnabled=e.instrumentationEnabled),vr.getInstance().requiredApisAvailable()?(0,Qt.eu)().then(t=>{t&&(function k3(){xF||(RD(5500),xF=!0)}(),SF(this).then(()=>PF(this),()=>PF(this)),this.initialized=!0)}).catch(t=>{Nl.info(`Environment doesn't support IndexedDB: ${t}`)}):Nl.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){io.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return io.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){io.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return io.getInstance().dataCollectionEnabled}}function J3(n=(0,zn.getApp)()){return n=(0,Qt.m9)(n),(0,zn._getProvider)(n,"performance").getImmediate()}const e6=(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),i=n.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==t.name)throw Or.create("FB not default");if(typeof window>"u")throw Or.create("no window");!function o3(n){bF=n}(window);const r=new Q3(t,i);return r._init(e),r};!function t6(){(0,zn._registerComponent)(new el.wA("performance",e6,"PUBLIC")),(0,zn.registerVersion)(dF,eR),(0,zn.registerVersion)(dF,eR,"esm2017")}();class uR{constructor(e){return e}}const FF="performance",dR=new c.OlP("angularfire2.performance-instances");function r6(n){return(e,t,i)=>{if(!$i(t))return null;const r=e.runOutsideAngular(()=>n(i));return new uR(r)}}const s6={provide:class n6{constructor(){return(0,Et.vb)(FF)}},deps:[[new c.FiY,dR]]},o6={provide:uR,useFactory:function i6(n,e,t){if(!$i(t))return null;const i=(0,Et.JM)(FF,n,e);return i&&new uR(i)},deps:[[new c.FiY,dR],Gs,c.Lbi]};let a6=(()=>{class n{constructor(){(0,Sr.KN)("angularfire",Et.q4.full,"perf")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[o6,s6]}),n})();function l6(n,...e){return{ngModule:a6,providers:[{provide:dR,useFactory:r6(n),multi:!0,deps:[c.R0b,c.Lbi,c.zs3,Et.HU,Ja,...e]}]}}const c6=(0,Et.u3)(J3,!0),LF="firebasestorage.googleapis.com";class Ni extends Qt.ZR{constructor(e,t){super(hR(e),`Firebase Storage: ${t} (${hR(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ni.prototype)}_codeEquals(e){return hR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function hR(n){return"storage/"+n}function pR(n){return new Ni("invalid-argument",n)}function HF(){return new Ni("app-deleted","The Firebase app was deleted.")}class ds{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=ds.makeFromUrl(e,t)}catch{return new ds(e,"")}if(""===i.path)return i;throw function v6(n){return new Ni("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+r+"(/(.*))?$","i");function v(ft){ft.path_=decodeURIComponent(ft.path)}const D=t.replace(/[.]/g,"\\."),Ct=[{regex:f,indices:{bucket:1,path:3},postModify:function a(ft){"/"===ft.path.charAt(ft.path.length-1)&&(ft.path_=ft.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===LF?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let ft=0;ft<Ct.length;ft++){const jt=Ct[ft],Kt=jt.regex.exec(e);if(Kt){let ji=Kt[jt.indices.path];ji||(ji=""),i=new ds(Kt[jt.indices.bucket],ji),jt.postModify(i);break}}if(null==i)throw function y6(n){return new Ni("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class I6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function gR(n,e,t,i){if(i<e)throw pR(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw pR(`Invalid value for '${n}'. Expected ${t} or less.`)}var Od=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Od||(Od={})),Od))();class x6{constructor(e,t,i,r,a,u,f,g,v,I,D){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=g,this.timeout_=v,this.progressCallback_=I,this.connectionFactory_=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,P)=>{this.resolve_=x,this.reject_=P,this.start_()})}start_(){const t=(i,r)=>{const a=this.resolve_,u=this.reject_,f=r.connection;if(r.wasSuccessCode)try{const g=this.callback_(f,f.getResponse());!function S6(n){return void 0!==n}(g)?a():a(g)}catch(g){u(g)}else if(null!==f){const g=function fR(){return new Ni("unknown","An unknown error occurred, please check the error payload for server response.")}();g.serverResponse=f.getErrorText(),u(this.errorCallback_?this.errorCallback_(f,g):g)}else u(r.canceled?this.appDelete_?HF():function BF(){return new Ni("canceled","User canceled the upload/download.")}():function _6(){return new Ni("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new PD(!1,null,!0)):this.backoffId_=function D6(n,e,t){let i=1,r=null,a=null,u=!1,f=0;function g(){return 2===f}let v=!1;function I(...De){v||(v=!0,e.apply(null,De))}function D(De){r=setTimeout(()=>{r=null,n(P,g())},De)}function x(){a&&clearTimeout(a)}function P(De,...rt){if(v)return void x();if(De)return x(),void I.call(null,De,...rt);if(g()||u)return x(),void I.call(null,De,...rt);let Ct;i<64&&(i*=2),1===f?(f=2,Ct=0):Ct=1e3*(i+Math.random()),D(Ct)}let H=!1;function ne(De){H||(H=!0,x(),!v&&(null!==r?(De||(f=2),clearTimeout(r),D(0)):De||(f=1)))}return D(0),a=setTimeout(()=>{u=!0,ne(!0)},t),ne}((i,r)=>{if(r)return void i(!1,new PD(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const u=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const f=a.getErrorCode()===Od.NO_ERROR,g=a.getStatus();if(!f||this.isRetryStatusCode_(g)){const I=a.getErrorCode()===Od.ABORT;return void i(!1,new PD(!1,null,I))}const v=-1!==this.successCodes_.indexOf(g);i(!0,new PD(v,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function T6(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),a=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||a}}class PD{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}class dp{constructor(e,t){this._service=e,this._location=t instanceof ds?t:ds.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new dp(e,t)}get root(){const e=new ds(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function KF(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function z6(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ds(this._location.bucket,e);return new dp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function C6(n){return new Ni("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function cL(n,e){const t=e?.storageBucket;return null==t?null:ds.makeFromBucketSpec(t,n)}class CR{constructor(e,t,i,r,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=a,this._bucket=null,this._host=LF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ds.makeFromBucketSpec(r,this._host):cL(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ds.makeFromBucketSpec(this._url,e):cL(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,xe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,xe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new dp(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new I6(HF());{const a=function N6(n,e,t,i,r,a){const u=function $F(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}(n.urlParams),f=n.url+u,g=Object.assign({},n.headers);return function O6(n,e){e&&(n["X-Firebase-GMPID"]=e)}(g,e),function R6(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(g,t),function k6(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(g,a),function P6(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(g,i),new x6(f,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){var i=this;return(0,xe.Z)(function*(){const[r,a]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,a).getPromise()})()}}const uL="@firebase/storage",hL="storage";function Mq(n=(0,zn.getApp)(),e){return n=(0,Qt.m9)(n),(0,zn._getProvider)(n,hL).getImmediate({identifier:e})}function xq(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new CR(t,i,r,e,zn.SDK_VERSION)}!function Rq(){(0,zn._registerComponent)(new el.wA(hL,xq,"PUBLIC").setMultipleInstances(!0)),(0,zn.registerVersion)(uL,"0.9.8",""),(0,zn.registerVersion)(uL,"0.9.8","esm2017")}();class IR{constructor(e){return e}}const fL="storage",DR=new c.OlP("angularfire2.storage-instances");function Pq(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new IR(i)}}const Nq={provide:class kq{constructor(){return(0,Et.vb)(fL)}},deps:[[new c.FiY,DR]]},Fq={provide:IR,useFactory:function Oq(n,e){const t=(0,Et.JM)(fL,n,e);return t&&new IR(t)},deps:[[new c.FiY,DR],Gs]};let Lq=(()=>{class n{constructor(){(0,Sr.KN)("angularfire",Et.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Fq,Nq]}),n})();function Vq(n,...e){return{ngModule:Lq,providers:[{provide:DR,useFactory:Pq(n),multi:!0,deps:[c.R0b,c.zs3,Et.HU,Ja,[new c.FiY,AD],[new c.FiY,To],...e]}]}}const Bq=(0,Et.u3)(Mq,!0);function pL(n){return new c.vHH(3e3,!1)}function bW(){return typeof window<"u"&&typeof window.document<"u"}function TR(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Pd(n){switch(n.length){case 0:return new Mw;case 1:return n[0];default:return new NN(n)}}function mL(n,e,t,i,r=new Map,a=new Map){const u=[],f=[];let g=-1,v=null;if(i.forEach(I=>{const D=I.get("offset"),x=D==g,P=x&&v||new Map;I.forEach((H,ne)=>{let De=ne,rt=H;if("offset"!==ne)switch(De=e.normalizePropertyName(De,u),rt){case"!":rt=r.get(ne);break;case Zc:rt=a.get(ne);break;default:rt=e.normalizeStyleValue(ne,De,rt,u)}P.set(De,rt)}),x||f.push(P),v=P,g=D}),u.length)throw function lW(n){return new c.vHH(3502,!1)}();return f}function SR(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&AR(t,"start",n)));break;case"done":n.onDone(()=>i(t&&AR(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&AR(t,"destroy",n)))}}function AR(n,e,t){const a=MR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function MR(n,e,t,i,r="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function ro(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function gL(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let xR=(n,e)=>!1,_L=(n,e,t)=>[],yL=null;function RR(n){const e=n.parentNode||n.host;return e===yL?null:e}(TR()||typeof Element<"u")&&(bW()?(yL=(()=>document.documentElement)(),xR=(n,e)=>{for(;e;){if(e===n)return!0;e=RR(e)}return!1}):xR=(n,e)=>n.contains(e),_L=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let hp=null,vL=!1;const bL=xR,wL=_L;let EL=(()=>{class n{validateStyleProperty(t){return function EW(n){hp||(hp=function CW(){return typeof document<"u"?document.body:null}()||{},vL=!!hp.style&&"WebkitAppearance"in hp.style);let e=!0;return hp.style&&!function wW(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in hp.style,!e&&vL&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in hp.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return bL(t,i)}getParentElement(t){return RR(t)}query(t,i,r){return wL(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,u,f=[],g){return new Mw(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),kR=(()=>{class n{}return n.NOOP=new EL,n})();const OR="ng-enter",VD="ng-leave",BD="ng-trigger",UD=".ng-trigger",IL="ng-animating",PR=".ng-animating";function Nd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:NR(parseFloat(e[1]),e[2])}function NR(n,e){return"s"===e?1e3*n:n}function HD(n,e,t){return n.hasOwnProperty("duration")?n:function TW(n,e,t){let r,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(pL()),{duration:0,delay:0,easing:""};r=NR(parseFloat(f[1]),f[2]);const g=f[3];null!=g&&(a=NR(parseFloat(g),f[4]));const v=f[5];v&&(u=v)}else r=n;if(!t){let f=!1,g=e.length;r<0&&(e.push(function Uq(){return new c.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function Hq(){return new c.vHH(3101,!1)}()),f=!0),f&&e.splice(g,0,pL())}return{duration:r,delay:a,easing:u}}(n,e,t)}function $w(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function DL(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Fd(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function SL(n,e,t){return t?e+":"+t+";":""}function AL(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=SL(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=SL(0,xW(t),n.style[t]));n.setAttribute("style",e)}function Vl(n,e,t){n.style&&(e.forEach((i,r)=>{const a=LR(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i}),TR()&&AL(n))}function fp(n,e){n.style&&(e.forEach((t,i)=>{const r=LR(i);n.style[r]=""}),TR()&&AL(n))}function zw(n){return Array.isArray(n)?1==n.length?n[0]:ON(n):n}const FR=new RegExp("{{\\s*(.+?)\\s*}}","g");function ML(n){let e=[];if("string"==typeof n){let t;for(;t=FR.exec(n);)e.push(t[1]);FR.lastIndex=0}return e}function jD(n,e,t){const i=n.toString(),r=i.replace(FR,(a,u)=>{let f=e[u];return null==f&&(t.push(function $q(n){return new c.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function $D(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const MW=/-+([a-z0-9])/g;function LR(n){return n.replace(MW,(...e)=>e[1].toUpperCase())}function xW(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function so(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function zq(n){return new c.vHH(3004,!1)}()}}function xL(n,e){return window.getComputedStyle(n)[e]}function FW(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function LW(n,e,t){if(":"==n[0]){const g=function VW(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function rW(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function iW(n){return new c.vHH(3015,!1)}()),e;const r=i[1],a=i[2],u=i[3];e.push(RL(r,u));"<"==a[0]&&!("*"==r&&"*"==u)&&e.push(RL(u,r))}(i,t,e)):t.push(n),t}const WD=new Set(["true","1"]),KD=new Set(["false","0"]);function RL(n,e){const t=WD.has(n)||KD.has(n),i=WD.has(e)||KD.has(e);return(r,a)=>{let u="*"==n||n==r,f="*"==e||e==a;return!u&&t&&"boolean"==typeof r&&(u=r?WD.has(n):KD.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?WD.has(e):KD.has(e)),u&&f}}const BW=new RegExp("s*:selfs*,?","g");function VR(n,e,t,i){return new UW(n).build(e,t,i)}class UW{constructor(e){this._driver=e}build(e,t,i){const r=new $W(t);return this._resetContextStyleTimingState(r),so(this,zw(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function qq(){return new c.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const g=f,v=g.name;v.toString().split(/\s*,\s*/).forEach(I=>{g.name=I,a.push(this.visitState(g,t))}),g.name=v}else if(1==f.type){const g=this.visitTransition(f,t);i+=g.queryCount,r+=g.depCount,u.push(g)}else t.errors.push(function Wq(){return new c.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(g=>{ML(g).forEach(v=>{u.hasOwnProperty(v)||a.add(v)})})}),a.size&&($D(a.values()),t.errors.push(function Kq(n,e){return new c.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=so(this,zw(e.animation),t);return{type:1,matchers:FW(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:pp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>so(this,i,t)),options:pp(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(u=>{t.currentTime=i;const f=so(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:pp(e.options)}}visitAnimate(e,t){const i=function GW(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return BR(HD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=BR(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=HD(t,e);return BR(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:Ia({});if(5==a.type)r=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const v={};i.easing&&(v.easing=i.easing),u=Ia(v)}t.currentTime+=i.duration+i.delay;const g=this.visitStyle(u,t);g.isEmptyStep=f,r=g}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===Zc?i.push(f):t.errors.push(new c.vHH(3002,!1)):i.push(DL(f));let a=!1,u=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(u=f.get("easing"),f.delete("easing")),!a))for(let g of f.values())if(g.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,g)=>{const v=t.collectedStyles.get(t.currentQuerySelector),I=v.get(g);let D=!0;I&&(a!=r&&a>=I.startTime&&r<=I.endTime&&(t.errors.push(function Yq(n,e,t,i,r){return new c.vHH(3010,!1)}()),D=!1),a=I.startTime),D&&v.set(g,{startTime:a,endTime:r}),t.options&&function AW(n,e,t){const i=e.params||{},r=ML(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function jq(n){return new c.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Qq(){return new c.vHH(3011,!1)}()),i;let a=0;const u=[];let f=!1,g=!1,v=0;const I=e.steps.map(rt=>{const ct=this._makeStyleAst(rt,t);let Ct=null!=ct.offset?ct.offset:function zW(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(ct.styles),ft=0;return null!=Ct&&(a++,ft=ct.offset=Ct),g=g||ft<0||ft>1,f=f||ft<v,v=ft,u.push(ft),ct});g&&t.errors.push(function Xq(){return new c.vHH(3012,!1)}()),f&&t.errors.push(function Jq(){return new c.vHH(3200,!1)}());const D=e.steps.length;let x=0;a>0&&a<D?t.errors.push(function eW(){return new c.vHH(3202,!1)}()):0==a&&(x=1/(D-1));const P=D-1,H=t.currentTime,ne=t.currentAnimateTimings,De=ne.duration;return I.forEach((rt,ct)=>{const Ct=x>0?ct==P?1:x*ct:u[ct],ft=Ct*De;t.currentTime=H+ne.delay+ft,ne.duration=ft,this._validateStyleAst(rt,t),rt.offset=Ct,i.styles.push(rt)}),i}visitReference(e,t){return{type:8,animation:so(this,zw(e.animation),t),options:pp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:pp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:pp(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function HW(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(BW,"")),n=n.replace(/@\*/g,UD).replace(/@\w+/g,t=>UD+"-"+t.slice(1)).replace(/:animating/g,PR),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,ro(t.collectedStyles,t.currentQuerySelector,new Map);const f=so(this,zw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:pp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function tW(){return new c.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:HD(e.timings,t.errors,!0);return{type:12,animation:so(this,zw(e.animation),t),timings:i,options:null}}}class $W{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set,this.nonAnimatableCSSPropertiesFound=new Set}}function pp(n){return n?(n=$w(n)).params&&(n.params=function jW(n){return n?$w(n):null}(n.params)):n={},n}function BR(n,e,t){return{duration:n,delay:e,easing:t}}function UR(n,e,t,i,r,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:f}}class ZD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const KW=new RegExp(":enter","g"),YW=new RegExp(":leave","g");function HR(n,e,t,i,r,a=new Map,u=new Map,f,g,v=[]){return(new QW).buildKeyframes(n,e,t,i,r,a,u,f,g,v)}class QW{buildKeyframes(e,t,i,r,a,u,f,g,v,I=[]){v=v||new ZD;const D=new jR(e,t,v,r,a,I,[]);D.options=g;const x=g.delay?Nd(g.delay):0;D.currentTimeline.delayNextStep(x),D.currentTimeline.setStyles([u],null,D.errors,g),so(this,i,D);const P=D.timelines.filter(H=>H.containsAnimation());if(P.length&&f.size){let H;for(let ne=P.length-1;ne>=0;ne--){const De=P[ne];if(De.element===t){H=De;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([f],null,D.errors,g)}return P.length?P.map(H=>H.buildKeyframes()):[UR(t,[],[],[],0,x,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const u=null!=i.duration?Nd(i.duration):null,f=null!=i.delay?Nd(i.delay):null;return 0!==u&&e.forEach(g=>{const v=t.appendInstructionToTimeline(g,u,f);a=Math.max(a,v.duration+v.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),so(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=YD);const u=Nd(a.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>so(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Nd(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),so(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return HD(t.params?jD(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(g=>{f.forwardTime((g.offset||0)*a),f.setStyles(g.styles,g.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?Nd(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=YD);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let g=null;f.forEach((v,I)=>{t.currentQueryIndex=I;const D=t.createSubContext(e.options,v);a&&D.delayNextStep(a),v===t.element&&(g=D.currentTimeline),so(this,e.animation,D),D.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,D.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let g=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":g=f-g;break;case"full":g=i.currentStaggerTime}const I=t.currentTimeline;g&&I.delayNextStep(g);const D=I.currentTime;so(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const YD={};class jR{constructor(e,t,i,r,a,u,f,g){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=YD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new QD(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Nd(i.duration)),null!=i.delay&&(r.delay=Nd(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=jD(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new jR(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=YD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new XW(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(KW,"."+this._enterClassName)).replace(YW,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),f.push(...v)}return!a&&0==f.length&&u.push(function nW(n){return new c.vHH(3014,!1)}()),f}}class QD{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new QD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Zc),this._currentKeyframe.set(t,Zc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},u=function JW(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,Zc)}else Fd(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,g]of u){const v=jD(g,a,i);this._pendingStyles.set(f,v),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)||Zc),this._updateStyle(f,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,g)=>{const v=Fd(f,new Map,this._backFill);v.forEach((I,D)=>{"!"===I?e.add(D):I===Zc&&t.add(D)}),i||v.set("offset",g/this.duration),r.push(v)});const a=e.size?$D(e.values()):[],u=t.size?$D(t.values()):[];if(i){const f=r[0],g=new Map(f);f.set("offset",0),g.set("offset",1),r=[f,g]}return UR(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class XW extends QD{constructor(e,t,i,r,a,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=i+t,f=t/u,g=Fd(e[0]);g.set("offset",0),a.push(g);const v=Fd(e[0]);v.set("offset",PL(f)),a.push(v);const I=e.length-1;for(let D=1;D<=I;D++){let x=Fd(e[D]);const P=x.get("offset");x.set("offset",PL((t+P*i)/u)),a.push(x)}i=u,t=0,r="",e=a}return UR(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function PL(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class $R{}const e4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class t4 extends $R{normalizePropertyName(e,t){return LR(e)}normalizeStyleValue(e,t,i,r){let a="";const u=i.toString().trim();if(e4.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function Gq(n,e){return new c.vHH(3005,!1)}())}return u+a}}function NL(n,e,t,i,r,a,u,f,g,v,I,D,x){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:u,timelines:f,queriedElements:g,preStyleProps:v,postStyleProps:I,totalTime:D,errors:x}}const zR={};class FL{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function n4(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,u,f,g,v,I){const D=[],x=this.ast.options&&this.ast.options.params||zR,H=this.buildStyles(i,f&&f.params||zR,D),ne=g&&g.params||zR,De=this.buildStyles(r,ne,D),rt=new Set,ct=new Map,Ct=new Map,ft="void"===r,jt={params:i4(ne,x),delay:this.ast.options?.delay},Kt=I?[]:HR(e,t,this.ast.animation,a,u,H,De,jt,v,D);let wn=0;if(Kt.forEach(oo=>{wn=Math.max(oo.duration+oo.delay,wn)}),D.length)return NL(t,this._triggerName,i,r,ft,H,De,[],[],ct,Ct,wn,D);Kt.forEach(oo=>{const Xc=oo.element,XL=ro(ct,Xc,new Set);oo.preStyleProps.forEach(mp=>XL.add(mp));const qw=ro(Ct,Xc,new Set);oo.postStyleProps.forEach(mp=>qw.add(mp)),Xc!==t&&rt.add(Xc)});const ji=$D(rt.values());return NL(t,this._triggerName,i,r,ft,H,De,Kt,ji,ct,Ct,wn)}}function i4(n,e){const t=$w(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class r4{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=$w(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!==u&&(r[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,f)=>{u&&(u=jD(u,r,t));const g=this.normalizer.normalizePropertyName(f,t);u=this.normalizer.normalizeStyleValue(f,g,u,t),i.set(g,u)})}),i}}class o4{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new r4(r.style,r.options&&r.options.params||{},i))}),LL(this.states,"true","1"),LL(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new FL(e,r,this.states))}),this.fallbackTransition=function a4(n,e,t){return new FL(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function LL(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const l4=new ZD;class c4{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=VR(this._driver,t,i,[]);if(i.length)throw function cW(n){return new c.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=mL(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let u;const f=new Map;if(a?(u=HR(this._driver,t,a,OR,VD,new Map,new Map,i,l4,r),u.forEach(I=>{const D=ro(f,I.element,new Map);I.postStyleProps.forEach(x=>D.set(x,null))})):(r.push(function uW(){return new c.vHH(3300,!1)}()),u=[]),r.length)throw function dW(n){return new c.vHH(3504,!1)}();f.forEach((I,D)=>{I.forEach((x,P)=>{I.set(P,this._driver.computeStyle(D,P,Zc))})});const v=Pd(u.map(I=>{const D=f.get(I.element);return this._buildPlayer(I,new Map,D)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function hW(n){return new c.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=MR(t,"","","");return SR(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const VL="ng-animate-queued",GR="ng-animate-disabled",p4=[],BL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},m4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bo="__ng_removed";class qR{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function v4(n){return n??null}(i?e.value:e),i){const a=$w(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Gw="void",WR=new qR(Gw);class g4{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Uo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function fW(n,e){return new c.vHH(3302,!1)}();if(null==i||0==i.length)throw function pW(n){return new c.vHH(3303,!1)}();if(!function b4(n){return"start"==n||"done"==n}(i))throw function mW(n,e){return new c.vHH(3400,!1)}();const a=ro(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};a.push(u);const f=ro(this._engine.statesByElement,e,new Map);return f.has(t)||(Uo(e,BD),Uo(e,BD+"-"+t),f.set(t,WR)),()=>{this._engine.afterFlush(()=>{const g=a.indexOf(u);g>=0&&a.splice(g,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function gW(n){return new c.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),u=new KR(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Uo(e,BD),Uo(e,BD+"-"+t),this._engine.statesByElement.set(e,f=new Map));let g=f.get(t);const v=new qR(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&v.absorbOptions(g.options),f.set(t,v),g||(g=WR),v.value!==Gw&&g.value===v.value){if(!function C4(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(g.params,v.params)){const ne=[],De=a.matchStyles(g.value,g.params,ne),rt=a.matchStyles(v.value,v.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{fp(e,De),Vl(e,rt)})}return}const x=ro(this._engine.playersByElement,e,[]);x.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==t&&ne.queued&&ne.destroy()});let P=a.matchTransition(g.value,v.value,e,v.params),H=!1;if(!P){if(!r)return;P=a.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:P,fromState:g,toState:v,player:u,isFallbackTransition:H}),H||(Uo(e,VL),u.onStart(()=>{b_(e,VL)})),u.onDone(()=>{let ne=this.players.indexOf(u);ne>=0&&this.players.splice(ne,1);const De=this._engine.playersByElement.get(e);if(De){let rt=De.indexOf(u);rt>=0&&De.splice(rt,1)}}),this.players.push(u),x.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,UD,!0);i.forEach(r=>{if(r[Bo])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(a.forEach((g,v)=>{if(u.set(v,g.value),this._triggers.has(v)){const I=this.trigger(e,v,Gw,r);I&&f.push(I)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Pd(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const g=this._triggers.get(u).fallbackTransition,v=i.get(u)||WR,I=new qR(Gw),D=new KR(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:g,fromState:v,toState:I,player:D,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Bo];(!a||a===BL)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Uo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==i.triggerName){const g=MR(a,i.triggerName,i.fromState.value,i.toState.value);g._data=e,SR(i.player,f.phase,g,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class _4{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new g4(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,f=this.driver.getParentElement(t);for(;f;){const g=r.get(f);if(g){const v=i.indexOf(g);i.splice(v+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(XD(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!XD(t))return;const a=t[Bo];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Uo(e,GR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),b_(e,GR))}removeNode(e,t,i,r){if(XD(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Bo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return XD(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,UD,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,PR,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Pd(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Bo];if(t&&t.setForRemoval){if(e[Bo]=BL,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(GR)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Uo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Pd(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function _W(n){return new c.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new ZD,r=[],a=new Map,u=[],f=new Map,g=new Map,v=new Map,I=new Set;this.disabledNodes.forEach(xt=>{I.add(xt);const Ut=this.driver.query(xt,".ng-animate-queued",!0);for(let Zt=0;Zt<Ut.length;Zt++)I.add(Ut[Zt])});const D=this.bodyNode,x=Array.from(this.statesByElement.keys()),P=jL(x,this.collectedEnterElements),H=new Map;let ne=0;P.forEach((xt,Ut)=>{const Zt=OR+ne++;H.set(Ut,Zt),xt.forEach(Mn=>Uo(Mn,Zt))});const De=[],rt=new Set,ct=new Set;for(let xt=0;xt<this.collectedLeaveElements.length;xt++){const Ut=this.collectedLeaveElements[xt],Zt=Ut[Bo];Zt&&Zt.setForRemoval&&(De.push(Ut),rt.add(Ut),Zt.hasAnimation?this.driver.query(Ut,".ng-star-inserted",!0).forEach(Mn=>rt.add(Mn)):ct.add(Ut))}const Ct=new Map,ft=jL(x,Array.from(rt));ft.forEach((xt,Ut)=>{const Zt=VD+ne++;Ct.set(Ut,Zt),xt.forEach(Mn=>Uo(Mn,Zt))}),e.push(()=>{P.forEach((xt,Ut)=>{const Zt=H.get(Ut);xt.forEach(Mn=>b_(Mn,Zt))}),ft.forEach((xt,Ut)=>{const Zt=Ct.get(Ut);xt.forEach(Mn=>b_(Mn,Zt))}),De.forEach(xt=>{this.processLeaveNode(xt)})});const jt=[],Kt=[];for(let xt=this._namespaceList.length-1;xt>=0;xt--)this._namespaceList[xt].drainQueuedTransitions(t).forEach(Zt=>{const Mn=Zt.player,br=Zt.element;if(jt.push(Mn),this.collectedEnterElements.length){const Zr=br[Bo];if(Zr&&Zr.setForMove){if(Zr.previousTriggersValues&&Zr.previousTriggersValues.has(Zt.triggerName)){const gp=Zr.previousTriggersValues.get(Zt.triggerName),Ho=this.statesByElement.get(Zt.element);if(Ho&&Ho.has(Zt.triggerName)){const tT=Ho.get(Zt.triggerName);tT.value=gp,Ho.set(Zt.triggerName,tT)}}return void Mn.destroy()}}const Bl=!D||!this.driver.containsElement(D,br),ao=Ct.get(br),Ld=H.get(br),Ci=this._buildInstruction(Zt,i,Ld,ao,Bl);if(Ci.errors&&Ci.errors.length)return void Kt.push(Ci);if(Bl)return Mn.onStart(()=>fp(br,Ci.fromStyles)),Mn.onDestroy(()=>Vl(br,Ci.toStyles)),void r.push(Mn);if(Zt.isFallbackTransition)return Mn.onStart(()=>fp(br,Ci.fromStyles)),Mn.onDestroy(()=>Vl(br,Ci.toStyles)),void r.push(Mn);const tV=[];Ci.timelines.forEach(Zr=>{Zr.stretchStartingKeyframe=!0,this.disabledNodes.has(Zr.element)||tV.push(Zr)}),Ci.timelines=tV,i.append(br,Ci.timelines),u.push({instruction:Ci,player:Mn,element:br}),Ci.queriedElements.forEach(Zr=>ro(f,Zr,[]).push(Mn)),Ci.preStyleProps.forEach((Zr,gp)=>{if(Zr.size){let Ho=g.get(gp);Ho||g.set(gp,Ho=new Set),Zr.forEach((tT,YR)=>Ho.add(YR))}}),Ci.postStyleProps.forEach((Zr,gp)=>{let Ho=v.get(gp);Ho||v.set(gp,Ho=new Set),Zr.forEach((tT,YR)=>Ho.add(YR))})});if(Kt.length){const xt=[];Kt.forEach(Ut=>{xt.push(function yW(n,e){return new c.vHH(3505,!1)}())}),jt.forEach(Ut=>Ut.destroy()),this.reportError(xt)}const wn=new Map,ji=new Map;u.forEach(xt=>{const Ut=xt.element;i.has(Ut)&&(ji.set(Ut,Ut),this._beforeAnimationBuild(xt.player.namespaceId,xt.instruction,wn))}),r.forEach(xt=>{const Ut=xt.element;this._getPreviousPlayers(Ut,!1,xt.namespaceId,xt.triggerName,null).forEach(Mn=>{ro(wn,Ut,[]).push(Mn),Mn.destroy()})});const oo=De.filter(xt=>zL(xt,g,v)),Xc=new Map;HL(Xc,this.driver,ct,v,Zc).forEach(xt=>{zL(xt,g,v)&&oo.push(xt)});const qw=new Map;P.forEach((xt,Ut)=>{HL(qw,this.driver,new Set(xt),g,"!")}),oo.forEach(xt=>{const Ut=Xc.get(xt),Zt=qw.get(xt);Xc.set(xt,new Map([...Array.from(Ut?.entries()??[]),...Array.from(Zt?.entries()??[])]))});const mp=[],JL=[],eV={};u.forEach(xt=>{const{element:Ut,player:Zt,instruction:Mn}=xt;if(i.has(Ut)){if(I.has(Ut))return Zt.onDestroy(()=>Vl(Ut,Mn.toStyles)),Zt.disabled=!0,Zt.overrideTotalTime(Mn.totalTime),void r.push(Zt);let br=eV;if(ji.size>1){let ao=Ut;const Ld=[];for(;ao=ao.parentNode;){const Ci=ji.get(ao);if(Ci){br=Ci;break}Ld.push(ao)}Ld.forEach(Ci=>ji.set(Ci,br))}const Bl=this._buildAnimation(Zt.namespaceId,Mn,wn,a,qw,Xc);if(Zt.setRealPlayer(Bl),br===eV)mp.push(Zt);else{const ao=this.playersByElement.get(br);ao&&ao.length&&(Zt.parentPlayer=Pd(ao)),r.push(Zt)}}else fp(Ut,Mn.fromStyles),Zt.onDestroy(()=>Vl(Ut,Mn.toStyles)),JL.push(Zt),I.has(Ut)&&r.push(Zt)}),JL.forEach(xt=>{const Ut=a.get(xt.element);if(Ut&&Ut.length){const Zt=Pd(Ut);xt.setRealPlayer(Zt)}}),r.forEach(xt=>{xt.parentPlayer?xt.syncPlayerEvents(xt.parentPlayer):xt.destroy()});for(let xt=0;xt<De.length;xt++){const Ut=De[xt],Zt=Ut[Bo];if(b_(Ut,VD),Zt&&Zt.hasAnimation)continue;let Mn=[];if(f.size){let Bl=f.get(Ut);Bl&&Bl.length&&Mn.push(...Bl);let ao=this.driver.query(Ut,PR,!0);for(let Ld=0;Ld<ao.length;Ld++){let Ci=f.get(ao[Ld]);Ci&&Ci.length&&Mn.push(...Ci)}}const br=Mn.filter(Bl=>!Bl.destroyed);br.length?w4(this,Ut,br):this.processLeaveNode(Ut)}return De.length=0,mp.forEach(xt=>{this.players.push(xt),xt.onDone(()=>{xt.destroy();const Ut=this.players.indexOf(xt);this.players.splice(Ut,1)}),xt.play()}),mp}elementContainsData(e,t){let i=!1;const r=t[Bo];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const g=!a||a==Gw;f.forEach(v=>{v.queued||!g&&v.triggerName!=r||u.push(v)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const v=g.element,I=v!==a,D=ro(i,v,[]);this._getPreviousPlayers(v,I,u,f,t.toState).forEach(P=>{const H=P.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),P.destroy(),D.push(P)})}fp(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,u){const f=t.triggerName,g=t.element,v=[],I=new Set,D=new Set,x=t.timelines.map(H=>{const ne=H.element;I.add(ne);const De=ne[Bo];if(De&&De.removedBeforeQueried)return new Mw(H.duration,H.delay);const rt=ne!==g,ct=function E4(n){const e=[];return $L(n,e),e}((i.get(ne)||p4).map(wn=>wn.getRealPlayer())).filter(wn=>!!wn.element&&wn.element===ne),Ct=a.get(ne),ft=u.get(ne),jt=mL(0,this._normalizer,0,H.keyframes,Ct,ft),Kt=this._buildPlayer(H,jt,ct);if(H.subTimeline&&r&&D.add(ne),rt){const wn=new KR(e,f,ne);wn.setRealPlayer(Kt),v.push(wn)}return Kt});v.forEach(H=>{ro(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function y4(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,H.element,H))}),I.forEach(H=>Uo(H,IL));const P=Pd(x);return P.onDestroy(()=>{I.forEach(H=>b_(H,IL)),Vl(g,t.toStyles)}),D.forEach(H=>{ro(r,H,[]).push(P)}),P}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Mw(e.duration,e.delay)}}class KR{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Mw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>SR(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ro(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function XD(n){return n&&1===n.nodeType}function UL(n,e){const t=n.style.display;return n.style.display=e??"none",t}function HL(n,e,t,i,r){const a=[];t.forEach(g=>a.push(UL(g)));const u=[];i.forEach((g,v)=>{const I=new Map;g.forEach(D=>{const x=e.computeStyle(v,D,r);I.set(D,x),(!x||0==x.length)&&(v[Bo]=m4,u.push(v))}),n.set(v,I)});let f=0;return t.forEach(g=>UL(g,a[f++])),u}function jL(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function u(f){if(!f)return 1;let g=a.get(f);if(g)return g;const v=f.parentNode;return g=t.has(v)?v:r.has(v)?1:u(v),a.set(f,g),g}return e.forEach(f=>{const g=u(f);1!==g&&t.get(g).push(f)}),t}function Uo(n,e){n.classList?.add(e)}function b_(n,e){n.classList?.remove(e)}function w4(n,e,t){Pd(t).onDone(()=>n.processLeaveNode(e))}function $L(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof NN?$L(i.players,e):e.push(i)}}function zL(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class JD{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new _4(e,t,i),this._timelineEngine=new c4(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const g=[],I=VR(this._driver,a,g,[]);if(g.length)throw function aW(n,e){return new c.vHH(3404,!1)}();f=function s4(n,e,t){return new o4(n,e,t)}(r,I,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,u]=gL(i);this._timelineEngine.command(a,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[u,f]=gL(i);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let D4=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Vl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vl(this._element,this._initialStyles),this._endStyles&&(Vl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(fp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fp(this._element,this._endStyles),this._endStyles=null),Vl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ZR(n){let e=null;return n.forEach((t,i)=>{(function T4(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class GL{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:xL(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class S4{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return bL(e,t)}getParentElement(e){return RR(e)}query(e,t,i){return wL(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,u=[]){const g={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(g.easing=a);const v=new Map,I=u.filter(P=>P instanceof GL);(function RW(n,e){return 0===n||0===e})(i,r)&&I.forEach(P=>{P.currentSnapshot.forEach((H,ne)=>v.set(ne,H))});let D=function SW(n){return n.length?n[0]instanceof Map?n:n.map(e=>DL(e)):[]}(t).map(P=>Fd(P));D=function kW(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,u)=>{i.has(u)||r.push(u),i.set(u,a)}),r.length)for(let a=1;a<e.length;a++){let u=e[a];r.forEach(f=>u.set(f,xL(n,f)))}}return e}(e,D,v);const x=function I4(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=ZR(e[0]),e.length>1&&(i=ZR(e[e.length-1]))):e instanceof Map&&(t=ZR(e)),t||i?new D4(n,t,i):null}(e,D);return new GL(e,D,g,x)}}let A4=(()=>{class n extends kN{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?ON(t):t;return qL(this._renderer,null,i,"register",[r]),new M4(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class M4 extends class fH{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new x4(this._id,e,t||{},this._renderer)}}class x4{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return qL(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function qL(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const WL="@.disabled";let R4=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const f=u?.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(a);return I||(I=new KL("",a,this.engine),this._rendererCache.set(a,I)),I}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const g=I=>{Array.isArray(I)?I.forEach(g):this.engine.registerTrigger(u,f,t,I.name,I)};return i.data.animation.forEach(g),new k4(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(JD),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class KL{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==WL?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class k4 extends KL{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==WL?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function O4(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function P4(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let N4=(()=>{class n extends JD{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se),c.LFG(kR),c.LFG($R))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ZL=[{provide:kN,useClass:A4},{provide:$R,useFactory:function F4(){return new t4}},{provide:JD,useClass:N4},{provide:c.FYo,useFactory:function L4(n,e,t){return new R4(n,e,t)},deps:[qo,JD,c.R0b]}],YL=[{provide:kR,useFactory:()=>new S4},{provide:c.QbO,useValue:"BrowserAnimations"},...ZL],V4=[{provide:kR,useClass:EL},{provide:c.QbO,useValue:"NoopAnimations"},...ZL];let B4=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?V4:YL}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:YL,imports:[po]}),n})(),U4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[xz]}),n.\u0275inj=c.cJS({providers:[nF,Bx,qy],imports:[po.withServerTransition({appId:"serverApp"}),zs.hO.initializeApp(Fx_firebase),j$,B4,w2,JU,zH,K$,YH,az,wj,Tz,Rj,Lj,R$,W0(()=>UT(Fx_firebase)),hG(()=>zz()),Uz(()=>jz()),vG(()=>bG()),zG(()=>GG()),JG(()=>e3()),l6(()=>c6()),Vq(()=>Bq())]}),n})();function QL(){T_().bootstrapModule(U4).catch(n=>console.error(n))}(0,c.G48)(),"complete"===document.readyState?QL():document.addEventListener("DOMContentLoaded",QL)},6148:(Dt,Le,M)=>{M.d(Le,{IH:()=>ti,Gb:()=>Ot,Kz:()=>U,Iv:()=>ln});var c=M(5861),F=M(9681),R=M(1877),oe=M(2090),be=M(4859);M(2833);const se="analytics",fe="firebase_id",$="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",X="https://www.googletagmanager.com/gtag/js",je=new R.Yd("@firebase/analytics");function ke(B){return Promise.all(B.map(K=>K.catch(ge=>ge)))}function Ne(B,K){const ge=document.createElement("script");ge.src=`${X}?l=${B}&id=${K}`,ge.async=!0,document.head.appendChild(ge)}function Ie(B,K,ge,Ue,We,at){return pe.apply(this,arguments)}function pe(){return(pe=(0,c.Z)(function*(B,K,ge,Ue,We,at){const st=Ue[We];try{if(st)yield K[st];else{const V=(yield ke(ge)).find(j=>j.measurementId===We);V&&(yield K[V.appId])}}catch(J){je.error(J)}B("config",We,at)})).apply(this,arguments)}function ut(B,K,ge,Ue,We){return tt.apply(this,arguments)}function tt(){return(tt=(0,c.Z)(function*(B,K,ge,Ue,We){try{let at=[];if(We&&We.send_to){let st=We.send_to;Array.isArray(st)||(st=[st]);const J=yield ke(ge);for(const V of st){const j=J.find(Ye=>Ye.measurementId===V),_e=j&&K[j.appId];if(!_e){at=[];break}at.push(_e)}}0===at.length&&(at=Object.values(K)),yield Promise.all(at),B("event",Ue,We||{})}catch(at){je.error(at)}})).apply(this,arguments)}function Se(){const B=window.document.getElementsByTagName("script");for(const K of Object.values(B))if(K.src&&K.src.includes(X))return K;return null}const ie=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ae=new class Y{constructor(K={},ge=1e3){this.throttleMetadata=K,this.intervalMillis=ge}getThrottleMetadata(K){return this.throttleMetadata[K]}setThrottleMetadata(K,ge){this.throttleMetadata[K]=ge}deleteThrottleMetadata(K){delete this.throttleMetadata[K]}};function de(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function Ee(B){return he.apply(this,arguments)}function he(){return(he=(0,c.Z)(function*(B){var K;const{appId:ge,apiKey:Ue}=B,We={method:"GET",headers:de(Ue)},at=$.replace("{app-id}",ge),st=yield fetch(at,We);if(200!==st.status&&304!==st.status){let J="";try{const V=yield st.json();null!==(K=V.error)&&void 0!==K&&K.message&&(J=V.error.message)}catch{}throw ie.create("config-fetch-failed",{httpStatus:st.status,responseMessage:J})}return st.json()})).apply(this,arguments)}function $e(B){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,c.Z)(function*(B,K=ae,ge){const{appId:Ue,apiKey:We,measurementId:at}=B.options;if(!Ue)throw ie.create("no-app-id");if(!We){if(at)return{measurementId:at,appId:Ue};throw ie.create("no-api-key")}const st=K.getThrottleMetadata(Ue)||{backoffCount:0,throttleEndTimeMillis:Date.now()},J=new Un;return setTimeout((0,c.Z)(function*(){J.abort()}),void 0!==ge?ge:6e4),Yt({appId:Ue,apiKey:We,measurementId:at},st,J,K)})).apply(this,arguments)}function Yt(B,K,ge){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,c.Z)(function*(B,{throttleEndTimeMillis:K,backoffCount:ge},Ue,We=ae){var at,st;const{appId:J,measurementId:V}=B;try{yield Xe(Ue,K)}catch(j){if(V)return je.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${V} provided in the "measurementId" field in the local Firebase config. [${null===(at=j)||void 0===at?void 0:at.message}]`),{appId:J,measurementId:V};throw j}try{const j=yield Ee(B);return We.deleteThrottleMetadata(J),j}catch(j){const _e=j;if(!Nt(_e)){if(We.deleteThrottleMetadata(J),V)return je.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${V} provided in the "measurementId" field in the local Firebase config. [${_e?.message}]`),{appId:J,measurementId:V};throw j}const Ye=503===Number(null===(st=_e?.customData)||void 0===st?void 0:st.httpStatus)?(0,oe.$s)(ge,We.intervalMillis,30):(0,oe.$s)(ge,We.intervalMillis),gt={throttleEndTimeMillis:Date.now()+Ye,backoffCount:ge+1};return We.setThrottleMetadata(J,gt),je.debug(`Calling attemptFetch again in ${Ye} millis`),Yt(B,gt,Ue,We)}})).apply(this,arguments)}function Xe(B,K){return new Promise((ge,Ue)=>{const We=Math.max(K-Date.now(),0),at=setTimeout(ge,We);B.addEventListener(()=>{clearTimeout(at),Ue(ie.create("fetch-throttle",{throttleEndTimeMillis:K}))})})}function Nt(B){if(!(B instanceof oe.ZR&&B.customData))return!1;const K=Number(B.customData.httpStatus);return 429===K||500===K||503===K||504===K}class Un{constructor(){this.listeners=[]}addEventListener(K){this.listeners.push(K)}abort(){this.listeners.forEach(K=>K())}}function yn(){return tn.apply(this,arguments)}function tn(){return(tn=(0,c.Z)(function*(){var B;if(!(0,oe.hl)())return je.warn(ie.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(K){return je.warn(ie.create("indexeddb-unavailable",{errorInfo:null===(B=K)||void 0===B?void 0:B.toString()}).message),!1}return!0})).apply(this,arguments)}function Vt(){return(Vt=(0,c.Z)(function*(B,K,ge,Ue,We,at,st){var J;const V=$e(B);V.then(Re=>{ge[Re.measurementId]=Re.appId,B.options.measurementId&&Re.measurementId!==B.options.measurementId&&je.warn(`The measurement ID in the local Firebase config (${B.options.measurementId}) does not match the measurement ID fetched from the server (${Re.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Re=>je.error(Re)),K.push(V);const j=yn().then(Re=>{if(Re)return Ue.getId()}),[_e,Ye]=yield Promise.all([V,j]);Se()||Ne(at,_e.measurementId),We("js",new Date);const gt=null!==(J=st?.config)&&void 0!==J?J:{};return gt.origin="firebase",gt.update=!0,null!=Ye&&(gt[fe]=Ye),We("config",_e.measurementId,gt),_e.measurementId})).apply(this,arguments)}class sn{constructor(K){this.app=K}_delete(){return delete Tn[this.app.options.appId],Promise.resolve()}}let Tn={},di=[];const gn={};let ei,In,kn="dataLayer",Zn=!1;function hn(B,K,ge){!function Yn(){const B=[];if((0,oe.ru)()&&B.push("This is a browser extension environment."),(0,oe.zI)()||B.push("Cookies are not available."),B.length>0){const K=B.map((Ue,We)=>`(${We+1}) ${Ue}`).join(" "),ge=ie.create("invalid-analytics-context",{errorInfo:K});je.warn(ge.message)}}();const Ue=B.options.appId;if(!Ue)throw ie.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw ie.create("no-api-key");je.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Tn[Ue])throw ie.create("already-exists",{id:Ue});if(!Zn){!function Je(B){let K=[];Array.isArray(window[B])?K=window[B]:window[B]=K}(kn);const{wrappedGtag:at,gtagCore:st}=function Be(B,K,ge,Ue,We){let at=function(...st){window[Ue].push(arguments)};return window[We]&&"function"==typeof window[We]&&(at=window[We]),window[We]=function He(B,K,ge,Ue){function at(){return(at=(0,c.Z)(function*(st,J,V){try{"event"===st?yield ut(B,K,ge,J,V):"config"===st?yield Ie(B,K,ge,Ue,J,V):B("set",J)}catch(j){je.error(j)}})).apply(this,arguments)}return function We(st,J,V){return at.apply(this,arguments)}}(at,B,K,ge),{gtagCore:at,wrappedGtag:window[We]}}(Tn,di,gn,kn,"gtag");In=at,ei=st,Zn=!0}return Tn[Ue]=function Ht(B,K,ge,Ue,We,at,st){return Vt.apply(this,arguments)}(B,di,gn,K,ei,kn,ge),new sn(B)}function On(){return(On=(0,c.Z)(function*(B,K,ge,Ue,We){if(We&&We.global)B("event",ge,Ue);else{const at=yield K;B("event",ge,Object.assign(Object.assign({},Ue),{send_to:at}))}})).apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(B,K,ge,Ue){if(Ue&&Ue.global)return B("set",{user_id:ge}),Promise.resolve();B("config",yield K,{update:!0,user_id:ge})})).apply(this,arguments)}function ti(B=(0,F.getApp)()){B=(0,oe.m9)(B);const K=(0,F._getProvider)(B,se);return K.isInitialized()?K.getImmediate():function Ln(B,K={}){const ge=(0,F._getProvider)(B,se);if(ge.isInitialized()){const We=ge.getImmediate();if((0,oe.vZ)(K,ge.getOptions()))return We;throw ie.create("already-initialized")}return ge.initialize({options:K})}(B)}function Ot(){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}function ln(B,K,ge){B=(0,oe.m9)(B),function Dn(B,K,ge,Ue){return Nn.apply(this,arguments)}(In,Tn[B.app.options.appId],K,ge).catch(Ue=>je.error(Ue))}function U(B,K,ge,Ue){B=(0,oe.m9)(B),function Xt(B,K,ge,Ue,We){return On.apply(this,arguments)}(In,Tn[B.app.options.appId],K,ge,Ue).catch(We=>je.error(We))}const Q="@firebase/analytics";!function L(){(0,F._registerComponent)(new be.wA(se,(K,{options:ge})=>hn(K.getProvider("app").getImmediate(),K.getProvider("installations-internal").getImmediate(),ge),"PUBLIC")),(0,F._registerComponent)(new be.wA("analytics-internal",function B(K){try{const ge=K.getProvider(se).getImmediate();return{logEvent:(Ue,We,at)=>U(ge,Ue,We,at)}}catch(ge){throw ie.create("interop-component-reg-failed",{reason:ge})}},"PRIVATE")),(0,F.registerVersion)(Q,"0.7.11"),(0,F.registerVersion)(Q,"0.7.11","esm2017")}()},5867:(Dt,Le,M)=>{M.d(Le,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=M(9681);(0,c.registerVersion)("firebase","9.8.4","app")},127:(Dt,Le,M)=>{M.d(Le,{Z:()=>c.Z});var c=M(3942);c.Z.registerVersion("firebase","9.8.4","app-compat")},5881:(Dt,Le,M)=>{M.r(Le);var c=M(5861),F=M(3942),R=M(3673),oe=M(2090),se=(M(9681),M(1877),M(4859));function fe(){return window}function $(){return($=(0,c.Z)(function*(J,V,j){var _e;const{BuildInfo:Ye}=fe();(0,R.aq)(V.sessionId,"AuthEvent did not contain a session ID");const gt=yield pe(V.sessionId),Re={};return(0,R.ar)()?Re.ibi=Ye.packageName:(0,R.as)()?Re.apn=Ye.packageName:(0,R.at)(J,"operation-not-supported-in-this-environment"),Ye.displayName&&(Re.appDisplayName=Ye.displayName),Re.sessionId=gt,(0,R.au)(J,j,V.type,void 0,null!==(_e=V.eventId)&&void 0!==_e?_e:void 0,Re)})).apply(this,arguments)}function je(){return(je=(0,c.Z)(function*(J){const{BuildInfo:V}=fe(),j={};(0,R.ar)()?j.iosBundleId=V.packageName:(0,R.as)()?j.androidPackageName=V.packageName:(0,R.at)(J,"operation-not-supported-in-this-environment"),yield(0,R.av)(J,j)})).apply(this,arguments)}function Je(){return(Je=(0,c.Z)(function*(J,V,j){const{cordova:_e}=fe();let Ye=()=>{};try{yield new Promise((gt,Re)=>{let dt=null;function kt(){var re;gt();const ze=null===(re=_e.plugins.browsertab)||void 0===re?void 0:re.close;"function"==typeof ze&&ze(),"function"==typeof j?.close&&j.close()}function ve(){dt||(dt=window.setTimeout(()=>{Re((0,R.aw)(J,"redirect-cancelled-by-user"))},2e3))}function te(){"visible"===document?.visibilityState&&ve()}V.addPassiveListener(kt),document.addEventListener("resume",ve,!1),(0,R.as)()&&document.addEventListener("visibilitychange",te,!1),Ye=()=>{V.removePassiveListener(kt),document.removeEventListener("resume",ve,!1),document.removeEventListener("visibilitychange",te,!1),dt&&window.clearTimeout(dt)}})}finally{Ye()}})).apply(this,arguments)}function pe(J){return ut.apply(this,arguments)}function ut(){return(ut=(0,c.Z)(function*(J){const V=tt(J),j=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(j)).map(Ye=>Ye.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function tt(J){if((0,R.aq)(/[0-9a-zA-Z]+/.test(J),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(J);const V=new ArrayBuffer(J.length),j=new Uint8Array(V);for(let _e=0;_e<J.length;_e++)j[_e]=J.charCodeAt(_e);return j}class Be extends R.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(j=>j(V)),super.onEvent(V)}initialized(){var V=this;return(0,c.Z)(function*(){yield V.initPromise})()}}function ie(J){return me.apply(this,arguments)}function me(){return(me=(0,c.Z)(function*(J){const V=yield ae()._get(de(J));return V&&(yield ae()._remove(de(J))),V})).apply(this,arguments)}function Y(){const J=[],V="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let j=0;j<20;j++){const _e=Math.floor(Math.random()*V.length);J.push(V.charAt(_e))}return J.join("")}function ae(){return(0,R.ay)(R.b)}function de(J){return(0,R.az)("authEvent",J.config.apiKey,J.name)}function $e(J){if(!J?.includes("?"))return{};const[V,...j]=J.split("?");return(0,oe.zd)(j.join("?"))}function Xe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.aw)("no-auth-event")}}function Ht(){var J;return(null===(J=self?.location)||void 0===J?void 0:J.protocol)||null}function sn(J=(0,oe.z$)()){return!("file:"!==Ht()&&"ionic:"!==Ht()&&"capacitor:"!==Ht()||!J.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kn(){try{const J=self.localStorage,V=R.aI();if(J)return J.setItem(V,"1"),J.removeItem(V),!function kn(J=(0,oe.z$)()){return function di(){return(0,oe.w1)()&&11===document?.documentMode}()||function gn(J=(0,oe.z$)()){return/Edge\/\d+/.test(J)}(J)}()||(0,oe.hl)()}catch{return ei()&&(0,oe.hl)()}return!1}function ei(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function In(){return(function Vt(){return"http:"===Ht()||"https:"===Ht()}()||(0,oe.ru)()||sn())&&!function Tn(){return(0,oe.b$)()||(0,oe.UG)()}()&&Kn()&&!ei()}function Zn(){return sn()&&typeof document<"u"}function Yn(){return(Yn=(0,c.Z)(function*(){return!!Zn()&&new Promise(J=>{const V=setTimeout(()=>{J(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),J(!0)})})})).apply(this,arguments)}const Xt={LOCAL:"local",NONE:"none",SESSION:"session"},On=R.ax,Qn="persistence";function Dn(J){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(J){yield J._initializationPromise;const V=$t(),j=R.az(Qn,J.config.apiKey,J.name);V&&V.setItem(j,J._getPersistence())})).apply(this,arguments)}function $t(){var J;try{return(null===(J=function hn(){return typeof window<"u"?window:null}())||void 0===J?void 0:J.sessionStorage)||null}catch{return null}}const et=R.ax;class pt{constructor(){this.browserResolver=R.ay(R.k),this.cordovaResolver=R.ay(class Yt{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(V){var j=this;return(0,c.Z)(function*(){const _e=V._key();let Ye=j.eventManagers.get(_e);return Ye||(Ye=new Be(V),j.eventManagers.set(_e,Ye),j.attachCallbackListeners(V,Ye)),Ye})()}_openPopup(V){(0,R.at)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,j,_e,Ye){var gt=this;return(0,c.Z)(function*(){!function Ie(J){var V,j,_e,Ye,gt,Re,dt,kt,ve,te;const re=fe();(0,R.ax)("function"==typeof(null===(V=re?.universalLinks)||void 0===V?void 0:V.subscribe),J,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.ax)(typeof(null===(j=re?.BuildInfo)||void 0===j?void 0:j.packageName)<"u",J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.ax)("function"==typeof(null===(gt=null===(Ye=null===(_e=re?.cordova)||void 0===_e?void 0:_e.plugins)||void 0===Ye?void 0:Ye.browsertab)||void 0===gt?void 0:gt.openUrl),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(kt=null===(dt=null===(Re=re?.cordova)||void 0===Re?void 0:Re.plugins)||void 0===dt?void 0:dt.browsertab)||void 0===kt?void 0:kt.isAvailable),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(te=null===(ve=re?.cordova)||void 0===ve?void 0:ve.InAppBrowser)||void 0===te?void 0:te.open),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const Re=yield gt._initialize(V);yield Re.initialized(),Re.resetRedirect(),(0,R.aD)(),yield gt._originValidation(V);const dt=function Se(J,V,j=null){return{type:V,eventId:j,urlResponse:null,sessionId:Y(),postBody:null,tenantId:J.tenantId,error:(0,R.aw)(J,"no-auth-event")}}(V,_e,Ye);yield function nt(J,V){return ae()._set(de(J),V)}(V,dt);const kt=yield function z(J,V,j){return $.apply(this,arguments)}(V,dt,j),ve=yield function ke(J){const{cordova:V}=fe();return new Promise(j=>{V.plugins.browsertab.isAvailable(_e=>{let Ye=null;_e?V.plugins.browsertab.openUrl(J):Ye=V.InAppBrowser.open(J,(0,R.ap)()?"_blank":"_system","location=yes"),j(Ye)})})}(kt);return function Ne(J,V,j){return Je.apply(this,arguments)}(V,Re,ve)})()}_isIframeWebStorageSupported(V,j){throw new Error("Method not implemented.")}_originValidation(V){const j=V._key();return this.originValidationPromises[j]||(this.originValidationPromises[j]=function X(J){return je.apply(this,arguments)}(V)),this.originValidationPromises[j]}attachCallbackListeners(V,j){const{universalLinks:_e,handleOpenURL:Ye,BuildInfo:gt}=fe(),Re=setTimeout((0,c.Z)(function*(){yield ie(V),j.onEvent(Xe())}),500),dt=function(){var te=(0,c.Z)(function*(re){clearTimeout(Re);const ze=yield ie(V);let N=null;ze&&re?.url&&(N=function Ae(J,V){var j,_e;const Ye=function he(J){const V=$e(J),j=V.link?decodeURIComponent(V.link):void 0,_e=$e(j).link,Ye=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return $e(Ye).link||Ye||_e||j||J}(V);if(Ye.includes("/__/auth/callback")){const gt=$e(Ye),Re=gt.firebaseError?function Ee(J){try{return JSON.parse(J)}catch{return null}}(decodeURIComponent(gt.firebaseError)):null,dt=null===(_e=null===(j=Re?.code)||void 0===j?void 0:j.split("auth/"))||void 0===_e?void 0:_e[1],kt=dt?(0,R.aw)(dt):null;return kt?{type:J.type,eventId:J.eventId,tenantId:J.tenantId,error:kt,urlResponse:null,sessionId:null,postBody:null}:{type:J.type,eventId:J.eventId,tenantId:J.tenantId,sessionId:J.sessionId,urlResponse:Ye,postBody:null}}return null}(ze,re.url)),j.onEvent(N||Xe())});return function(ze){return te.apply(this,arguments)}}();typeof _e<"u"&&"function"==typeof _e.subscribe&&_e.subscribe(null,dt);const kt=Ye,ve=`${gt.packageName.toLowerCase()}://`;fe().handleOpenURL=function(){var te=(0,c.Z)(function*(re){if(re.toLowerCase().startsWith(ve)&&dt({url:re}),"function"==typeof kt)try{kt(re)}catch(ze){console.error(ze)}});return function(re){return te.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(V){var j=this;return(0,c.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,j,_e,Ye){var gt=this;return(0,c.Z)(function*(){return yield gt.selectUnderlyingResolver(),gt.assertedUnderlyingResolver._openPopup(V,j,_e,Ye)})()}_openRedirect(V,j,_e,Ye){var gt=this;return(0,c.Z)(function*(){return yield gt.selectUnderlyingResolver(),gt.assertedUnderlyingResolver._openRedirect(V,j,_e,Ye)})()}_isIframeWebStorageSupported(V,j){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,j)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return Zn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return et(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,c.Z)(function*(){if(V.underlyingResolver)return;const j=yield function bt(){return Yn.apply(this,arguments)}();V.underlyingResolver=j?V.cordovaResolver:V.browserResolver})()}}function ti(J){return J.unwrap()}function Ot(J){return _n(J)}function _n(J){const{_tokenResponse:V}=J instanceof oe.ZR?J.customData:J;if(!V)return null;if(!(J instanceof oe.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return R.P.credentialFromResult(J);const j=V.providerId;if(!j||j===R.o.PASSWORD)return null;let _e;switch(j){case R.o.GOOGLE:_e=R.Q;break;case R.o.FACEBOOK:_e=R.N;break;case R.o.GITHUB:_e=R.T;break;case R.o.TWITTER:_e=R.W;break;default:const{oauthIdToken:Ye,oauthAccessToken:gt,oauthTokenSecret:Re,pendingToken:dt,nonce:kt}=V;return gt||Re||Ye||dt?dt?j.startsWith("saml.")?R.aL._create(j,dt):R.J._fromParams({providerId:j,signInMethod:j,pendingToken:dt,idToken:Ye,accessToken:gt}):new R.U(j).credential({idToken:Ye,accessToken:gt,rawNonce:kt}):null}return J instanceof oe.ZR?_e.credentialFromError(J):_e.credentialFromResult(J)}function ln(J,V){return V.catch(j=>{throw j instanceof oe.ZR&&function xn(J,V){var j,_e;const Ye=null===(j=V.customData)||void 0===j?void 0:j._tokenResponse;if("auth/multi-factor-auth-required"===(null===(_e=V)||void 0===_e?void 0:_e.code))V.resolver=new U(J,R.an(J,V));else if(Ye){const gt=_n(V),Re=V;gt&&(Re.credential=gt,Re.tenantId=Ye.tenantId||void 0,Re.email=Ye.email||void 0,Re.phoneNumber=Ye.phoneNumber||void 0)}}(J,j),j}).then(j=>{const Ye=j.user;return{operationType:j.operationType,credential:Ot(j),additionalUserInfo:R.al(j),user:Q.getOrCreate(Ye)}})}function on(J,V){return W.apply(this,arguments)}function W(){return(W=(0,c.Z)(function*(J,V){const j=yield V;return{verificationId:j.verificationId,confirm:_e=>ln(J,j.confirm(_e))}})).apply(this,arguments)}class U{constructor(V,j){this.resolver=j,this.auth=function Ln(J){return J.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return ln(ti(this.auth),this.resolver.resolveSignIn(V))}}class Q{constructor(V){this._delegate=V,this.multiFactor=R.ao(V)}static getOrCreate(V){return Q.USER_MAP.has(V)||Q.USER_MAP.set(V,new Q(V)),Q.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var j=this;return(0,c.Z)(function*(){return ln(j.auth,R.Z(j._delegate,V))})()}linkWithPhoneNumber(V,j){var _e=this;return(0,c.Z)(function*(){return on(_e.auth,R.l(_e._delegate,V,j))})()}linkWithPopup(V){var j=this;return(0,c.Z)(function*(){return ln(j.auth,R.d(j._delegate,V,pt))})()}linkWithRedirect(V){var j=this;return(0,c.Z)(function*(){return yield Dn(R.aE(j.auth)),R.g(j._delegate,V,pt)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var j=this;return(0,c.Z)(function*(){return ln(j.auth,R._(j._delegate,V))})()}reauthenticateWithPhoneNumber(V,j){return on(this.auth,R.r(this._delegate,V,j))}reauthenticateWithPopup(V){return ln(this.auth,R.e(this._delegate,V,pt))}reauthenticateWithRedirect(V){var j=this;return(0,c.Z)(function*(){return yield Dn(R.aE(j.auth)),R.h(j._delegate,V,pt)})()}sendEmailVerification(V){return R.ab(this._delegate,V)}unlink(V){var j=this;return(0,c.Z)(function*(){return yield R.ak(j._delegate,V),j})()}updateEmail(V){return R.ag(this._delegate,V)}updatePassword(V){return R.ah(this._delegate,V)}updatePhoneNumber(V){return R.u(this._delegate,V)}updateProfile(V){return R.af(this._delegate,V)}verifyBeforeUpdateEmail(V,j){return R.ac(this._delegate,V,j)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Q.USER_MAP=new WeakMap;const ee=R.ax;let L=(()=>{class J{constructor(j,_e){if(this.app=j,_e.isInitialized())return this._delegate=_e.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ye}=j.options;ee(Ye,"invalid-api-key",{appName:j.name}),ee(Ye,"invalid-api-key",{appName:j.name});const gt=typeof window<"u"?pt:void 0;this._delegate=_e.initialize({options:{persistence:K(Ye,j.name),popupRedirectResolver:gt}}),this._delegate._updateErrorMap(R.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Q.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(j){this._delegate.languageCode=j}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(j){this._delegate.tenantId=j}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(j,_e){R.G(this._delegate,j,_e)}applyActionCode(j){return R.a2(this._delegate,j)}checkActionCode(j){return R.a3(this._delegate,j)}confirmPasswordReset(j,_e){return R.a1(this._delegate,j,_e)}createUserWithEmailAndPassword(j,_e){var Ye=this;return(0,c.Z)(function*(){return ln(Ye._delegate,R.a5(Ye._delegate,j,_e))})()}fetchProvidersForEmail(j){return this.fetchSignInMethodsForEmail(j)}fetchSignInMethodsForEmail(j){return R.aa(this._delegate,j)}isSignInWithEmailLink(j){return R.a8(this._delegate,j)}getRedirectResult(){var j=this;return(0,c.Z)(function*(){ee(In(),j._delegate,"operation-not-supported-in-this-environment");const _e=yield R.j(j._delegate,pt);return _e?ln(j._delegate,Promise.resolve(_e)):{credential:null,user:null}})()}addFrameworkForLogging(j){!function Nt(J,V){(0,R.aE)(J)._logFramework(V)}(this._delegate,j)}onAuthStateChanged(j,_e,Ye){const{next:gt,error:Re,complete:dt}=B(j,_e,Ye);return this._delegate.onAuthStateChanged(gt,Re,dt)}onIdTokenChanged(j,_e,Ye){const{next:gt,error:Re,complete:dt}=B(j,_e,Ye);return this._delegate.onIdTokenChanged(gt,Re,dt)}sendSignInLinkToEmail(j,_e){return R.a7(this._delegate,j,_e)}sendPasswordResetEmail(j,_e){return R.a0(this._delegate,j,_e||void 0)}setPersistence(j){var _e=this;return(0,c.Z)(function*(){let Ye;switch(function Hn(J,V){On(Object.values(Xt).includes(V),J,"invalid-persistence-type"),(0,oe.b$)()?On(V!==Xt.SESSION,J,"unsupported-persistence-type"):(0,oe.UG)()?On(V===Xt.NONE,J,"unsupported-persistence-type"):ei()?On(V===Xt.NONE||V===Xt.LOCAL&&(0,oe.hl)(),J,"unsupported-persistence-type"):On(V===Xt.NONE||Kn(),J,"unsupported-persistence-type")}(_e._delegate,j),j){case Xt.SESSION:Ye=R.a;break;case Xt.LOCAL:Ye=(yield R.ay(R.i)._isAvailable())?R.i:R.b;break;case Xt.NONE:Ye=R.L;break;default:return R.at("argument-error",{appName:_e._delegate.name})}return _e._delegate.setPersistence(Ye)})()}signInAndRetrieveDataWithCredential(j){return this.signInWithCredential(j)}signInAnonymously(){return ln(this._delegate,R.X(this._delegate))}signInWithCredential(j){return ln(this._delegate,R.Y(this._delegate,j))}signInWithCustomToken(j){return ln(this._delegate,R.$(this._delegate,j))}signInWithEmailAndPassword(j,_e){return ln(this._delegate,R.a6(this._delegate,j,_e))}signInWithEmailLink(j,_e){return ln(this._delegate,R.a9(this._delegate,j,_e))}signInWithPhoneNumber(j,_e){return on(this._delegate,R.s(this._delegate,j,_e))}signInWithPopup(j){var _e=this;return(0,c.Z)(function*(){return ee(In(),_e._delegate,"operation-not-supported-in-this-environment"),ln(_e._delegate,R.c(_e._delegate,j,pt))})()}signInWithRedirect(j){var _e=this;return(0,c.Z)(function*(){return ee(In(),_e._delegate,"operation-not-supported-in-this-environment"),yield Dn(_e._delegate),R.f(_e._delegate,j,pt)})()}updateCurrentUser(j){return this._delegate.updateCurrentUser(j)}verifyPasswordResetCode(j){return R.a4(this._delegate,j)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return J.Persistence=Xt,J})();function B(J,V,j){let _e=J;"function"!=typeof J&&({next:_e,error:V,complete:j}=J);const Ye=_e;return{next:Re=>Ye(Re&&Q.getOrCreate(Re)),error:V,complete:j}}function K(J,V){const j=function Fi(J,V){const j=$t();if(!j)return[];const _e=R.az(Qn,J,V);switch(j.getItem(_e)){case Xt.NONE:return[R.L];case Xt.LOCAL:return[R.i,R.a];case Xt.SESSION:return[R.a];default:return[]}}(J,V);if(typeof self<"u"&&!j.includes(R.i)&&j.push(R.i),typeof window<"u")for(const _e of[R.b,R.a])j.includes(_e)||j.push(_e);return j.includes(R.L)||j.push(R.L),j}class ge{constructor(){this.providerId="phone",this._delegate=new R.P(ti(F.Z.auth()))}static credential(V,j){return R.P.credential(V,j)}verifyPhoneNumber(V,j){return this._delegate.verifyPhoneNumber(V,j)}unwrap(){return this._delegate}}ge.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,ge.PROVIDER_ID=R.P.PROVIDER_ID;const Ue=R.ax;class We{constructor(V,j,_e=F.Z.app()){var Ye;Ue(null===(Ye=_e.options)||void 0===Ye?void 0:Ye.apiKey,"invalid-api-key",{appName:_e.name}),this._delegate=new R.R(V,j,_e.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function st(J){J.INTERNAL.registerComponent(new se.wA("auth-compat",V=>{const j=V.getProvider("app-compat").getImmediate(),_e=V.getProvider("auth");return new L(j,_e)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.M,FacebookAuthProvider:R.N,GithubAuthProvider:R.T,GoogleAuthProvider:R.Q,OAuthProvider:R.U,SAMLAuthProvider:R.V,PhoneAuthProvider:ge,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:We,TwitterAuthProvider:R.W,Auth:L,AuthCredential:R.H,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),J.registerVersion("@firebase/auth-compat","0.2.17")}(F.Z)},2375:(Dt,Le,M)=>{M.d(Le,{KL:()=>kt,Gb:()=>_e});var c=M(5861),R=(M(2833),M(4859)),oe=M(8766),be=M(2090),Ce=M(9681);const se="/firebase-messaging-sw.js",fe="/firebase-cloud-messaging-push-scope",we="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$="google.c.a.c_id",X="google.c.a.c_l",je="google.c.a.ts",ke="google.c.a.e";var Je=(()=>{return(N=Je||(Je={})).PUSH_RECEIVED="push-received",N.NOTIFICATION_CLICKED="notification-clicked",Je;var N})();function Ie(N){const Z=new Uint8Array(N);return btoa(String.fromCharCode(...Z)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pe(N){const Oe=(N+"=".repeat((4-N.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Pe=atob(Oe),vt=new Uint8Array(Pe.length);for(let G=0;G<Pe.length;++G)vt[G]=Pe.charCodeAt(G);return vt}const ut="fcm_token_details_db",He="fcm_token_object_Store";function Be(N){return Se.apply(this,arguments)}function Se(){return Se=(0,c.Z)(function*(N){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(G=>G.name).includes(ut))return null;let Z=null;return(yield(0,oe.X3)(ut,5,{upgrade:(Pe=(0,c.Z)(function*(vt,G,ue,Me){var it;if(G<2||!vt.objectStoreNames.contains(He))return;const fn=Me.objectStore(He),Jt=yield fn.index("fcmSenderId").get(N);if(yield fn.clear(),Jt)if(2===G){const wt=Jt;if(!wt.auth||!wt.p256dh||!wt.endpoint)return;Z={token:wt.fcmToken,createTime:null!==(it=wt.createTime)&&void 0!==it?it:Date.now(),subscriptionOptions:{auth:wt.auth,p256dh:wt.p256dh,endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:"string"==typeof wt.vapidKey?wt.vapidKey:Ie(wt.vapidKey)}}}else if(3===G){const wt=Jt;Z={token:wt.fcmToken,createTime:wt.createTime,subscriptionOptions:{auth:Ie(wt.auth),p256dh:Ie(wt.p256dh),endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:Ie(wt.vapidKey)}}}else if(4===G){const wt=Jt;Z={token:wt.fcmToken,createTime:wt.createTime,subscriptionOptions:{auth:Ie(wt.auth),p256dh:Ie(wt.p256dh),endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:Ie(wt.vapidKey)}}}}),function(G,ue,Me,it){return Pe.apply(this,arguments)})})).close(),yield(0,oe.Lj)(ut),yield(0,oe.Lj)("fcm_vapid_details_db"),yield(0,oe.Lj)("undefined"),nt(Z)?Z:null;var Pe}),Se.apply(this,arguments)}function nt(N){if(!N||!N.subscriptionOptions)return!1;const{subscriptionOptions:Z}=N;return"number"==typeof N.createTime&&N.createTime>0&&"string"==typeof N.token&&N.token.length>0&&"string"==typeof Z.auth&&Z.auth.length>0&&"string"==typeof Z.p256dh&&Z.p256dh.length>0&&"string"==typeof Z.endpoint&&Z.endpoint.length>0&&"string"==typeof Z.swScope&&Z.swScope.length>0&&"string"==typeof Z.vapidKey&&Z.vapidKey.length>0}const Ae="firebase-messaging-store";let Y=null;function ae(){return Y||(Y=(0,oe.X3)("firebase-messaging-database",1,{upgrade:(N,Z)=>{0===Z&&N.createObjectStore(Ae)}})),Y}function de(N){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,c.Z)(function*(N){const Z=Lt(N),Pe=yield(yield ae()).transaction(Ae).objectStore(Ae).get(Z);if(Pe)return Pe;{const vt=yield Be(N.appConfig.senderId);if(vt)return yield he(N,vt),vt}})).apply(this,arguments)}function he(N,Z){return $e.apply(this,arguments)}function $e(){return($e=(0,c.Z)(function*(N,Z){const Oe=Lt(N),vt=(yield ae()).transaction(Ae,"readwrite");return yield vt.objectStore(Ae).put(Z,Oe),yield vt.done,Z})).apply(this,arguments)}function Tt(N){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,c.Z)(function*(N){const Z=Lt(N),Pe=(yield ae()).transaction(Ae,"readwrite");yield Pe.objectStore(Ae).delete(Z),yield Pe.done})).apply(this,arguments)}function Lt({appConfig:N}){return N.appId}const Nt=new be.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Un(N,Z){return yn.apply(this,arguments)}function yn(){return(yn=(0,c.Z)(function*(N,Z){var Oe;const Pe=yield di(N),vt=kn(Z),G={method:"POST",headers:Pe,body:JSON.stringify(vt)};let ue;try{ue=yield(yield fetch(Tn(N.appConfig),G)).json()}catch(Me){throw Nt.create("token-subscribe-failed",{errorInfo:null===(Oe=Me)||void 0===Oe?void 0:Oe.toString()})}if(ue.error)throw Nt.create("token-subscribe-failed",{errorInfo:ue.error.message});if(!ue.token)throw Nt.create("token-subscribe-no-token");return ue.token})).apply(this,arguments)}function tn(N,Z){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,c.Z)(function*(N,Z){var Oe;const Pe=yield di(N),vt=kn(Z.subscriptionOptions),G={method:"PATCH",headers:Pe,body:JSON.stringify(vt)};let ue;try{ue=yield(yield fetch(`${Tn(N.appConfig)}/${Z.token}`,G)).json()}catch(Me){throw Nt.create("token-update-failed",{errorInfo:null===(Oe=Me)||void 0===Oe?void 0:Oe.toString()})}if(ue.error)throw Nt.create("token-update-failed",{errorInfo:ue.error.message});if(!ue.token)throw Nt.create("token-update-no-token");return ue.token})).apply(this,arguments)}function Vt(N,Z){return sn.apply(this,arguments)}function sn(){return(sn=(0,c.Z)(function*(N,Z){var Oe;const vt={method:"DELETE",headers:yield di(N)};try{const ue=yield(yield fetch(`${Tn(N.appConfig)}/${Z}`,vt)).json();if(ue.error)throw Nt.create("token-unsubscribe-failed",{errorInfo:ue.error.message})}catch(G){throw Nt.create("token-unsubscribe-failed",{errorInfo:null===(Oe=G)||void 0===Oe?void 0:Oe.toString()})}})).apply(this,arguments)}function Tn({projectId:N}){return`https://fcmregistrations.googleapis.com/v1/projects/${N}/registrations`}function di(N){return gn.apply(this,arguments)}function gn(){return(gn=(0,c.Z)(function*({appConfig:N,installations:Z}){const Oe=yield Z.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N.apiKey,"x-goog-firebase-installations-auth":`FIS ${Oe}`})})).apply(this,arguments)}function kn({p256dh:N,auth:Z,endpoint:Oe,vapidKey:Pe}){const vt={web:{endpoint:Oe,auth:Z,p256dh:N}};return Pe!==we&&(vt.web.applicationPubKey=Pe),vt}const Kn=6048e5;function ei(N){return In.apply(this,arguments)}function In(){return(In=(0,c.Z)(function*(N){const Z=yield Qn(N.swRegistration,N.vapidKey),Oe={vapidKey:N.vapidKey,swScope:N.swRegistration.scope,endpoint:Z.endpoint,auth:Ie(Z.getKey("auth")),p256dh:Ie(Z.getKey("p256dh"))},Pe=yield de(N.firebaseDependencies);if(Pe){if(Dn(Pe.subscriptionOptions,Oe))return Date.now()>=Pe.createTime+Kn?Yn(N,{token:Pe.token,createTime:Date.now(),subscriptionOptions:Oe}):Pe.token;try{yield Vt(N.firebaseDependencies,Pe.token)}catch(vt){console.warn(vt)}return Xt(N.firebaseDependencies,Oe)}return Xt(N.firebaseDependencies,Oe)})).apply(this,arguments)}function Zn(N){return bt.apply(this,arguments)}function bt(){return(bt=(0,c.Z)(function*(N){const Z=yield de(N.firebaseDependencies);Z&&(yield Vt(N.firebaseDependencies,Z.token),yield Tt(N.firebaseDependencies));const Oe=yield N.swRegistration.pushManager.getSubscription();return!Oe||Oe.unsubscribe()})).apply(this,arguments)}function Yn(N,Z){return hn.apply(this,arguments)}function hn(){return(hn=(0,c.Z)(function*(N,Z){try{const Oe=yield tn(N.firebaseDependencies,Z),Pe=Object.assign(Object.assign({},Z),{token:Oe,createTime:Date.now()});return yield he(N.firebaseDependencies,Pe),Oe}catch(Oe){throw yield Zn(N),Oe}})).apply(this,arguments)}function Xt(N,Z){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(N,Z){const Pe={token:yield Un(N,Z),createTime:Date.now(),subscriptionOptions:Z};return yield he(N,Pe),Pe.token})).apply(this,arguments)}function Qn(N,Z){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(N,Z){return(yield N.pushManager.getSubscription())||N.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pe(Z)})})).apply(this,arguments)}function Dn(N,Z){return Z.vapidKey===N.vapidKey&&Z.endpoint===N.endpoint&&Z.auth===N.auth&&Z.p256dh===N.p256dh}function Nn(N){const Z={from:N.from,collapseKey:N.collapse_key,messageId:N.fcmMessageId};return function Fi(N,Z){if(!Z.notification)return;N.notification={};const Oe=Z.notification.title;Oe&&(N.notification.title=Oe);const Pe=Z.notification.body;Pe&&(N.notification.body=Pe);const vt=Z.notification.image;vt&&(N.notification.image=vt)}(Z,N),function $t(N,Z){!Z.data||(N.data=Z.data)}(Z,N),function et(N,Z){var Oe,Pe,vt,G,ue;if(!(Z.fcmOptions||null!==(Oe=Z.notification)&&void 0!==Oe&&Oe.click_action))return;N.fcmOptions={};const Me=null!==(vt=null===(Pe=Z.fcmOptions)||void 0===Pe?void 0:Pe.link)&&void 0!==vt?vt:null===(G=Z.notification)||void 0===G?void 0:G.click_action;Me&&(N.fcmOptions.link=Me);const it=null===(ue=Z.fcmOptions)||void 0===ue?void 0:ue.analytics_label;it&&(N.fcmOptions.analyticsLabel=it)}(Z,N),Z}function pt(N){return"object"==typeof N&&!!N&&$ in N}function ti(N,Z){const Oe=[];for(let Pe=0;Pe<N.length;Pe++)Oe.push(N.charAt(Pe)),Pe<Z.length&&Oe.push(Z.charAt(Pe));return Oe.join("")}function Ot(N){return Nt.create("missing-app-config-values",{valueName:N})}ti("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ti("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xn{constructor(Z,Oe,Pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const vt=function Ln(N){if(!N||!N.options)throw Ot("App Configuration Object");if(!N.name)throw Ot("App Name");const Z=["projectId","apiKey","appId","messagingSenderId"],{options:Oe}=N;for(const Pe of Z)if(!Oe[Pe])throw Ot(Pe);return{appName:N.name,projectId:Oe.projectId,apiKey:Oe.apiKey,appId:Oe.appId,senderId:Oe.messagingSenderId}}(Z);this.firebaseDependencies={app:Z,appConfig:vt,installations:Oe,analyticsProvider:Pe}}_delete(){return Promise.resolve()}}function _n(N){return ln.apply(this,arguments)}function ln(){return(ln=(0,c.Z)(function*(N){var Z;try{N.swRegistration=yield navigator.serviceWorker.register(se,{scope:fe}),N.swRegistration.update().catch(()=>{})}catch(Oe){throw Nt.create("failed-service-worker-registration",{browserErrorMessage:null===(Z=Oe)||void 0===Z?void 0:Z.message})}})).apply(this,arguments)}function on(N,Z){return W.apply(this,arguments)}function W(){return(W=(0,c.Z)(function*(N,Z){if(!Z&&!N.swRegistration&&(yield _n(N)),Z||!N.swRegistration){if(!(Z instanceof ServiceWorkerRegistration))throw Nt.create("invalid-sw-registration");N.swRegistration=Z}})).apply(this,arguments)}function U(N,Z){return Q.apply(this,arguments)}function Q(){return(Q=(0,c.Z)(function*(N,Z){Z?N.vapidKey=Z:N.vapidKey||(N.vapidKey=we)})).apply(this,arguments)}function L(){return(L=(0,c.Z)(function*(N,Z){if(!navigator)throw Nt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Nt.create("permission-blocked");return yield U(N,Z?.vapidKey),yield on(N,Z?.serviceWorkerRegistration),ei(N)})).apply(this,arguments)}function B(N,Z,Oe){return K.apply(this,arguments)}function K(){return(K=(0,c.Z)(function*(N,Z,Oe){const Pe=ge(Z);(yield N.firebaseDependencies.analyticsProvider.get()).logEvent(Pe,{message_id:Oe[$],message_name:Oe[X],message_time:Oe[je],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ge(N){switch(N){case Je.NOTIFICATION_CLICKED:return"notification_open";case Je.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function We(){return(We=(0,c.Z)(function*(N,Z){const Oe=Z.data;if(!Oe.isFirebaseMessaging)return;N.onMessageHandler&&Oe.messageType===Je.PUSH_RECEIVED&&("function"==typeof N.onMessageHandler?N.onMessageHandler(Nn(Oe)):N.onMessageHandler.next(Nn(Oe)));const Pe=Oe.data;pt(Pe)&&"1"===Pe[ke]&&(yield B(N,Oe.messageType,Pe))})).apply(this,arguments)}const at="@firebase/messaging",J=N=>{const Z=new xn(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),N.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Oe=>function Ue(N,Z){return We.apply(this,arguments)}(Z,Oe)),Z},V=N=>{const Z=N.getProvider("messaging").getImmediate();return{getToken:Pe=>function ee(N,Z){return L.apply(this,arguments)}(Z,Pe)}};function _e(){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,c.Z)(function*(){try{yield(0,be.eu)()}catch{return!1}return typeof window<"u"&&(0,be.hl)()&&(0,be.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function kt(N=(0,Ce.getApp)()){return _e().then(Z=>{if(!Z)throw Nt.create("unsupported-browser")},Z=>{throw Nt.create("indexed-db-unsupported")}),(0,Ce._getProvider)((0,be.m9)(N),"messaging").getImmediate()}!function j(){(0,Ce._registerComponent)(new R.wA("messaging",J,"PUBLIC")),(0,Ce._registerComponent)(new R.wA("messaging-internal",V,"PRIVATE")),(0,Ce.registerVersion)(at,"0.9.15"),(0,Ce.registerVersion)(at,"0.9.15","esm2017")}()},9751:(Dt,Le,M)=>{M.d(Le,{y:()=>fe});var c=M(930),F=M(727),R=M(8822),oe=M(9635),be=M(2416),Ce=M(576),se=M(2806);let fe=(()=>{class X{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const Ne=new X;return Ne.source=this,Ne.operator=ke,Ne}subscribe(ke,Ne,Je){const Ie=function $(X){return X&&X instanceof c.Lv||function z(X){return X&&(0,Ce.m)(X.next)&&(0,Ce.m)(X.error)&&(0,Ce.m)(X.complete)}(X)&&(0,F.Nn)(X)}(ke)?ke:new c.Hp(ke,Ne,Je);return(0,se.x)(()=>{const{operator:pe,source:ut}=this;Ie.add(pe?pe.call(Ie,ut):ut?this._subscribe(Ie):this._trySubscribe(Ie))}),Ie}_trySubscribe(ke){try{return this._subscribe(ke)}catch(Ne){ke.error(Ne)}}forEach(ke,Ne){return new(Ne=we(Ne))((Je,Ie)=>{const pe=new c.Hp({next:ut=>{try{ke(ut)}catch(tt){Ie(tt),pe.unsubscribe()}},error:Ie,complete:Je});this.subscribe(pe)})}_subscribe(ke){var Ne;return null===(Ne=this.source)||void 0===Ne?void 0:Ne.subscribe(ke)}[R.L](){return this}pipe(...ke){return(0,oe.U)(ke)(this)}toPromise(ke){return new(ke=we(ke))((Ne,Je)=>{let Ie;this.subscribe(pe=>Ie=pe,pe=>Je(pe),()=>Ne(Ie))})}}return X.create=je=>new X(je),X})();function we(X){var je;return null!==(je=X??be.v.Promise)&&void 0!==je?je:Promise}},7579:(Dt,Le,M)=>{M.d(Le,{x:()=>se});var c=M(9751),F=M(727);const oe=(0,M(3888).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=M(8737),Ce=M(2806);let se=(()=>{class we extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const X=new fe(this,this);return X.operator=$,X}_throwIfClosed(){if(this.closed)throw new oe}next($){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next($)}})}error($){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:X}=this;for(;X.length;)X.shift().error($)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:X,isStopped:je,observers:ke}=this;return X||je?F.Lc:(this.currentObservers=null,ke.push($),new F.w0(()=>{this.currentObservers=null,(0,be.P)(ke,$)}))}_checkFinalizedStatuses($){const{hasError:X,thrownError:je,isStopped:ke}=this;X?$.error(je):ke&&$.complete()}asObservable(){const $=new c.y;return $.source=this,$}}return we.create=(z,$)=>new fe(z,$),we})();class fe extends se{constructor(z,$){super(),this.destination=z,this.source=$}next(z){var $,X;null===(X=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===X||X.call($,z)}error(z){var $,X;null===(X=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===X||X.call($,z)}complete(){var z,$;null===($=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===$||$.call(z)}_subscribe(z){var $,X;return null!==(X=null===($=this.source)||void 0===$?void 0:$.subscribe(z))&&void 0!==X?X:F.Lc}}},930:(Dt,Le,M)=>{M.d(Le,{Hp:()=>Je,Lv:()=>X});var c=M(576),F=M(727),R=M(2416),oe=M(7849),be=M(5032);const Ce=we("C",void 0,void 0);function we(He,Be,Se){return{kind:He,value:Be,error:Se}}var z=M(3410),$=M(2806);class X extends F.w0{constructor(Be){super(),this.isStopped=!1,Be?(this.destination=Be,(0,F.Nn)(Be)&&Be.add(this)):this.destination=tt}static create(Be,Se,nt){return new Je(Be,Se,nt)}next(Be){this.isStopped?ut(function fe(He){return we("N",He,void 0)}(Be),this):this._next(Be)}error(Be){this.isStopped?ut(function se(He){return we("E",void 0,He)}(Be),this):(this.isStopped=!0,this._error(Be))}complete(){this.isStopped?ut(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Be){this.destination.next(Be)}_error(Be){try{this.destination.error(Be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function ke(He,Be){return je.call(He,Be)}class Ne{constructor(Be){this.partialObserver=Be}next(Be){const{partialObserver:Se}=this;if(Se.next)try{Se.next(Be)}catch(nt){Ie(nt)}}error(Be){const{partialObserver:Se}=this;if(Se.error)try{Se.error(Be)}catch(nt){Ie(nt)}else Ie(Be)}complete(){const{partialObserver:Be}=this;if(Be.complete)try{Be.complete()}catch(Se){Ie(Se)}}}class Je extends X{constructor(Be,Se,nt){let ie;if(super(),(0,c.m)(Be)||!Be)ie={next:Be??void 0,error:Se??void 0,complete:nt??void 0};else{let me;this&&R.v.useDeprecatedNextContext?(me=Object.create(Be),me.unsubscribe=()=>this.unsubscribe(),ie={next:Be.next&&ke(Be.next,me),error:Be.error&&ke(Be.error,me),complete:Be.complete&&ke(Be.complete,me)}):ie=Be}this.destination=new Ne(ie)}}function Ie(He){R.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(He):(0,oe.h)(He)}function ut(He,Be){const{onStoppedNotification:Se}=R.v;Se&&z.z.setTimeout(()=>Se(He,Be))}const tt={closed:!0,next:be.Z,error:function pe(He){throw He},complete:be.Z}},727:(Dt,Le,M)=>{M.d(Le,{Lc:()=>Ce,w0:()=>be,Nn:()=>se});var c=M(576);const R=(0,M(3888).d)(we=>function($){we(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((X,je)=>`${je+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var oe=M(8737);class be{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const ke of $)ke.remove(this);else $.remove(this);const{initialTeardown:X}=this;if((0,c.m)(X))try{X()}catch(ke){z=ke instanceof R?ke.errors:[ke]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const ke of je)try{fe(ke)}catch(Ne){z=z??[],Ne instanceof R?z=[...z,...Ne.errors]:z.push(Ne)}}if(z)throw new R(z)}}add(z){var $;if(z&&z!==this)if(this.closed)fe(z);else{if(z instanceof be){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(z)}}_hasParent(z){const{_parentage:$}=this;return $===z||Array.isArray($)&&$.includes(z)}_addParent(z){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(z),$):$?[$,z]:z}_removeParent(z){const{_parentage:$}=this;$===z?this._parentage=null:Array.isArray($)&&(0,oe.P)($,z)}remove(z){const{_finalizers:$}=this;$&&(0,oe.P)($,z),z instanceof be&&z._removeParent(this)}}be.EMPTY=(()=>{const we=new be;return we.closed=!0,we})();const Ce=be.EMPTY;function se(we){return we instanceof be||we&&"closed"in we&&(0,c.m)(we.remove)&&(0,c.m)(we.add)&&(0,c.m)(we.unsubscribe)}function fe(we){(0,c.m)(we)?we():we.unsubscribe()}},2416:(Dt,Le,M)=>{M.d(Le,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Dt,Le,M)=>{M.d(Le,{E:()=>F});const F=new(M(9751).y)(be=>be.complete())},8996:(Dt,Le,M)=>{M.d(Le,{D:()=>Be});var c=M(8421),F=M(5363),R=M(9468),Ce=M(9751),fe=M(2202),we=M(576),z=M(9672);function X(Se,nt){if(!Se)throw new Error("Iterable cannot be null");return new Ce.y(ie=>{(0,z.f)(ie,nt,()=>{const me=Se[Symbol.asyncIterator]();(0,z.f)(ie,nt,()=>{me.next().then(Ae=>{Ae.done?ie.complete():ie.next(Ae.value)})},0,!0)})})}var je=M(3670),ke=M(8239),Ne=M(1144),Je=M(6495),Ie=M(2206),pe=M(4532),ut=M(3260);function Be(Se,nt){return nt?function He(Se,nt){if(null!=Se){if((0,je.c)(Se))return function oe(Se,nt){return(0,c.Xf)(Se).pipe((0,R.R)(nt),(0,F.Q)(nt))}(Se,nt);if((0,Ne.z)(Se))return function se(Se,nt){return new Ce.y(ie=>{let me=0;return nt.schedule(function(){me===Se.length?ie.complete():(ie.next(Se[me++]),ie.closed||this.schedule())})})}(Se,nt);if((0,ke.t)(Se))return function be(Se,nt){return(0,c.Xf)(Se).pipe((0,R.R)(nt),(0,F.Q)(nt))}(Se,nt);if((0,Ie.D)(Se))return X(Se,nt);if((0,Je.T)(Se))return function $(Se,nt){return new Ce.y(ie=>{let me;return(0,z.f)(ie,nt,()=>{me=Se[fe.h](),(0,z.f)(ie,nt,()=>{let Ae,Y;try{({value:Ae,done:Y}=me.next())}catch(ae){return void ie.error(ae)}Y?ie.complete():ie.next(Ae)},0,!0)}),()=>(0,we.m)(me?.return)&&me.return()})}(Se,nt);if((0,ut.L)(Se))return function tt(Se,nt){return X((0,ut.Q)(Se),nt)}(Se,nt)}throw(0,pe.z)(Se)}(Se,nt):(0,c.Xf)(Se)}},8421:(Dt,Le,M)=>{M.d(Le,{Xf:()=>je});var c=M(655),F=M(1144),R=M(8239),oe=M(9751),be=M(3670),Ce=M(2206),se=M(4532),fe=M(6495),we=M(3260),z=M(576),$=M(7849),X=M(8822);function je(He){if(He instanceof oe.y)return He;if(null!=He){if((0,be.c)(He))return function ke(He){return new oe.y(Be=>{const Se=He[X.L]();if((0,z.m)(Se.subscribe))return Se.subscribe(Be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,F.z)(He))return function Ne(He){return new oe.y(Be=>{for(let Se=0;Se<He.length&&!Be.closed;Se++)Be.next(He[Se]);Be.complete()})}(He);if((0,R.t)(He))return function Je(He){return new oe.y(Be=>{He.then(Se=>{Be.closed||(Be.next(Se),Be.complete())},Se=>Be.error(Se)).then(null,$.h)})}(He);if((0,Ce.D)(He))return pe(He);if((0,fe.T)(He))return function Ie(He){return new oe.y(Be=>{for(const Se of He)if(Be.next(Se),Be.closed)return;Be.complete()})}(He);if((0,we.L)(He))return function ut(He){return pe((0,we.Q)(He))}(He)}throw(0,se.z)(He)}function pe(He){return new oe.y(Be=>{(function tt(He,Be){var Se,nt,ie,me;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Se=(0,c.KL)(He);!(nt=yield Se.next()).done;)if(Be.next(nt.value),Be.closed)return}catch(Ae){ie={error:Ae}}finally{try{nt&&!nt.done&&(me=Se.return)&&(yield me.call(Se))}finally{if(ie)throw ie.error}}Be.complete()})})(He,Be).catch(Se=>Be.error(Se))})}},6451:(Dt,Le,M)=>{M.d(Le,{T:()=>Ce});var c=M(8189),F=M(8421),R=M(515),oe=M(3269),be=M(8996);function Ce(...se){const fe=(0,oe.yG)(se),we=(0,oe._6)(se,1/0),z=se;return z.length?1===z.length?(0,F.Xf)(z[0]):(0,c.J)(we)((0,be.D)(z,fe)):R.E}},5403:(Dt,Le,M)=>{M.d(Le,{Q:()=>R,x:()=>F});var c=M(930);function F(oe,be,Ce,se,fe){return new R(oe,be,Ce,se,fe)}class R extends c.Lv{constructor(be,Ce,se,fe,we,z){super(be),this.onFinalize=we,this.shouldUnsubscribe=z,this._next=Ce?function($){try{Ce($)}catch(X){be.error(X)}}:super._next,this._error=fe?function($){try{fe($)}catch(X){be.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=se?function(){try{se()}catch($){be.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var be;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(be=this.onFinalize)||void 0===be||be.call(this))}}}},4004:(Dt,Le,M)=>{M.d(Le,{U:()=>R});var c=M(4482),F=M(5403);function R(oe,be){return(0,c.e)((Ce,se)=>{let fe=0;Ce.subscribe((0,F.x)(se,we=>{se.next(oe.call(be,we,fe++))}))})}},8189:(Dt,Le,M)=>{M.d(Le,{J:()=>R});var c=M(5577),F=M(4671);function R(oe=1/0){return(0,c.z)(F.y,oe)}},5577:(Dt,Le,M)=>{M.d(Le,{z:()=>fe});var c=M(4004),F=M(8421),R=M(4482),oe=M(9672),be=M(5403),se=M(576);function fe(we,z,$=1/0){return(0,se.m)(z)?fe((X,je)=>(0,c.U)((ke,Ne)=>z(X,ke,je,Ne))((0,F.Xf)(we(X,je))),$):("number"==typeof z&&($=z),(0,R.e)((X,je)=>function Ce(we,z,$,X,je,ke,Ne,Je){const Ie=[];let pe=0,ut=0,tt=!1;const He=()=>{tt&&!Ie.length&&!pe&&z.complete()},Be=nt=>pe<X?Se(nt):Ie.push(nt),Se=nt=>{ke&&z.next(nt),pe++;let ie=!1;(0,F.Xf)($(nt,ut++)).subscribe((0,be.x)(z,me=>{je?.(me),ke?Be(me):z.next(me)},()=>{ie=!0},void 0,()=>{if(ie)try{for(pe--;Ie.length&&pe<X;){const me=Ie.shift();Ne?(0,oe.f)(z,Ne,()=>Se(me)):Se(me)}He()}catch(me){z.error(me)}}))};return we.subscribe((0,be.x)(z,Be,()=>{tt=!0,He()})),()=>{Je?.()}}(X,je,we,$)))}},5363:(Dt,Le,M)=>{M.d(Le,{Q:()=>oe});var c=M(9672),F=M(4482),R=M(5403);function oe(be,Ce=0){return(0,F.e)((se,fe)=>{se.subscribe((0,R.x)(fe,we=>(0,c.f)(fe,be,()=>fe.next(we),Ce),()=>(0,c.f)(fe,be,()=>fe.complete(),Ce),we=>(0,c.f)(fe,be,()=>fe.error(we),Ce)))})}},3099:(Dt,Le,M)=>{M.d(Le,{B:()=>Ce});var c=M(8996),F=M(5698),R=M(7579),oe=M(930),be=M(4482);function Ce(fe={}){const{connector:we=(()=>new R.x),resetOnError:z=!0,resetOnComplete:$=!0,resetOnRefCountZero:X=!0}=fe;return je=>{let ke=null,Ne=null,Je=null,Ie=0,pe=!1,ut=!1;const tt=()=>{Ne?.unsubscribe(),Ne=null},He=()=>{tt(),ke=Je=null,pe=ut=!1},Be=()=>{const Se=ke;He(),Se?.unsubscribe()};return(0,be.e)((Se,nt)=>{Ie++,!ut&&!pe&&tt();const ie=Je=Je??we();nt.add(()=>{Ie--,0===Ie&&!ut&&!pe&&(Ne=se(Be,X))}),ie.subscribe(nt),ke||(ke=new oe.Hp({next:me=>ie.next(me),error:me=>{ut=!0,tt(),Ne=se(He,z,me),ie.error(me)},complete:()=>{pe=!0,tt(),Ne=se(He,$),ie.complete()}}),(0,c.D)(Se).subscribe(ke))})(je)}}function se(fe,we,...z){return!0===we?(fe(),null):!1===we?null:we(...z).pipe((0,F.q)(1)).subscribe(()=>fe())}},9468:(Dt,Le,M)=>{M.d(Le,{R:()=>F});var c=M(4482);function F(R,oe=0){return(0,c.e)((be,Ce)=>{Ce.add(R.schedule(()=>be.subscribe(Ce),oe))})}},5698:(Dt,Le,M)=>{M.d(Le,{q:()=>oe});var c=M(515),F=M(4482),R=M(5403);function oe(be){return be<=0?()=>c.E:(0,F.e)((Ce,se)=>{let fe=0;Ce.subscribe((0,R.x)(se,we=>{++fe<=be&&(se.next(we),be<=fe&&se.complete())}))})}},8505:(Dt,Le,M)=>{M.d(Le,{b:()=>be});var c=M(576),F=M(4482),R=M(5403),oe=M(4671);function be(Ce,se,fe){const we=(0,c.m)(Ce)||se||fe?{next:Ce,error:se,complete:fe}:Ce;return we?(0,F.e)((z,$)=>{var X;null===(X=we.subscribe)||void 0===X||X.call(we);let je=!0;z.subscribe((0,R.x)($,ke=>{var Ne;null===(Ne=we.next)||void 0===Ne||Ne.call(we,ke),$.next(ke)},()=>{var ke;je=!1,null===(ke=we.complete)||void 0===ke||ke.call(we),$.complete()},ke=>{var Ne;je=!1,null===(Ne=we.error)||void 0===Ne||Ne.call(we,ke),$.error(ke)},()=>{var ke,Ne;je&&(null===(ke=we.unsubscribe)||void 0===ke||ke.call(we)),null===(Ne=we.finalize)||void 0===Ne||Ne.call(we)}))}):oe.y}},4408:(Dt,Le,M)=>{M.d(Le,{o:()=>be});var c=M(727);class F extends c.w0{constructor(se,fe){super()}schedule(se,fe=0){return this}}const R={setInterval(Ce,se,...fe){const{delegate:we}=R;return we?.setInterval?we.setInterval(Ce,se,...fe):setInterval(Ce,se,...fe)},clearInterval(Ce){const{delegate:se}=R;return(se?.clearInterval||clearInterval)(Ce)},delegate:void 0};var oe=M(8737);class be extends F{constructor(se,fe){super(se,fe),this.scheduler=se,this.work=fe,this.pending=!1}schedule(se,fe=0){if(this.closed)return this;this.state=se;const we=this.id,z=this.scheduler;return null!=we&&(this.id=this.recycleAsyncId(z,we,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId(z,this.id,fe),this}requestAsyncId(se,fe,we=0){return R.setInterval(se.flush.bind(se,this),we)}recycleAsyncId(se,fe,we=0){if(null!=we&&this.delay===we&&!1===this.pending)return fe;R.clearInterval(fe)}execute(se,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(se,fe);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,fe){let z,we=!1;try{this.work(se)}catch($){we=!0,z=$||new Error("Scheduled action threw falsy error")}if(we)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:se,scheduler:fe}=this,{actions:we}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(we,this),null!=se&&(this.id=this.recycleAsyncId(fe,se,null)),this.delay=null,super.unsubscribe()}}}},7565:(Dt,Le,M)=>{M.d(Le,{v:()=>R});var c=M(6063);class F{constructor(be,Ce=F.now){this.schedulerActionCtor=be,this.now=Ce}schedule(be,Ce=0,se){return new this.schedulerActionCtor(this,be).schedule(se,Ce)}}F.now=c.l.now;class R extends F{constructor(be,Ce=F.now){super(be,Ce),this.actions=[],this._active=!1,this._scheduled=void 0}flush(be){const{actions:Ce}=this;if(this._active)return void Ce.push(be);let se;this._active=!0;do{if(se=be.execute(be.state,be.delay))break}while(be=Ce.shift());if(this._active=!1,se){for(;be=Ce.shift();)be.unsubscribe();throw se}}}},4986:(Dt,Le,M)=>{M.d(Le,{P:()=>oe,z:()=>R});var c=M(4408);const R=new(M(7565).v)(c.o),oe=R},6063:(Dt,Le,M)=>{M.d(Le,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Dt,Le,M)=>{M.d(Le,{z:()=>c});const c={setTimeout(F,R,...oe){const{delegate:be}=c;return be?.setTimeout?be.setTimeout(F,R,...oe):setTimeout(F,R,...oe)},clearTimeout(F){const{delegate:R}=c;return(R?.clearTimeout||clearTimeout)(F)},delegate:void 0}},2202:(Dt,Le,M)=>{M.d(Le,{h:()=>F});const F=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Dt,Le,M)=>{M.d(Le,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Dt,Le,M)=>{M.d(Le,{_6:()=>Ce,jO:()=>oe,yG:()=>be});var c=M(576),F=M(3532);function R(se){return se[se.length-1]}function oe(se){return(0,c.m)(R(se))?se.pop():void 0}function be(se){return(0,F.K)(R(se))?se.pop():void 0}function Ce(se,fe){return"number"==typeof R(se)?se.pop():fe}},8737:(Dt,Le,M)=>{function c(F,R){if(F){const oe=F.indexOf(R);0<=oe&&F.splice(oe,1)}}M.d(Le,{P:()=>c})},3888:(Dt,Le,M)=>{function c(F){const oe=F(be=>{Error.call(be),be.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}M.d(Le,{d:()=>c})},2806:(Dt,Le,M)=>{M.d(Le,{O:()=>oe,x:()=>R});var c=M(2416);let F=null;function R(be){if(c.v.useDeprecatedSynchronousErrorHandling){const Ce=!F;if(Ce&&(F={errorThrown:!1,error:null}),be(),Ce){const{errorThrown:se,error:fe}=F;if(F=null,se)throw fe}}else be()}function oe(be){c.v.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=be)}},9672:(Dt,Le,M)=>{function c(F,R,oe,be=0,Ce=!1){const se=R.schedule(function(){oe(),Ce?F.add(this.schedule(null,be)):this.unsubscribe()},be);if(F.add(se),!Ce)return se}M.d(Le,{f:()=>c})},4671:(Dt,Le,M)=>{function c(F){return F}M.d(Le,{y:()=>c})},1144:(Dt,Le,M)=>{M.d(Le,{z:()=>c});const c=F=>F&&"number"==typeof F.length&&"function"!=typeof F},2206:(Dt,Le,M)=>{M.d(Le,{D:()=>F});var c=M(576);function F(R){return Symbol.asyncIterator&&(0,c.m)(R?.[Symbol.asyncIterator])}},576:(Dt,Le,M)=>{function c(F){return"function"==typeof F}M.d(Le,{m:()=>c})},3670:(Dt,Le,M)=>{M.d(Le,{c:()=>R});var c=M(8822),F=M(576);function R(oe){return(0,F.m)(oe[c.L])}},6495:(Dt,Le,M)=>{M.d(Le,{T:()=>R});var c=M(2202),F=M(576);function R(oe){return(0,F.m)(oe?.[c.h])}},8239:(Dt,Le,M)=>{M.d(Le,{t:()=>F});var c=M(576);function F(R){return(0,c.m)(R?.then)}},3260:(Dt,Le,M)=>{M.d(Le,{L:()=>oe,Q:()=>R});var c=M(655),F=M(576);function R(be){return(0,c.FC)(this,arguments,function*(){const se=be.getReader();try{for(;;){const{value:fe,done:we}=yield(0,c.qq)(se.read());if(we)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(fe)}}finally{se.releaseLock()}})}function oe(be){return(0,F.m)(be?.getReader)}},3532:(Dt,Le,M)=>{M.d(Le,{K:()=>F});var c=M(576);function F(R){return R&&(0,c.m)(R.schedule)}},4482:(Dt,Le,M)=>{M.d(Le,{A:()=>F,e:()=>R});var c=M(576);function F(oe){return(0,c.m)(oe?.lift)}function R(oe){return be=>{if(F(be))return be.lift(function(Ce){try{return oe(Ce,this)}catch(se){this.error(se)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Dt,Le,M)=>{function c(){}M.d(Le,{Z:()=>c})},9635:(Dt,Le,M)=>{M.d(Le,{U:()=>R,z:()=>F});var c=M(4671);function F(...oe){return R(oe)}function R(oe){return 0===oe.length?c.y:1===oe.length?oe[0]:function(Ce){return oe.reduce((se,fe)=>fe(se),Ce)}}},7849:(Dt,Le,M)=>{M.d(Le,{h:()=>R});var c=M(2416),F=M(3410);function R(oe){F.z.setTimeout(()=>{const{onUnhandledError:be}=c.v;if(!be)throw oe;be(oe)})}},4532:(Dt,Le,M)=>{function c(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(Le,{z:()=>c})},655:(Dt,Le,M)=>{function oe(Y,ae){var de={};for(var Ee in Y)Object.prototype.hasOwnProperty.call(Y,Ee)&&ae.indexOf(Ee)<0&&(de[Ee]=Y[Ee]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(Ee=Object.getOwnPropertySymbols(Y);he<Ee.length;he++)ae.indexOf(Ee[he])<0&&Object.prototype.propertyIsEnumerable.call(Y,Ee[he])&&(de[Ee[he]]=Y[Ee[he]])}return de}function fe(Y,ae,de,Ee){return new(de||(de=Promise))(function($e,Tt){function Yt(Nt){try{Xe(Ee.next(Nt))}catch(Un){Tt(Un)}}function Lt(Nt){try{Xe(Ee.throw(Nt))}catch(Un){Tt(Un)}}function Xe(Nt){Nt.done?$e(Nt.value):function he($e){return $e instanceof de?$e:new de(function(Tt){Tt($e)})}(Nt.value).then(Yt,Lt)}Xe((Ee=Ee.apply(Y,ae||[])).next())})}function Ie(Y){return this instanceof Ie?(this.v=Y,this):new Ie(Y)}function pe(Y,ae,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,Ee=de.apply(Y,ae||[]),$e=[];return he={},Tt("next"),Tt("throw"),Tt("return"),he[Symbol.asyncIterator]=function(){return this},he;function Tt(yn){Ee[yn]&&(he[yn]=function(tn){return new Promise(function(Ht,Vt){$e.push([yn,tn,Ht,Vt])>1||Yt(yn,tn)})})}function Yt(yn,tn){try{!function Lt(yn){yn.value instanceof Ie?Promise.resolve(yn.value.v).then(Xe,Nt):Un($e[0][2],yn)}(Ee[yn](tn))}catch(Ht){Un($e[0][3],Ht)}}function Xe(yn){Yt("next",yn)}function Nt(yn){Yt("throw",yn)}function Un(yn,tn){yn(tn),$e.shift(),$e.length&&Yt($e[0][0],$e[0][1])}}function tt(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,ae=Y[Symbol.asyncIterator];return ae?ae.call(Y):(Y=function X(Y){var ae="function"==typeof Symbol&&Symbol.iterator,de=ae&&Y[ae],Ee=0;if(de)return de.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&Ee>=Y.length&&(Y=void 0),{value:Y&&Y[Ee++],done:!Y}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),de={},Ee("next"),Ee("throw"),Ee("return"),de[Symbol.asyncIterator]=function(){return this},de);function Ee($e){de[$e]=Y[$e]&&function(Tt){return new Promise(function(Yt,Lt){!function he($e,Tt,Yt,Lt){Promise.resolve(Lt).then(function(Xe){$e({value:Xe,done:Yt})},Tt)}(Yt,Lt,(Tt=Y[$e](Tt)).done,Tt.value)})}}}M.d(Le,{FC:()=>pe,KL:()=>tt,_T:()=>oe,mG:()=>fe,qq:()=>Ie})},4650:(Dt,Le,M)=>{M.d(Le,{$8M:()=>pi,$Z:()=>X0,AFp:()=>kf,ALo:()=>wb,AaK:()=>fe,BQk:()=>jm,CHM:()=>Ra,CRH:()=>ZC,CZH:()=>pd,CqO:()=>Av,D6c:()=>GA,EJc:()=>dI,EiD:()=>y0,EpF:()=>qu,F$t:()=>zm,F4k:()=>Sv,FYo:()=>fb,FiY:()=>qa,G48:()=>vd,Gf:()=>KC,GfV:()=>kc,Gpc:()=>$,Hsn:()=>Gm,Ikx:()=>Wv,JOm:()=>$s,JVY:()=>Qp,KtG:()=>Ql,L6k:()=>b,LAX:()=>_,LFG:()=>li,LSH:()=>q_,Lbi:()=>Pf,MAs:()=>ef,MGl:()=>nf,MMx:()=>_g,NdJ:()=>$m,O4$:()=>r0,OlP:()=>mn,Oqu:()=>Jm,PXZ:()=>PA,Q6J:()=>Dv,QGY:()=>Oo,QP$:()=>dd,QbO:()=>Gr,Qsj:()=>fg,R0b:()=>as,RDi:()=>zd,Rgc:()=>cd,SBq:()=>wf,Sil:()=>SA,Suo:()=>Ab,TTD:()=>uo,TgZ:()=>ul,Udp:()=>Qm,VKq:()=>_b,W1O:()=>QC,WFA:()=>dl,X6Q:()=>FA,XFs:()=>bt,Xpm:()=>ee,Y36:()=>Bu,YKP:()=>db,YNc:()=>Iv,Yjl:()=>J,Yz7:()=>tn,ZZ4:()=>Cd,_Bn:()=>ug,_UZ:()=>Um,_Vd:()=>id,_c5:()=>zA,_uU:()=>Hv,aQg:()=>Jg,c2e:()=>uI,cJS:()=>Vt,cg1:()=>Sc,d8E:()=>tg,dDg:()=>mI,deG:()=>Ti,dqk:()=>et,eBb:()=>m,eFA:()=>qb,ekj:()=>cf,eoX:()=>Gb,f3M:()=>ah,g9A:()=>Of,h0i:()=>eo,hGG:()=>tw,hM9:()=>VC,hij:()=>ma,iGM:()=>Sb,ifc:()=>$t,ip1:()=>lI,kL8:()=>pC,lG2:()=>st,lcZ:()=>zC,lqb:()=>ca,lri:()=>Rl,mCW:()=>An,n5z:()=>Us,n_E:()=>wg,oAB:()=>Ue,oJD:()=>v0,oxw:()=>Rv,pB0:()=>E,q3G:()=>Bn,q4F:()=>Cl,qLn:()=>Ru,qOj:()=>wc,qZA:()=>Bm,qzn:()=>Es,rWj:()=>gd,s9C:()=>qm,sBO:()=>II,sIi:()=>Ec,s_b:()=>Dl,soG:()=>Uc,tBr:()=>vs,tb:()=>Hb,tp0:()=>sa,uIk:()=>Fm,vHH:()=>Ne,vpe:()=>no,wAp:()=>Ft,xp6:()=>G0,yhl:()=>Au,ynx:()=>Hm,z2F:()=>Lf,z3N:()=>Br,zSh:()=>wy,zs3:()=>Ws});var c=M(7579),F=M(727),R=M(9751),oe=M(6451),be=M(3099);function Ce(s){for(let o in s)if(s[o]===Ce)return o;throw Error("Could not find renamed property on target object.")}function se(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function we(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const z=Ce({__forward_ref__:Ce});function $(s){return s.__forward_ref__=$,s.toString=function(){return fe(this())},s}function X(s){return je(s)?s():s}function je(s){return"function"==typeof s&&s.hasOwnProperty(z)&&s.__forward_ref__===$}class Ne extends Error{constructor(o,l){super(function Je(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,l)),this.code=o}}function Ie(s){return"string"==typeof s?s:null==s?"":String(s)}function Be(s,o){throw new Ne(-201,!1)}function Lt(s,o){null==s&&function Xe(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function tn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Vt(s){return{providers:s.providers||[],imports:s.imports||[]}}function sn(s){return Tn(s,Kn)||Tn(s,In)}function Tn(s,o){return s.hasOwnProperty(o)?s[o]:null}function kn(s){return s&&(s.hasOwnProperty(ei)||s.hasOwnProperty(Zn))?s[ei]:null}const Kn=Ce({\u0275prov:Ce}),ei=Ce({\u0275inj:Ce}),In=Ce({ngInjectableDef:Ce}),Zn=Ce({ngInjectorDef:Ce});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let Yn;function Xt(s){const o=Yn;return Yn=s,o}function On(s,o,l){const d=sn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&bt.Optional?null:void 0!==o?o:void Be(fe(s))}function Hn(s){return{toString:s}.toString()}var Dn=(()=>((Dn=Dn||{})[Dn.OnPush=0]="OnPush",Dn[Dn.Default=1]="Default",Dn))(),$t=(()=>{return(s=$t||($t={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",$t;var s})();const et=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ln={},Ot=[],xn=Ce({\u0275cmp:Ce}),_n=Ce({\u0275dir:Ce}),ln=Ce({\u0275pipe:Ce}),on=Ce({\u0275mod:Ce}),W=Ce({\u0275fac:Ce}),U=Ce({__NG_ELEMENT_ID__:Ce});let Q=0;function ee(s){return Hn(()=>{const l=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Dn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Ot,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||$t.Emulated,id:"c"+Q++,styles:s.styles||Ot,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,y=s.features;return h.inputs=at(s.inputs,d),h.outputs=at(s.outputs),y&&y.forEach(w=>w(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(B).filter(K):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(_e).filter(K):null,h})}function B(s){return V(s)||j(s)}function K(s){return null!==s}const ge={};function Ue(s){return Hn(()=>{const o={type:s.type,bootstrap:s.bootstrap||Ot,declarations:s.declarations||Ot,imports:s.imports||Ot,exports:s.exports||Ot,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(ge[s.id]=s.type),o})}function at(s,o){if(null==s)return Ln;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),l[h]=d,o&&(o[h]=p)}return l}const st=ee;function J(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function V(s){return s[xn]||null}function j(s){return s[_n]||null}function _e(s){return s[ln]||null}function Ye(s,o){const l=s[on]||null;if(!l&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return l}function dr(s){return Array.isArray(s)&&"object"==typeof s[1]}function hr(s){return Array.isArray(s)&&!0===s[1]}function Ul(s){return 0!=(8&s.flags)}function Os(s){return 2==(2&s.flags)}function Hl(s){return 1==(1&s.flags)}function Er(s){return null!==s.template}function Ww(s){return 0!=(256&s[2])}function Ns(s,o){return s.hasOwnProperty(W)?s[W]:null}class ms{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function uo(){return Aa}function Aa(s){return s.type.prototype.ngOnChanges&&(s.setInput=Hd),E_}function E_(){const s=wp(this),o=s?.current;if(o){const l=s.previous;if(l===Ln)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Hd(s,o,l,d){const h=wp(s)||function $l(s,o){return s[tu]=o}(s,{previous:Ln,current:null}),p=h.current||(h.current={}),y=h.previous,w=this.declaredInputs[l],C=y[w];p[w]=new ms(C&&C.currentValue,o,y===Ln),s[d]=o}uo.ngInherit=!0;const tu="__ngSimpleChanges__";function wp(s){return s[tu]||null}let iu;function zd(s){iu=s}function ru(){return void 0!==iu?iu:typeof document<"u"?document:void 0}function Xn(s){return!!s.listen}const su={createRenderer:(s,o)=>ru()};function ni(s){for(;Array.isArray(s);)s=s[0];return s}function Fs(s,o){return ni(o[s])}function fr(s,o){return ni(o[s.index])}function ql(s,o){return s.data[o]}function gs(s,o){return s[o]}function er(s,o){const l=o[s];return dr(l)?l:l[0]}function Gd(s){return 4==(4&s[2])}function Wl(s){return 64==(64&s[2])}function Cr(s,o){return null==o?null:s[o]}function Kl(s){s[18]=0}function Ma(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const zt={lFrame:po(null),bindingsEnabled:!0};function Yl(){return zt.bindingsEnabled}function Ge(){return zt.lFrame.lView}function pn(){return zt.lFrame.tView}function Ra(s){return zt.lFrame.contextLView=s,s[8]}function Ql(s){return zt.lFrame.contextLView=null,s}function Ii(){let s=qo();for(;null!==s&&64===s.type;)s=s.parent;return s}function qo(){return zt.lFrame.currentTNode}function Lr(s,o){const l=zt.lFrame;l.currentTNode=s,l.isParent=o}function cu(){return zt.lFrame.isParent}function uu(){zt.lFrame.isParent=!1}function tr(){const s=zt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function fo(){return zt.lFrame.bindingIndex++}function Tp(s,o){const l=zt.lFrame;l.bindingIndex=l.bindingRootIndex=s,Xl(o)}function Xl(s){zt.lFrame.currentDirectiveIndex=s}function Zd(s){const o=zt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function hu(){return zt.lFrame.currentQueryIndex}function fu(s){zt.lFrame.currentQueryIndex=s}function T_(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function pu(s,o,l){if(l&bt.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||l&bt.Host||(h=T_(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const d=zt.lFrame=Yd();return d.currentTNode=o,d.lView=s,!0}function Zo(s){const o=Yd(),l=s[1];zt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Yd(){const s=zt.lFrame,o=null===s?null:s.child;return null===o?po(s):o}function po(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Qd(){const s=zt.lFrame;return zt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Jl=Qd;function mu(){const s=Qd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function nr(){return zt.lFrame.selectedIndex}function Yo(s){zt.lFrame.selectedIndex=s}function hi(){const s=zt.lFrame;return ql(s.tView,s.selectedIndex)}function r0(){zt.lFrame.currentNamespace="svg"}function Xo(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const p=s.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:C,ngAfterViewChecked:T,ngOnDestroy:A}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-l,y),w&&((s.contentHooks||(s.contentHooks=[])).push(l,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,w)),C&&(s.viewHooks||(s.viewHooks=[])).push(-l,C),T&&((s.viewHooks||(s.viewHooks=[])).push(l,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,T)),null!=A&&(s.destroyHooks||(s.destroyHooks=[])).push(l,A)}}function Vs(s,o,l){xp(s,o,3,l)}function ec(s,o,l,d){(3&s[2])===l&&xp(s,o,l,d)}function Mp(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function xp(s,o,l,d){const p=d??-1,y=o.length-1;let w=0;for(let C=void 0!==d?65535&s[18]:0;C<y;C++)if("number"==typeof o[C+1]){if(w=o[C],null!=d&&w>=d)break}else o[C]<0&&(s[18]+=65536),(w<p||-1==p)&&(a0(s,l,o,C),s[18]=(4294901760&s[18])+C+2),C++}function a0(s,o,l,d){const h=l[d]<0,p=l[d+1],w=s[h?-l[d]:l[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class Oa{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function gu(s,o,l){const d=Xn(s);let h=0;for(;h<l.length;){const p=l[h];if("number"==typeof p){if(0!==p)break;h++;const y=l[h++],w=l[h++],C=l[h++];d?s.setAttribute(o,w,C,y):o.setAttributeNS(y,w,C)}else{const y=p,w=l[++h];tc(y)?d&&s.setProperty(o,y,w):d?s.setAttribute(o,y,w):o.setAttribute(y,w),h++}}return h}function Jd(s){return 3===s||4===s||6===s}function tc(s){return 64===s.charCodeAt(0)}function nc(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||A_(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function A_(s,o,l,d,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===l){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,l),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}function Rn(s){return-1!==s}function Xr(s){return 32767&s}function Bt(s,o){let l=function ot(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let zi=!0;function fi(s){const o=zi;return zi=s,o}let Np=0;const Jr={};function _s(s,o){const l=Pa(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,It(d.data,s),It(o,null),It(d.blueprint,null));const h=yu(s,o),p=s.injectorIndex;if(Rn(h)){const y=Xr(h),w=Bt(h,o),C=w[1].data;for(let T=0;T<8;T++)o[p+T]=w[y+T]|C[y+T]}return o[p+8]=h,p}function It(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Pa(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function yu(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){if(d=Vr(h),null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function _o(s,o,l){!function _u(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(U)&&(d=l[U]),null==d&&(d=l[U]=Np++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function jn(s,o,l){if(l&bt.Optional)return s;Be()}function Fp(s,o,l,d){if(l&bt.Optional&&void 0===d&&(d=null),0==(l&(bt.Self|bt.Host))){const h=s[9],p=Xt(void 0);try{return h?h.get(o,d,l&bt.Optional):On(o,d,l&bt.Optional)}finally{Xt(p)}}return jn(d,0,l)}function Na(s,o,l,d=bt.Default,h){if(null!==s){if(1024&o[2]){const y=function yo(s,o,l,d,h){let p=s,y=o;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=th(p,y,l,d|bt.Self,Jr);if(w!==Jr)return w;let C=p.parent;if(!C){const T=y[21];if(T){const A=T.get(l,Jr,d);if(A!==Jr)return A}C=Vr(y),y=y[15]}p=C}return h}(s,o,l,d,Jr);if(y!==Jr)return y}const p=th(s,o,l,d,Jr);if(p!==Jr)return p}return Fp(o,l,d,h)}function th(s,o,l,d,h){const p=function Vp(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(U)?s[U]:void 0;return"number"==typeof o?o>=0?255&o:Jo:o}(l);if("function"==typeof p){if(!pu(o,s,d))return d&bt.Host?jn(h,0,d):Fp(o,l,d,h);try{const y=p(d);if(null!=y||d&bt.Optional)return y;Be()}finally{Jl()}}else if("number"==typeof p){let y=null,w=Pa(s,o),C=-1,T=d&bt.Host?o[16][6]:null;for((-1===w||d&bt.SkipSelf)&&(C=-1===w?yu(s,o):o[w+8],-1!==C&&La(d,!1)?(y=o[1],w=Xr(C),o=Bt(C,o)):w=-1);-1!==w;){const A=o[1];if(Fa(p,w,A.data)){const O=Lp(w,o,l,y,d,T);if(O!==Jr)return O}C=o[w+8],-1!==C&&La(d,o[1].data[w+8]===T)&&Fa(p,w,o)?(y=A,w=Xr(C),o=Bt(C,o)):w=-1}}return h}function Lp(s,o,l,d,h,p){const y=o[1],w=y.data[s+8],A=Ir(w,y,l,null==d?Os(w)&&zi:d!=y&&0!=(3&w.type),h&bt.Host&&p===w);return null!==A?Bs(o,y,A,w):Jr}function Ir(s,o,l,d,h){const p=s.providerIndexes,y=o.data,w=1048575&p,C=s.directiveStart,A=p>>20,q=h?w+A:s.directiveEnd;for(let ce=d?w:w+A;ce<q;ce++){const Fe=y[ce];if(ce<C&&l===Fe||ce>=C&&Fe.type===l)return ce}if(h){const ce=y[C];if(ce&&Er(ce)&&ce.type===l)return C}return null}function Bs(s,o,l,d){let h=s[l];const p=o.data;if(function Rp(s){return s instanceof Oa}(h)){const y=h;y.resolving&&function ut(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${s}${l}`)}(function pe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ie(s)}(p[l]));const w=fi(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?Xt(y.injectImpl):null;pu(s,d,bt.Default);try{h=s[l]=y.factory(void 0,p,s,d),o.firstCreatePass&&l>=d.directiveStart&&function Ap(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(d){const y=Aa(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,y)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),p&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,p),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,p))}(l,p[l],o)}finally{null!==C&&Xt(C),fi(w),y.resolving=!1,Jl()}}return h}function Fa(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function La(s,o){return!(s&bt.Self||s&bt.Host&&o)}class Va{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return Na(this._tNode,this._lView,o,d,l)}}function Jo(){return new Va(Ii(),Ge())}function Us(s){return Hn(()=>{const o=s.prototype.constructor,l=o[W]||ic(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[W]||ic(h);if(p&&p!==l)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function ic(s){return je(s)?()=>{const o=ic(X(s));return o&&o()}:Ns(s)}function Vr(s){const o=s[1],l=o.type;return 2===l?o.declTNode:1===l?s[6]:null}function pi(s){return function eh(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const p=l[h];if(Jd(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(p===o)return l[h+1];h+=2}}}return null}(Ii(),s)}const ea="__parameters__";function Ba(s,o,l){return Hn(()=>{const d=function mi(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return w.annotation=y,w;function w(C,T,A){const O=C.hasOwnProperty(ea)?C[ea]:Object.defineProperty(C,ea,{value:[]})[ea];for(;O.length<=A;)O.push(null);return(O[A]=O[A]||[]).push(y),C}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class mn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=tn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ti=new mn("AnalyzeForEntryComponents");function ir(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),ir(d,o)):o!==s&&o.push(d)}return o}function Hs(s,o){s.forEach(l=>Array.isArray(l)?Hs(l,o):o(l))}function vo(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function ja(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function sc(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function Gi(s,o,l){let d=ta(s,o);return d>=0?s[1|d]=l:(d=~d,function nh(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function wu(s,o){const l=ta(s,o);if(l>=0)return s[1|l]}function ta(s,o){return function Eu(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<l];if(o===y)return p<<l;y>o?h=p:d=p+1}return~(h<<l)}(s,o,1)}const ra={},rh="__NG_DI_FLAG__",ai="ngTempTokenPath",N_=/\n/gm,oh="__source";let $a;function za(s){const o=$a;return $a=s,o}function zp(s,o=bt.Default){if(void 0===$a)throw new Ne(-203,!1);return null===$a?On(s,void 0,o):$a.get(s,o&bt.Optional?null:void 0,o)}function li(s,o=bt.Default){return(function hn(){return Yn}()||zp)(X(s),o)}function ah(s,o=bt.Default){return li(s,o)}function wo(s){const o=[];for(let l=0;l<s.length;l++){const d=X(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Ne(900,!1);let h,p=bt.Default;for(let y=0;y<d.length;y++){const w=d[y],C=dn(w);"number"==typeof C?-1===C?h=w.token:p|=C:h=w}o.push(li(h,p))}else o.push(li(d))}return o}function Tr(s,o){return s[rh]=o,s.prototype[rh]=o,s}function dn(s){return s[rh]}const vs=Tr(Ba("Inject",s=>({token:s})),-1),qa=Tr(Ba("Optional"),8),sa=Tr(Ba("SkipSelf"),4);let hc,aa;function oa(s){return function Du(){if(void 0===hc&&(hc=null,et.trustedTypes))try{hc=et.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return hc}()?.createHTML(s)||s}function Tu(s){return function Ya(){if(void 0===aa&&(aa=null,et.trustedTypes))try{aa=et.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return aa}()?.createHTML(s)||s}class ws{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class j_ extends ws{getTypeName(){return"HTML"}}class la extends ws{getTypeName(){return"Style"}}class $_ extends ws{getTypeName(){return"Script"}}class Zp extends ws{getTypeName(){return"URL"}}class Yp extends ws{getTypeName(){return"ResourceURL"}}function Br(s){return s instanceof ws?s.changingThisBreaksApplicationSecurity:s}function Es(s,o){const l=Au(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function Au(s){return s instanceof ws&&s.getTypeName()||null}function Qp(s){return new j_(s)}function b(s){return new la(s)}function m(s){return new $_(s)}function _(s){return new Zp(s)}function E(s){return new Yp(s)}class k{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(oa(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class le{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=oa(o),l;const d=this.inertDocument.createElement("body");return d.innerHTML=oa(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const y=l.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const _t=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,an=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function An(s){return(s=String(s)).match(_t)||s.match(an)?s:"unsafe:"+s}function Li(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Hr(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const pc=Li("area,br,col,hr,img,wbr"),Mu=Li("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dh=Li("rp,rt"),ph=Hr(pc,Hr(Mu,Li("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hr(dh,Li("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hr(dh,Mu)),xu=Li("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mh=Li("srcset"),em=Hr(xu,mh,Li("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Li("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rT=Li("script,style,template");class z_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!ph.hasOwnProperty(l))return this.sanitizedSomething=!0,!rT.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=o.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),y=p.name,w=y.toLowerCase();if(!em.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let C=p.value;xu[w]&&(C=An(C)),mh[w]&&(s=C,C=(s=String(s)).split(",").map(o=>An(o.trim())).join(", ")),this.buf.push(" ",y,'="',G_(C),'"')}var s;return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();ph.hasOwnProperty(l)&&!pc.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(G_(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const Cs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_0=/([^\#-~ |!])/g;function G_(s){return s.replace(/&/g,"&amp;").replace(Cs,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(_0,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tm;function y0(s,o){let l=null;try{tm=tm||function S(s){const o=new le(s);return function Ve(){try{return!!(new window.DOMParser).parseFromString(oa(""),"text/html")}catch{return!1}}()?new k(o):o}(s);let d=o?String(o):"";l=tm.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=l.innerHTML,l=tm.getInertBodyElement(d)}while(d!==p);return oa((new z_).sanitizeChildren(Co(l)||l))}finally{if(l){const d=Co(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Co(s){return"content"in s&&function sT(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Bn=(()=>((Bn=Bn||{})[Bn.NONE=0]="NONE",Bn[Bn.HTML=1]="HTML",Bn[Bn.STYLE=2]="STYLE",Bn[Bn.SCRIPT=3]="SCRIPT",Bn[Bn.URL=4]="URL",Bn[Bn.RESOURCE_URL=5]="RESOURCE_URL",Bn))();function v0(s){const o=yh();return o?Tu(o.sanitize(Bn.HTML,s)||""):Es(s,"HTML")?Tu(Br(s)):y0(ru(),Ie(s))}function q_(s){const o=yh();return o?o.sanitize(Bn.URL,s)||"":Es(s,"URL")?Br(s):An(Ie(s))}function yh(){const s=Ge();return s&&s[12]}function sm(s){return s.ngOriginalError}class Ru{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&sm(o);for(;l&&sm(l);)l=sm(l);return l||null}}const Z_=new Map;let Y_=0;const Q_="__ngContext__";function Si(s,o){dr(o)?(s[Q_]=o[20],function C0(s){Z_.set(s[20],s)}(o)):s[Q_]=o}function wh(s){const o=s[Q_];return"number"==typeof o?function bh(s){return Z_.get(s)||null}(o):o||null}function X_(s){const o=wh(s);return o?dr(o)?o:o.lView:null}const vT=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(et))();function Io(s){return s instanceof Function?s():s}var $s=(()=>(($s=$s||{})[$s.Important=1]="Important",$s[$s.DashCase=2]="DashCase",$s))();function Eh(s,o){return undefined(s,o)}function Ch(s){const o=s[3];return hr(o)?o[3]:o}function am(s){return R0(s[13])}function Ih(s){return R0(s[4])}function R0(s){for(;null!==s&&!hr(s);)s=s[4];return s}function Ou(s,o,l,d,h){if(null!=d){let p,y=!1;hr(d)?p=d:dr(d)&&(y=!0,d=d[0]);const w=ni(d);0===s&&null!==l?null==h?ay(o,l,w):gc(o,l,w,h||null,!0):1===s&&null!==l?gc(o,l,w,h||null,!0):2===s?function L0(s,o,l){const d=Pu(s,o);d&&function P0(s,o,l,d){Xn(s)?s.removeChild(o,l,d):o.removeChild(l)}(s,d,o,l)}(o,w,y):3===s&&o.destroyNode(w),null!=p&&function PT(s,o,l,d,h){const p=l[7];p!==ni(l)&&Ou(o,s,d,p,h);for(let w=10;w<l.length;w++){const C=l[w];Th(C[1],C,s,o,d,p)}}(o,s,p,l,h)}}function iy(s,o,l){if(Xn(s))return s.createElement(o,l);{const d=null!==l?function e0(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function Ai(s,o){const l=s[9],d=l.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Ma(h,-1)),l.splice(d,1)}function ry(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const h=d[17];null!==h&&h!==s&&Ai(h,d),o>0&&(s[l-1][4]=d[4]);const p=ja(s,10+o);!function ST(s,o){Th(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function sy(s,o){if(!(128&o[2])){const l=o[11];Xn(l)&&l.destroyNode&&Th(s,o,l,3,null,null),function xT(s){let o=s[13];if(!o)return Qa(s[1],s);for(;o;){let l=null;if(dr(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)dr(o)&&Qa(o[1],o),o=o[3];null===o&&(o=s),dr(o)&&Qa(o[1],o),l=o&&o[4]}o=l}}(o)}}function Qa(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function OT(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof Oa)){const p=l[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=h[p[y]],C=p[y+1];try{C.call(w)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function Dh(s,o){const l=s.cleanup,d=o[7];let h=-1;if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const y=l[p+1],w="function"==typeof y?y(o):ni(o[y]),C=d[h=l[p+2]],T=l[p+3];"boolean"==typeof T?w.removeEventListener(l[p],C,T):T>=0?d[h=T]():d[h=-T].unsubscribe(),p+=2}else{const y=d[h=l[p+1]];l[p].call(y)}if(null!==d){for(let p=h+1;p<d.length;p++)d[p]();o[7]=null}}(s,o),1===o[1].type&&Xn(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&hr(o[3])){l!==o[3]&&Ai(l,o);const d=o[19];null!==d&&d.detachView(s)}!function hT(s){Z_.delete(s[20])}(o)}}function k0(s,o,l){return function oy(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===$t.None||h===$t.Emulated)return null}return fr(d,l)}(s,o.parent,l)}function gc(s,o,l,d,h){Xn(s)?s.insertBefore(o,l,d,h):(ly(o)?o.content:o).insertBefore(l,d,h)}function ay(s,o,l){Xn(s)?s.appendChild(o,l):(ly(o)?o.content:o).appendChild(l)}function O0(s,o,l,d,h){null!==d?gc(s,o,l,d,h):ay(s,o,l)}function ly(s){return"TEMPLATE"===s.tagName&&void 0!==s.content}function Pu(s,o){return Xn(s)?s.parentNode(o):o.parentNode}function Xa(s,o,l){return N0(s,o,l)}let N0=function cy(s,o,l){return 40&s.type?fr(s,l):null};function um(s,o,l,d){const h=k0(s,d,o),p=o[11],w=Xa(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(l))for(let C=0;C<l.length;C++)O0(p,h,l[C],w,!1);else O0(p,h,l,w,!1)}function dm(s,o){if(null!==o){const l=o.type;if(3&l)return fr(o,s);if(4&l)return hm(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return dm(s,d);{const h=s[o.index];return hr(h)?hm(-1,h):ni(h)}}if(32&l)return Eh(o,s)()||ni(s[o.index]);{const d=F0(s,o);return null!==d?Array.isArray(d)?d[0]:dm(Ch(s[16]),d):dm(s,o.next)}}return null}function F0(s,o){return null!==o?s[16][6].projection[o.projection]:null}function hm(s,o){const l=10+s+1;if(l<o.length){const d=o[l],h=d[1].firstChild;if(null!==h)return dm(d,h)}return o[7]}function hy(s,o,l,d,h,p,y){for(;null!=l;){const w=d[l.index],C=l.type;if(y&&0===o&&(w&&Si(ni(w),d),l.flags|=4),64!=(64&l.flags))if(8&C)hy(s,o,l.child,d,h,p,!1),Ou(o,s,h,w,p);else if(32&C){const T=Eh(l,d);let A;for(;A=T();)Ou(o,s,h,A,p);Ou(o,s,h,w,p)}else 16&C?V0(s,o,d,l,h,p):Ou(o,s,h,w,p);l=y?l.projectionNext:l.next}}function Th(s,o,l,d,h,p){hy(l,d,s.firstChild,o,h,p,!1)}function V0(s,o,l,d,h,p){const y=l[16],C=y[6].projection[d.projection];if(Array.isArray(C))for(let T=0;T<C.length;T++)Ou(o,s,h,C[T],p);else hy(s,o,C,y[3],h,p,!0)}function U0(s,o,l){Xn(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function H0(s,o,l){Xn(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function j0(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}l=h+1}}const Sh="ng-template";function NT(s,o,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==j0(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function $0(s){return 4===s.type&&s.value!==Sh}function z0(s,o,l){return o===(4!==s.type||l?s.value:Sh)}function py(s,o,l){let d=4;const h=s.attrs||[],p=function Sr(s){for(let o=0;o<s.length;o++)if(Jd(s[o]))return o;return s.length}(h);let y=!1;for(let w=0;w<o.length;w++){const C=o[w];if("number"!=typeof C){if(!y)if(4&d){if(d=2|1&d,""!==C&&!z0(s,C,l)||""===C&&1===o.length){if(Is(d))return!1;y=!0}}else{const T=8&d?C:o[++w];if(8&d&&null!==s.attrs){if(!NT(s.attrs,T,l)){if(Is(d))return!1;y=!0}continue}const O=my(8&d?"class":C,h,$0(s),l);if(-1===O){if(Is(d))return!1;y=!0;continue}if(""!==T){let q;q=O>p?"":h[O+1].toLowerCase();const ce=8&d?q:null;if(ce&&-1!==j0(ce,T,0)||2&d&&T!==q){if(Is(d))return!1;y=!0}}}}else{if(!y&&!Is(d)&&!Is(C))return!1;if(y&&Is(C))continue;y=!1,d=C|1&d}}return Is(d)||y}function Is(s){return 0==(1&s)}function my(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function Gs(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function Et(s,o,l=!1){for(let d=0;d<o.length;d++)if(py(s,o[d],l))return!0;return!1}function Ja(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function FT(s,o){return s?":not("+o.trim()+")":o}function LT(s){let o=s[0],l=1,d=2,h="",p=!1;for(;l<s.length;){let y=s[l];if("string"==typeof y)if(2&d){const w=s[++l];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!Is(y)&&(o+=FT(p,h),h=""),d=y,p=p||!Is(d);l++}return""!==h&&(o+=FT(p,h)),o}const rn={};function G0(s){q0(pn(),Ge(),nr()+s,!1)}function q0(s,o,l,d){if(!d)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Vs(o,p,l)}else{const p=s.preOrderHooks;null!==p&&ec(o,p,0,l)}Yo(l)}const zn=new mn("ENVIRONMENT_INITIALIZER"),el=new mn("INJECTOR_DEF_TYPES");function Qt(...s){return{\u0275providers:qs(0,s)}}function qs(s,...o){const l=[],d=new Set;let h;return Hs(o,p=>{const y=p;yy(y,l,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&_y(h,l),l}function _y(s,o){for(let l=0;l<s.length;l++){const{providers:h}=s[l];Hs(h,p=>{o.push(p)})}}function yy(s,o,l,d){if(!(s=X(s)))return!1;let h=null,p=kn(s);const y=!p&&V(s);if(p||y){if(y&&!y.standalone)return!1;h=s}else{const C=s.ngModule;if(p=kn(C),!p)return!1;h=C}const w=d.has(h);if(y){if(w)return!1;if(d.add(h),y.dependencies){const C="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of C)yy(T,o,l,d)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let T;d.add(h);try{Hs(p.imports,A=>{yy(A,o,l,d)&&(T||(T=[]),T.push(A))})}finally{}void 0!==T&&_y(T,o)}if(!w){const T=Ns(h)||(()=>new h);o.push({provide:h,useFactory:T,deps:Ot},{provide:el,useValue:h,multi:!0},{provide:zn,useValue:()=>li(h),multi:!0})}const C=p.providers;null==C||w||Hs(C,A=>{o.push(A)})}}return h!==s&&void 0!==s.providers}const Wi=Ce({provide:String,useValue:Ce});function is(s){return null!==s&&"object"==typeof s&&Wi in s}function _c(s){return"function"==typeof s}const vy=new mn("INJECTOR",-1);class by{get(o,l=ra){if(l===ra){const d=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw d.name="NullInjectorError",d}return l}}const wy=new mn("Set Injector scope."),pm={},$T={};let Ey;function rr(){return void 0===Ey&&(Ey=new by),Ey}class ca{}class Cy extends ca{constructor(o,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yc(o,y=>this.processProvider(y)),this.records.set(vy,Fu(void 0,this)),h.has("environment")&&this.records.set(ca,Fu(void 0,this));const p=this.records.get(wy);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(el.multi,Ot,bt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}get(o,l=ra,d=bt.Default){this.assertNotDestroyed();const h=za(this),p=Xt(void 0);try{if(!(d&bt.SkipSelf)){let w=this.records.get(o);if(void 0===w){const C=function qT(s){return"function"==typeof s||"object"==typeof s&&s instanceof mn}(o)&&sn(o);w=C&&this.injectableDefInScope(C)?Fu(Mh(o),pm):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(d&bt.Self?rr():this.parent).get(o,l=d&bt.Optional&&l===ra?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[ai]=y[ai]||[]).unshift(fe(o)),h)throw y;return function Ga(s,o,l,d){const h=s[ai];throw o[oh]&&h.unshift(o[oh]),s.message=function lh(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=fe(o);if(Array.isArray(o))h=o.map(fe).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):fe(w)))}h=`{${p.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(N_,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[ai]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{Xt(p),za(h)}}resolveInjectorInitializers(){const o=za(this),l=Xt(void 0);try{const d=this.get(zn.multi,Ot,bt.Self);for(const h of d)h()}finally{za(o),Xt(l)}}toString(){const o=[],l=this.records;for(const d of l.keys())o.push(fe(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processProvider(o){let l=_c(o=X(o))?o:X(o&&o.provide);const d=function Iy(s){return is(s)?Fu(void 0,s.useValue):Fu(gm(s),pm)}(o);if(_c(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=Fu(void 0,pm,!0),h.factory=()=>wo(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,d)}hydrate(o,l){return l.value===pm&&(l.value=$T,l.value=l.factory()),"object"==typeof l.value&&l.value&&function GT(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=X(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Mh(s){const o=sn(s),l=null!==o?o.factory:Ns(s);if(null!==l)return l;if(s instanceof mn)throw new Ne(204,!1);if(s instanceof Function)return function mm(s){const o=s.length;if(o>0)throw sc(o,"?"),new Ne(204,!1);const l=function di(s){const o=s&&(s[Kn]||s[In]);if(o){const l=function gn(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Ne(204,!1)}function gm(s,o,l){let d;if(_c(s)){const h=X(s);return Ns(h)||Mh(h)}if(is(s))d=()=>X(s.useValue);else if(function fm(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...wo(s.deps||[]));else if(function Ah(s){return!(!s||!s.useExisting)}(s))d=()=>li(X(s.useExisting));else{const h=X(s&&(s.useClass||s.provide));if(!function zT(s){return!!s.deps}(s))return Ns(h)||Mh(h);d=()=>new h(...wo(s.deps))}return d}function Fu(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function WT(s){return!!s.\u0275providers}function yc(s,o){for(const l of s)Array.isArray(l)?yc(l,o):WT(l)?yc(l.\u0275providers,o):o(l)}function Dy(s,o=null,l=null,d){const h=xh(s,o,l,d);return h.resolveInjectorInitializers(),h}function xh(s,o=null,l=null,d,h=new Set){const p=[l||Ot,Qt(s)];return d=d||("object"==typeof s?void 0:fe(s)),new Cy(p,o||rr(),d||null,h)}let Ws=(()=>{class s{static create(l,d){if(Array.isArray(l))return Dy({name:""},d,l,"");{const h=l.name??"";return Dy({name:h},l.parent,l.providers,h)}}}return s.THROW_IF_NOT_FOUND=ra,s.NULL=new by,s.\u0275prov=tn({token:s,providedIn:"any",factory:()=>li(vy)}),s.__NG_ELEMENT_ID__=-1,s})();function Bu(s,o=bt.Default){const l=Ge();return null===l?li(s,o):Na(Ii(),l,X(s),o)}function X0(){throw new Error("invalid")}function Rh(s,o){return s<<17|o<<2}function Do(s){return s>>17&32767}function iE(s){return 2|s}function Ks(s){return(131068&s)>>2}function rE(s,o){return-131069&s|o<<2}function wm(s){return 1|s}function Fh(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],p=l[d+1];if(-1!==p){const y=s.data[p];fu(h),y.contentQueries(2,o[p],p)}}}function Vh(s,o,l,d,h,p,y,w,C,T,A){const O=o.blueprint.slice();return O[0]=h,O[2]=76|d,(null!==A||s&&1024&s[2])&&(O[2]|=1024),Kl(O),O[3]=O[15]=s,O[8]=l,O[10]=y||s&&s[10],O[11]=w||s&&s[11],O[12]=C||s&&s[12]||null,O[9]=T||s&&s[9]||null,O[6]=p,O[20]=function dT(){return Y_++}(),O[21]=A,O[16]=2==o.type?s[16]:O,O}function rl(s,o,l,d,h){let p=s.data[o];if(null===p)p=function Zy(s,o,l,d,h){const p=qo(),y=cu(),C=s.data[o]=function Ar(s,o,l,d,h,p){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=C),null!==p&&(y?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}(s,o,l,d,h),function Kd(){return zt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=l,p.value=d,p.attrs=h;const y=function Wo(){const s=zt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Lr(p,!0),p}function Hu(s,o,l,d){if(0===l)return-1;const h=o.length;for(let p=0;p<l;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Bh(s,o,l){Zo(o);try{const d=s.viewQuery;null!==d&&ov(1,d,l);const h=s.template;null!==h&&Ki(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Fh(s,o),s.staticViewQueries&&ov(2,s.viewQuery,l);const p=s.components;null!==p&&function Lh(s,o){for(let l=0;l<o.length;l++)IS(s,o[l])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,mu()}}function gi(s,o,l,d){const h=o[2];if(128!=(128&h)){Zo(o);try{Kl(o),function Wd(s){return zt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Ki(s,o,l,2,d);const y=3==(3&h);if(y){const T=s.preOrderCheckHooks;null!==T&&Vs(o,T,null)}else{const T=s.preOrderHooks;null!==T&&ec(o,T,0,null),Mp(o,0)}if(function $h(s){for(let o=am(s);null!==o;o=Ih(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const h=l[d],p=h[3];0==(512&h[2])&&Ma(p,1),h[2]|=512}}}(o),function gr(s){for(let o=am(s);null!==o;o=Ih(o))for(let l=10;l<o.length;l++){const d=o[l],h=d[1];Wl(d)&&gi(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&Fh(s,o),y){const T=s.contentCheckHooks;null!==T&&Vs(o,T)}else{const T=s.contentHooks;null!==T&&ec(o,T,1),Mp(o,1)}!function en(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)Yo(~h);else{const p=h,y=l[++d],w=l[++d];Tp(y,p),w(2,o[p])}}}finally{Yo(-1)}}(s,o);const w=s.components;null!==w&&function Ky(s,o){for(let l=0;l<o.length;l++)CS(s,o[l])}(o,w);const C=s.viewQuery;if(null!==C&&ov(2,C,d),y){const T=s.viewCheckHooks;null!==T&&Vs(o,T)}else{const T=s.viewHooks;null!==T&&ec(o,T,2),Mp(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Ma(o[3],-1))}finally{mu()}}}function Cm(s,o,l,d){const h=o[10],y=Gd(o);try{!y&&h.begin&&h.begin(),y&&Bh(s,o,d),gi(s,o,l,d)}finally{!y&&h.end&&h.end()}}function Ki(s,o,l,d,h){const p=nr(),y=2&d;try{Yo(-1),y&&o.length>22&&q0(s,o,22,!1),l(d,h)}finally{Yo(p)}}function ua(s,o,l){if(Ul(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,l[p],p)}}}function Yy(s,o,l){!Yl()||(function ju(s,o,l,d){const h=l.directiveStart,p=l.directiveEnd;s.firstCreatePass||_s(l,o),Si(d,o);const y=l.initialInputs;for(let w=h;w<p;w++){const C=s.data[w],T=Er(C);T&&nv(o,l,C);const A=Bs(o,s,w,l);Si(A,o),null!==y&&rv(0,w-h,A,C,0,y),T&&(er(l.index,o)[8]=A)}}(s,o,l,fr(l,o)),128==(128&l.flags)&&function gE(s,o,l){const d=l.directiveStart,h=l.directiveEnd,p=l.index,y=function n0(){return zt.lFrame.currentDirectiveIndex}();try{Yo(p);for(let w=d;w<h;w++){const C=s.data[w],T=o[w];Xl(w),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Dm(C,T)}}finally{Yo(-1),Xl(y)}}(s,o,l))}function Qy(s,o,l=fr){const d=o.localNames;if(null!==d){let h=o.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?l(o,s):s[y];s[h++]=w}}}function Xy(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Uh(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Uh(s,o,l,d,h,p,y,w,C,T){const A=22+d,O=A+h,q=function bS(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:rn);return l}(A,O),ce="function"==typeof T?T():T;return q[1]={type:s,blueprint:q,template:l,queries:null,viewQuery:w,declTNode:o,data:q.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:ce,incompleteFirstPass:!1}}function ev(s,o,l,d){const h=xm(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&av(s).push(d,h.length-1))}function Im(s,o,l){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(o,h):l[d]=[o,h]}return l}function jr(s,o,l,d,h,p,y,w){const C=fr(o,l);let A,T=o.inputs;!w&&null!=T&&(A=T[d])?(km(s,l,A,d,h),Os(o)&&function tv(s,o){const l=er(o,s);16&l[2]||(l[2]|=32)}(l,o.index)):3&o.type&&(d=function hE(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,o.value||"",d):h,Xn(p)?p.setProperty(C,d,h):tc(d)||(C.setProperty?C.setProperty(d,h):C[d]=h))}function jh(s,o,l,d){let h=!1;if(Yl()){const p=function _E(s,o,l){const d=s.directiveRegistry;let h=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];Et(l,y.selectors,!1)&&(h||(h=[]),_o(_s(l,o),s,y.type),Er(y)?(yE(s,l),h.unshift(y)):h.push(y))}return h}(s,o,l),y=null===d?null:{"":-1};if(null!==p){h=!0,Sm(l,s.data.length,p.length);for(let A=0;A<p.length;A++){const O=p[A];O.providersResolver&&O.providersResolver(O)}let w=!1,C=!1,T=Hu(s,o,p.length,null);for(let A=0;A<p.length;A++){const O=p[A];l.mergedAttrs=nc(l.mergedAttrs,O.hostAttrs),Am(s,l,o,T,O),Tm(T,O,y),null!==O.contentQueries&&(l.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(l.flags|=128);const q=O.type.prototype;!w&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),w=!0),!C&&(q.ngOnChanges||q.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),C=!0),T++}!function Mr(s,o){const d=o.directiveEnd,h=s.data,p=o.attrs,y=[];let w=null,C=null;for(let T=o.directiveStart;T<d;T++){const A=h[T],O=A.inputs,q=null===p||$0(o)?null:bE(O,p);y.push(q),w=Im(O,T,w),C=Im(A.outputs,T,C)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=w,o.outputs=C}(s,l)}y&&function vE(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=l[o[h+1]];if(null==p)throw new Ne(-301,!1);d.push(o[h],p)}}}(l,d,y)}return l.mergedAttrs=nc(l.mergedAttrs,l.attrs),h}function mE(s,o,l,d,h,p){const y=p.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const C=~o.index;(function ES(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(w)!=C&&w.push(C),w.push(d,h,y)}}function Dm(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function yE(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Tm(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;Er(o)&&(l[""]=s)}}function Sm(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function Am(s,o,l,d,h){s.data[d]=h;const p=h.factory||(h.factory=Ns(h.type)),y=new Oa(p,Er(h),Bu);s.blueprint[d]=y,l[d]=y,mE(s,o,0,d,Hu(s,l,h.hostVars,rn),h)}function nv(s,o,l){const d=fr(o,s),h=Xy(l),p=s[10],y=bc(s,Vh(s,h,null,l.onPush?32:16,d,o,p,p.createRenderer(d,l),null,null,null));s[o.index]=y}function Ao(s,o,l,d,h,p){const y=fr(s,o);!function iv(s,o,l,d,h,p,y){if(null==p)Xn(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const w=null==y?Ie(p):y(p,d||"",h);Xn(s)?s.setAttribute(o,h,w,l):l?o.setAttributeNS(l,h,w):o.setAttribute(h,w)}}(o[11],y,p,s.value,l,d,h)}function rv(s,o,l,d,h,p){const y=p[o];if(null!==y){const w=d.setInput;for(let C=0;C<y.length;){const T=y[C++],A=y[C++],O=y[C++];null!==w?d.setInput(l,O,T,A):l[A]=O}}}function bE(s,o){let l=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return l}function wE(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function CS(s,o){const l=er(o,s);if(Wl(l)){const d=l[1];48&l[2]?gi(d,l,d.template,l[8]):l[5]>0&&vc(l)}}function vc(s){for(let d=am(s);null!==d;d=Ih(d))for(let h=10;h<d.length;h++){const p=d[h];if(512&p[2]){const y=p[1];gi(y,p,y.template,p[8])}else p[5]>0&&vc(p)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=er(l[d],s);Wl(h)&&h[5]>0&&vc(h)}}function IS(s,o){const l=er(o,s),d=l[1];(function DS(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),Bh(d,l,l[8])}function bc(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function $u(s){for(;s;){s[2]|=32;const o=Ch(s);if(Ww(s)&&!o)return s;s=o}return null}function Mm(s){!function zh(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],d=X_(l);if(null!==d){const h=d[1];Cm(h,d,h.template,l)}}}(s[8])}function ov(s,o,l){fu(0),o(s,l)}const EE=(()=>Promise.resolve(null))();function xm(s){return s[7]||(s[7]=[])}function av(s){return s.cleanup||(s.cleanup=[])}function CE(s,o,l){return(null===s||Er(s))&&(l=function ou(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}function Rm(s,o){const l=s[9],d=l?l.get(Ru,null):null;d&&d.handleError(o)}function km(s,o,l,d,h){for(let p=0;p<l.length;){const y=l[p++],w=l[p++],C=o[y],T=s.data[y];null!==T.setInput?T.setInput(C,h,d,w):C[w]=h}}function Zs(s,o,l){const d=Fs(o,s);!function cm(s,o,l){Xn(s)?s.setValue(o,l):o.textContent=l}(s[11],d,l)}function Ei(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?p=w:1==p?h=we(h,w):2==p&&(d=we(d,w+": "+o[++y]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}function RE(){const s=Ii();Xo(Ge()[1],s)}function wc(s){let o=function bv(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(Er(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ne(903,!1);h=o.\u0275dir}if(h){if(l){d.push(h);const y=s;y.inputs=or(s.inputs),y.declaredInputs=or(s.declaredInputs),y.outputs=or(s.outputs);const w=h.hostBindings;w&&Pm(s,w);const C=h.viewQuery,T=h.contentQueries;if(C&&OE(s,C),T&&Zh(s,T),se(s.inputs,h.inputs),se(s.declaredInputs,h.declaredInputs),se(s.outputs,h.outputs),Er(h)&&h.data.animation){const A=s.data;A.animation=(A.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===wc&&(l=!1)}}o=Object.getPrototypeOf(o)}!function kE(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=nc(h.hostAttrs,l=nc(l,h.hostAttrs))}}(d)}function or(s){return s===Ln?{}:s===Ot?[]:s}function OE(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function Zh(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,p)=>{o(d,h,p),l(d,h,p)}:o}function Pm(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}let Yh=null;function Qs(){if(!Yh){const s=et.Symbol;if(s&&s.iterator)Yh=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Yh=d)}}}return Yh}function Ec(s){return!!Cc(s)&&(Array.isArray(s)||!(s instanceof Map)&&Qs()in s)}function Cc(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Vi(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Fm(s,o,l,d){const h=Ge();return Vi(h,fo(),o)&&(pn(),Ao(hi(),h,s,o,l,d)),Fm}function xo(s,o,l,d){return Vi(s,fo(),l)?o+Ie(l)+d:rn}function Iv(s,o,l,d,h,p,y,w){const C=Ge(),T=pn(),A=s+22,O=T.firstCreatePass?function Vm(s,o,l,d,h,p,y,w,C){const T=o.consts,A=rl(o,s,4,y||null,Cr(T,w));jh(o,l,A,Cr(T,C)),Xo(o,A);const O=A.tViews=Uh(2,A,d,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,A),O.queries=o.queries.embeddedTView(A)),A}(A,T,C,o,l,d,h,p,y):T.data[A];Lr(O,!1);const q=C[11].createComment("");um(T,C,q,O),Si(q,C),bc(C,C[A]=wE(q,C,q,O)),Hl(O)&&Yy(T,C,O),null!=y&&Qy(C,O,w)}function ef(s){return gs(function D_(){return zt.lFrame.contextLView}(),22+s)}function Dv(s,o,l){const d=Ge();return Vi(d,fo(),o)&&jr(pn(),hi(),d,s,o,d[11],l,!1),Dv}function Tv(s,o,l,d,h){const y=h?"class":"style";km(s,l,o.inputs[y],y,d)}function ul(s,o,l,d){const h=Ge(),p=pn(),y=22+s,w=h[11],C=h[y]=iy(w,o,function o0(){return zt.lFrame.currentNamespace}()),T=p.firstCreatePass?function tf(s,o,l,d,h,p,y){const w=o.consts,T=rl(o,s,2,h,Cr(w,p));return jh(o,l,T,Cr(w,y)),null!==T.attrs&&Ei(T,T.attrs,!1),null!==T.mergedAttrs&&Ei(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(y,p,h,0,o,l,d):p.data[y];Lr(T,!0);const A=T.mergedAttrs;null!==A&&gu(w,C,A);const O=T.classes;null!==O&&H0(w,C,O);const q=T.styles;return null!==q&&U0(w,C,q),64!=(64&T.flags)&&um(p,h,C,T),0===function Zl(){return zt.lFrame.elementDepthCount}()&&Si(C,h),function xa(){zt.lFrame.elementDepthCount++}(),Hl(T)&&(Yy(p,h,T),ua(p,T,h)),null!==d&&Qy(h,T),ul}function Bm(){let s=Ii();cu()?uu():(s=s.parent,Lr(s,!1));const o=s;!function Ip(){zt.lFrame.elementDepthCount--}();const l=pn();return l.firstCreatePass&&(Xo(l,s),Ul(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function c0(s){return 0!=(16&s.flags)}(o)&&Tv(l,o,Ge(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function u0(s){return 0!=(32&s.flags)}(o)&&Tv(l,o,Ge(),o.stylesWithoutHost,!1),Bm}function Um(s,o,l,d){return ul(s,o,l,d),Bm(),Um}function Hm(s,o,l){const d=Ge(),h=pn(),p=s+22,y=h.firstCreatePass?function RS(s,o,l,d,h){const p=o.consts,y=Cr(p,d),w=rl(o,s,8,"ng-container",y);return null!==y&&Ei(w,y,!0),jh(o,l,w,Cr(p,h)),null!==o.queries&&o.queries.elementStart(o,w),w}(p,h,d,o,l):h.data[p];Lr(y,!0);const w=d[p]=d[11].createComment("");return um(h,d,w,y),Si(w,d),Hl(y)&&(Yy(h,d,y),ua(h,y,d)),null!=l&&Qy(d,y),Hm}function jm(){let s=Ii();const o=pn();return cu()?uu():(s=s.parent,Lr(s,!1)),o.firstCreatePass&&(Xo(o,s),Ul(s)&&o.queries.elementEnd(s)),jm}function qu(){return Ge()}function Oo(s){return!!s&&"function"==typeof s.then}function Sv(s){return!!s&&"function"==typeof s.subscribe}const Av=Sv;function $m(s,o,l,d){const h=Ge(),p=pn(),y=Ii();return UE(p,h,h[11],y,s,o,!!l,d),$m}function dl(s,o){const l=Ii(),d=Ge(),h=pn();return UE(h,d,CE(Zd(h.data),l,d),l,s,o,!1),dl}function UE(s,o,l,d,h,p,y,w){const C=Hl(d),A=s.firstCreatePass&&av(s),O=o[8],q=xm(o);let ce=!0;if(3&d.type||w){const lt=fr(d,o),yt=w?w(lt):lt,Pt=q.length,qe=w?Mt=>w(ni(Mt[d.index])):d.index;if(Xn(l)){let Mt=null;if(!w&&C&&(Mt=function kS(s,o,l,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===l&&h[p+1]===d){const w=o[7],C=h[p+2];return w.length>C?w[C]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,d.index)),null!==Mt)(Mt.__ngLastListenerFn__||Mt).__ngNextListenerFn__=p,Mt.__ngLastListenerFn__=p,ce=!1;else{p=xv(d,o,O,p,!1);const bn=l.listen(yt,h,p);q.push(p,bn),A&&A.push(h,qe,Pt,Pt+1)}}else p=xv(d,o,O,p,!0),yt.addEventListener(h,p,y),q.push(p),A&&A.push(h,qe,Pt,y)}else p=xv(d,o,O,p,!1);const Fe=d.outputs;let Ze;if(ce&&null!==Fe&&(Ze=Fe[h])){const lt=Ze.length;if(lt)for(let yt=0;yt<lt;yt+=2){const Jn=o[Ze[yt]][Ze[yt+1]].subscribe(p),Ea=q.length;q.push(p,Jn),A&&A.push(h,d.index,Ea,-(Ea+1))}}}function Mv(s,o,l,d){try{return!1!==l(d)}catch(h){return Rm(s,h),!1}}function xv(s,o,l,d,h){return function p(y){if(y===Function)return d;$u(2&s.flags?er(s.index,o):o);let C=Mv(o,0,d,y),T=p.__ngNextListenerFn__;for(;T;)C=Mv(o,0,T,y)&&C,T=T.__ngNextListenerFn__;return h&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function Rv(s=1){return function S_(s){return(zt.lFrame.contextLView=function ka(s,o){for(;s>0;)o=o[15],s--;return o}(s,zt.lFrame.contextLView))[8]}(s)}function HE(s,o){let l=null;const d=function zs(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===d?Et(s,p,!0):Ja(d,p))return h}else l=h}return l}function zm(s){const o=Ge()[16][6];if(!o.projection){const d=o.projection=sc(s?s.length:1,null),h=d.slice();let p=o.child;for(;null!==p;){const y=s?HE(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:d[y]=p,h[y]=p),p=p.next}}}function Gm(s,o=0,l){const d=Ge(),h=pn(),p=rl(h,22+s,16,null,l||null);null===p.projection&&(p.projection=o),uu(),64!=(64&p.flags)&&function fy(s,o,l){V0(o[11],0,o,l,k0(s,l,o),Xa(l.parent||o[6],l,o))}(h,d,p)}function qm(s,o,l){return nf(s,"",o,"",l),qm}function nf(s,o,l,d,h){const p=Ge(),y=xo(p,o,l,d);return y!==rn&&jr(pn(),hi(),p,s,y,p[11],h,!1),nf}function GE(s,o,l,d,h){const p=s[l+1],y=null===o;let w=d?Do(p):Ks(p),C=!1;for(;0!==w&&(!1===C||y);){const A=s[w+1];Mi(s[w],o)&&(C=!0,s[w+1]=d?wm(A):iE(A)),w=d?Do(A):Ks(A)}C&&(s[l+1]=d?iE(p):wm(p))}function Mi(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ta(s,o)>=0}function Qm(s,o,l){return Xs(s,o,l,!1),Qm}function cf(s,o){return Xs(s,o,null,!0),cf}function Xs(s,o,l,d){const h=Ge(),p=pn(),y=function Ls(s){const o=zt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}(2);p.firstUpdatePass&&function Fv(s,o,l,d){const h=s.data;if(null===h[l+1]){const p=h[nr()],y=function Ku(s,o){return o>=s.expandoStartIndex}(s,l);(function $r(s,o){return 0!=(s.flags&(o?16:32))})(p,d)&&null===o&&!y&&(o=!1),o=function QE(s,o,l,d){const h=Zd(s);let p=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=Yu(l=Zu(null,s,o,l,d),o.attrs,d),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(l=Zu(h,s,o,l,d),null===p){let C=function Lv(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==Ks(d))return s[Do(d)]}(s,o,d);void 0!==C&&Array.isArray(C)&&(C=Zu(null,s,o,C[1],d),C=Yu(C,o.attrs,d),function Vv(s,o,l,d){s[Do(l?o.classBindings:o.styleBindings)]=d}(s,o,d,C))}else p=function XE(s,o,l){let d;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)d=Yu(d,s[p].hostAttrs,l);return Yu(d,o.attrs,l)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),l}(h,p,o,d),function af(s,o,l,d,h,p){let y=p?o.classBindings:o.styleBindings,w=Do(y),C=Ks(y);s[d]=l;let A,T=!1;if(Array.isArray(l)){const O=l;A=O[1],(null===A||ta(O,A)>0)&&(T=!0)}else A=l;if(h)if(0!==C){const q=Do(s[w+1]);s[d+1]=Rh(q,w),0!==q&&(s[q+1]=rE(s[q+1],d)),s[w+1]=function hk(s,o){return 131071&s|o<<17}(s[w+1],d)}else s[d+1]=Rh(w,0),0!==w&&(s[w+1]=rE(s[w+1],d)),w=d;else s[d+1]=Rh(C,0),0===w?w=d:s[C+1]=rE(s[C+1],d),C=d;T&&(s[d+1]=iE(s[d+1])),GE(s,A,d,!0),GE(s,A,d,!1),function lf(s,o,l,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&ta(p,o)>=0&&(l[d+1]=wm(l[d+1]))}(o,A,s,d,p),y=Rh(w,C),p?o.classBindings=y:o.styleBindings=y}(h,p,o,l,y,d)}}(p,s,y,d),o!==rn&&Vi(h,y,o)&&function Bv(s,o,l,d,h,p,y,w){if(!(3&o.type))return;const C=s.data,T=C[w+1];uf(function sE(s){return 1==(1&s)}(T)?Uv(C,o,l,h,Ks(T),y):void 0)||(uf(p)||function nE(s){return 2==(2&s)}(T)&&(p=Uv(C,null,l,h,w,y)),function B0(s,o,l,d,h){const p=Xn(s);if(o)h?p?s.addClass(l,d):l.classList.add(d):p?s.removeClass(l,d):l.classList.remove(d);else{let y=-1===d.indexOf("-")?void 0:$s.DashCase;if(null==h)p?s.removeStyle(l,d,y):l.style.removeProperty(d);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),y|=$s.Important),p?s.setStyle(l,d,h,y):l.style.setProperty(d,h,w?"important":"")}}}(d,y,Fs(nr(),l),h,p))}(p,p.data[nr()],h,h[11],s,h[y+1]=function Xm(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(Br(s)))),s}(o,l),d,y)}function Zu(s,o,l,d,h){let p=null;const y=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<y&&(p=o[w],d=Yu(d,p.hostAttrs,h),p!==s);)w++;return null!==s&&(l.directiveStylingLast=w),d}function Yu(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Gi(s,y,!!l||o[++p]))}return void 0===s?null:s}function Uv(s,o,l,d,h,p){const y=null===o;let w;for(;h>0;){const C=s[h],T=Array.isArray(C),A=T?C[1]:C,O=null===A;let q=l[h+1];q===rn&&(q=O?Ot:void 0);let ce=O?wu(q,d):A===d?q:void 0;if(T&&!uf(ce)&&(ce=wu(C,d)),uf(ce)&&(w=ce,y))return w;const Fe=s[h+1];h=y?Do(Fe):Ks(Fe)}if(null!==o){let C=p?o.residualClasses:o.residualStyles;null!=C&&(w=wu(C,d))}return w}function uf(s){return void 0!==s}function Hv(s,o=""){const l=Ge(),d=pn(),h=s+22,p=d.firstCreatePass?rl(d,h,1,o,null):d.data[h],y=l[h]=function lm(s,o){return Xn(s)?s.createText(o):s.createTextNode(o)}(l[11],o);um(d,l,y,p),Lr(p,!1)}function Jm(s){return ma("",s,""),Jm}function ma(s,o,l){const d=Ge(),h=xo(d,s,o,l);return h!==rn&&Zs(d,nr(),h),ma}function Wv(s,o,l){const d=Ge();return Vi(d,fo(),o)&&jr(pn(),hi(),d,s,o,d[11],l,!0),Wv}function tg(s,o,l){const d=Ge();if(Vi(d,fo(),o)){const p=pn(),y=hi();jr(p,y,d,s,o,CE(Zd(p.data),y,d),l,!0)}return tg}const qt=void 0;var fC=["en",[["a","p"],["AM","PM"],qt],[["AM","PM"],qt,qt],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qt,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qt,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qt,"{1} 'at' {0}",qt],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Xu(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Pn={};function Sc(s){const o=function Kv(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=_i(o);if(l)return l;const d=o.split("-")[0];if(l=_i(d),l)return l;if("en"===d)return fC;throw new Error(`Missing locale data for the locale "${s}".`)}function pC(s){return Sc(s)[Ft.PluralCase]}function _i(s){return s in Pn||(Pn[s]=et.ng&&et.ng.common&&et.ng.common.locales&&et.ng.common.locales[s]),Pn[s]}var Ft=(()=>((Ft=Ft||{})[Ft.LocaleId=0]="LocaleId",Ft[Ft.DayPeriodsFormat=1]="DayPeriodsFormat",Ft[Ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ft[Ft.DaysFormat=3]="DaysFormat",Ft[Ft.DaysStandalone=4]="DaysStandalone",Ft[Ft.MonthsFormat=5]="MonthsFormat",Ft[Ft.MonthsStandalone=6]="MonthsStandalone",Ft[Ft.Eras=7]="Eras",Ft[Ft.FirstDayOfWeek=8]="FirstDayOfWeek",Ft[Ft.WeekendRange=9]="WeekendRange",Ft[Ft.DateFormat=10]="DateFormat",Ft[Ft.TimeFormat=11]="TimeFormat",Ft[Ft.DateTimeFormat=12]="DateTimeFormat",Ft[Ft.NumberSymbols=13]="NumberSymbols",Ft[Ft.NumberFormats=14]="NumberFormats",Ft[Ft.CurrencyCode=15]="CurrencyCode",Ft[Ft.CurrencySymbol=16]="CurrencySymbol",Ft[Ft.CurrencyName=17]="CurrencyName",Ft[Ft.Currencies=18]="Currencies",Ft[Ft.Directionality=19]="Directionality",Ft[Ft.PluralCase=20]="PluralCase",Ft[Ft.ExtraData=21]="ExtraData",Ft))();const Po="en-US";let Zv=Po;function wl(s,o,l,d,h){if(s=X(s),Array.isArray(s))for(let p=0;p<s.length;p++)wl(s[p],o,l,d,h);else{const p=pn(),y=Ge();let w=_c(s)?s:X(s.provide),C=gm(s);const T=Ii(),A=1048575&T.providerIndexes,O=T.directiveStart,q=T.providerIndexes>>20;if(_c(s)||!s.multi){const ce=new Oa(C,h,Bu),Fe=cg(w,o,h?A:A+q,O);-1===Fe?(_o(_s(T,y),p,w),lb(p,s,o.length),o.push(w),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),l.push(ce),y.push(ce)):(l[Fe]=ce,y[Fe]=ce)}else{const ce=cg(w,o,A+q,O),Fe=cg(w,o,A,A+q),Ze=ce>=0&&l[ce],lt=Fe>=0&&l[Fe];if(h&&!lt||!h&&!Ze){_o(_s(T,y),p,w);const yt=function QS(s,o,l,d,h){const p=new Oa(s,l,Bu);return p.multi=[],p.index=o,p.componentProviders=0,cb(p,h,d&&!l),p}(h?PC:_a,l.length,h,d,C);!h&&lt&&(l[Fe].providerFactory=yt),lb(p,s,o.length,0),o.push(w),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),l.push(yt),y.push(yt)}else lb(p,s,ce>-1?ce:Fe,cb(l[h?Fe:ce],C,!h&&d));!h&&d&&lt&&l[Fe].componentProviders++}}}function lb(s,o,l,d){const h=_c(o),p=function jT(s){return!!s.useClass}(o);if(h||p){const C=(p?X(o.useClass):o).prototype.ngOnDestroy;if(C){const T=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const A=T.indexOf(l);-1===A?T.push(l,[d,C]):T[A+1].push(d,C)}else T.push(l,C)}}}function cb(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function cg(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function _a(s,o,l,d){return El(this.multi,[])}function PC(s,o,l,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Bs(l,l[1],this.providerFactory.index,d);p=w.slice(0,y),El(h,p);for(let C=y;C<w.length;C++)p.push(w[C])}else p=[],El(h,p);return p}function El(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function ug(s,o=[]){return l=>{l.providersResolver=(d,h)=>function bl(s,o,l){const d=pn();if(d.firstCreatePass){const h=Er(s);wl(l,d.data,d.blueprint,h,!0),wl(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class Rs{resolveComponentFactory(o){throw function ub(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let id=(()=>{class s{}return s.NULL=new Rs,s})();class eo{}class db{}class hg{}function NC(){return Rc(Ii(),Ge())}function Rc(s,o){return new wf(fr(s,o))}let wf=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=NC,s})();function FC(s){return s instanceof wf?s.nativeElement:s}class fb{}let fg=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function eA(){const s=Ge(),l=er(Ii().index,s);return function JS(s){return s[11]}(dr(l)?l:s)}(),s})(),LC=(()=>{class s{}return s.\u0275prov=tn({token:s,providedIn:"root",factory:()=>null}),s})();class kc{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Cl=new kc("14.0.3"),pg={};function Fo(s,o,l,d,h=!1){for(;null!==l;){const p=o[l.index];if(null!==p&&d.push(ni(p)),hr(p))for(let w=10;w<p.length;w++){const C=p[w],T=C[1].firstChild;null!==T&&Fo(C[1],C,T,d)}const y=l.type;if(8&y)Fo(s,o,l.child,d);else if(32&y){const w=Eh(l,o);let C;for(;C=w();)d.push(C)}else if(16&y){const w=F0(o,l);if(Array.isArray(w))d.push(...w);else{const C=Ch(o[16]);Fo(C[1],C,w,d,!0)}}l=h?l.projectionNext:l.next}return d}class rd{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Fo(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(hr(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(ry(o,d),ja(l,d))}this._attachedToViewContainer=!1}sy(this._lView[1],this._lView)}onDestroy(o){ev(this._lView[1],this._lView,null,o)}markForCheck(){$u(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Gh(s,o,l){const d=o[10];d.begin&&d.begin();try{gi(s,o,s.template,l)}catch(h){throw Rm(o,h),h}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function MT(s,o){Th(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ne(902,!1);this._appRef=o}}class sd extends rd{constructor(o){super(o),this._view=o}detectChanges(){Mm(this._view)}checkNoChanges(){}get context(){return null}}class mg extends id{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=V(o);return new mb(l,this.ngModule)}}function pb(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class tA{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,d){const h=this.injector.get(o,pg,d);return h!==pg||l===pg?h:this.parentInjector.get(o,l,d)}}class mb extends hg{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function gy(s){return s.map(LT).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return pb(this.componentDef.inputs)}get outputs(){return pb(this.componentDef.outputs)}create(o,l,d,h){let p=(h=h||this.ngModule)instanceof ca?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new tA(o,p):o,w=y.get(fb,su),C=y.get(LC,null),T=w.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",O=d?function Hh(s,o,l){if(Xn(s))return s.selectRootElement(o,l===$t.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(T,d,this.componentDef.encapsulation):iy(w.createRenderer(null,this.componentDef),A,function Ef(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),q=this.componentDef.onPush?288:272,ce=function sl(s,o){return{components:[],scheduler:s||vT,clean:EE,playerHandler:o||null,flags:0}}(),Fe=Uh(0,null,null,1,0,null,null,null,null,null),Ze=Vh(null,Fe,ce,q,null,null,w,T,C,y,null);let lt,yt;Zo(Ze);try{const Pt=function ME(s,o,l,d,h,p){const y=l[1];l[22]=s;const C=rl(y,22,2,"#host",null),T=C.mergedAttrs=o.hostAttrs;null!==T&&(Ei(C,T,!0),null!==s&&(gu(h,s,T),null!==C.classes&&H0(h,s,C.classes),null!==C.styles&&U0(h,s,C.styles)));const A=d.createRenderer(s,o),O=Vh(l,Xy(o),null,o.onPush?32:16,l[22],C,d,A,p||null,null,null);return y.firstCreatePass&&(_o(_s(C,l),y,o.type),yE(y,C),Sm(C,l.length,1)),bc(l,O),l[22]=O}(O,this.componentDef,Ze,w,T);if(O)if(d)gu(T,O,["ng-version",Cl.full]);else{const{attrs:qe,classes:Mt}=function VT(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++d]):8===h&&l.push(p);else{if(!Is(h))break;h=p}d++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);qe&&gu(T,O,qe),Mt&&Mt.length>0&&H0(T,O,Mt.join(" "))}if(yt=ql(Fe,22),void 0!==l){const qe=yt.projection=[];for(let Mt=0;Mt<this.ngContentSelectors.length;Mt++){const bn=l[Mt];qe.push(null!=bn?Array.from(bn):null)}}lt=function xE(s,o,l,d,h){const p=l[1],y=function pE(s,o,l){const d=Ii();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Am(s,d,o,Hu(s,o,1,null),l));const h=Bs(o,s,d.directiveStart,d);Si(h,o);const p=fr(d,o);return p&&Si(p,o),h}(p,l,o);if(d.components.push(y),s[8]=y,null!==h)for(const C of h)C(y,o);if(o.contentQueries){const C=Ii();o.contentQueries(1,y,C.directiveStart)}const w=Ii();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Yo(w.index),mE(l[1],w,0,w.directiveStart,w.directiveEnd,o),Dm(o,y)),y}(Pt,this.componentDef,Ze,ce,[RE]),Bh(Fe,Ze,null)}finally{mu()}return new gg(this.componentType,lt,Rc(yt,Ze),Ze,yt)}}class gg extends class hb{}{constructor(o,l,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=l,this.hostView=this.changeDetectorRef=new sd(h),this.componentType=o}get injector(){return new Va(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function VC(s,o){return new BC(s,o??null)}class BC extends eo{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new mg(this);const d=Ye(o);this._bootstrapComponents=Io(d.bootstrap),this._r3Injector=xh(o,l,[{provide:eo,useValue:this},{provide:id,useValue:this.componentFactoryResolver}],fe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(o)}get(o,l=Ws.THROW_IF_NOT_FOUND,d=bt.Default){return o===Ws||o===eo||o===vy?this:this._r3Injector.get(o,l,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Oc extends db{constructor(o){super(),this.moduleType=o}create(o){return new BC(this.moduleType,o)}}class nA extends eo{constructor(o,l,d){super(),this.componentFactoryResolver=new mg(this),this.instance=null;const h=new Cy([...o,{provide:eo,useValue:this},{provide:id,useValue:this.componentFactoryResolver}],l||rr(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function _g(s,o=null,l=null){return new nA(s,o,l).injector}function _b(s,o,l,d){return Rr(Ge(),tr(),s,o,l,d)}function Rr(s,o,l,d,h,p){const y=o+l;return Vi(s,y,h)?function Mo(s,o,l){return s[o]=l}(s,y+1,p?d.call(p,h):d(h)):function Cf(s,o){const l=s[o];return l===rn?void 0:l}(s,y+1)}function wb(s,o){const l=pn();let d;const h=s+22;l.firstCreatePass?(d=function If(s,o){if(o)for(let l=o.length-1;l>=0;l--){const d=o[l];if(s===d.name)return d}}(o,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const p=d.factory||(d.factory=Ns(d.type)),y=Xt(Bu);try{const w=fi(!1),C=p();return fi(w),function ri(s,o,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=d}(l,Ge(),h,C),C}finally{Xt(y)}}function zC(s,o,l){const d=s+22,h=Ge(),p=gs(h,d);return function va(s,o){return s[1].data[o].pure}(h,d)?Rr(h,tr(),o,p.transform,l,p):p.transform(l)}function bg(s){return o=>{setTimeout(s,void 0,o)}}const no=class vg extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){let h=o,p=l||(()=>null),y=d;if(o&&"object"==typeof o){const C=o;h=C.next?.bind(C),p=C.error?.bind(C),y=C.complete?.bind(C)}this.__isAsync&&(p=bg(p),h&&(h=bg(h)),y&&(y=bg(y)));const w=super.subscribe({next:h,error:p,complete:y});return o instanceof F.w0&&o.add(w),w}};function GC(){return this._results[Qs()]()}class wg{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Qs(),d=wg.prototype;d[l]||(d[l]=GC)}get changes(){return this._changes||(this._changes=new no)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=ir(o);(this._changesDetected=!function Up(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=o[d];if(l&&(h=l(h),p=l(p)),p!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let cd=(()=>{class s{}return s.__NG_ELEMENT_ID__=oA,s})();const qC=cd,sA=class extends qC{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o,l){const d=this._declarationTContainer.tViews,h=Vh(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(d)),Bh(d,h,o),new rd(h)}};function oA(){return Eg(Ii(),Ge())}function Eg(s,o){return 4&s.type?new sA(o,s,Rc(s,o)):null}let Dl=(()=>{class s{}return s.__NG_ELEMENT_ID__=WC,s})();function WC(){return ud(Ii(),Ge())}const aA=Dl,Ui=class extends aA{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return Rc(this._hostTNode,this._hostLView)}get injector(){return new Va(this._hostTNode,this._hostLView)}get parentInjector(){const o=yu(this._hostTNode,this._hostLView);if(Rn(o)){const l=Bt(o,this._hostLView),d=Xr(o);return new Va(l[1].data[d+8],l)}return new Va(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Cg(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const y=o.createEmbeddedView(l||{},p);return this.insert(y,h),y}createComponent(o,l,d,h,p){const y=o&&!function ys(s){return"function"==typeof s}(o);let w;if(y)w=l;else{const O=l||{};w=O.index,d=O.injector,h=O.projectableNodes,p=O.environmentInjector||O.ngModuleRef}const C=y?o:new mb(V(o)),T=d||this.parentInjector;if(!p&&null==C.ngModule){const q=(y?T:this.parentInjector).get(ca,null);q&&(p=q)}const A=C.create(T,h,void 0,p);return this.insert(A.hostView,w),A}insert(o,l){const d=o._lView,h=d[1];if(function Cp(s){return hr(s[3])}(d)){const A=this.indexOf(o);if(-1!==A)this.detach(A);else{const O=d[3],q=new Ui(O,O[6],O[3]);q.detach(q.indexOf(o))}}const p=this._adjustIndex(l),y=this._lContainer;!function RT(s,o,l,d){const h=10+d,p=l.length;d>0&&(l[h-1][4]=o),d<p-10?(o[4]=l[h],vo(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const y=o[17];null!==y&&l!==y&&function kT(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(y,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=64}(h,d,y,p);const w=hm(p,y),C=d[11],T=Pu(C,y[7]);return null!==T&&function AT(s,o,l,d,h,p){d[0]=h,d[6]=o,Th(s,d,l,1,h,p)}(h,y[6],C,d,T,w),o.attachToViewContainerRef(),vo(Ig(y),p,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Cg(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=ry(this._lContainer,l);d&&(ja(Ig(this._lContainer),l),sy(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=ry(this._lContainer,l);return d&&null!=ja(Ig(this._lContainer),l)?new rd(d):null}_adjustIndex(o,l=0){return o??this.length+l}};function Cg(s){return s[8]}function Ig(s){return s[8]||(s[8]=[])}function ud(s,o){let l;const d=o[s.index];if(hr(d))l=d;else{let h;if(8&s.type)h=ni(d);else{const p=o[11];h=p.createComment("");const y=fr(s,o);gc(p,Pu(p,y),h,function nk(s,o){return Xn(s)?s.nextSibling(o):o.nextSibling}(p,y),!1)}o[s.index]=l=wE(d,o,h,s),bc(o,l)}return new Ui(l,s,o)}class Pc{constructor(o){this.queryList=o,this.matches=null}clone(){return new Pc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Dg{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let p=0;p<d;p++){const y=l.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new Dg(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==YC(o,l).matches&&this.queries[l].setDirty()}}class Cb{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class Tg{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,p=this.getByIndex(d).embeddedTView(o,h);p&&(p.indexInDeclarationView=d,null!==l?l.push(p):l=[p])}return null!==l?new Tg(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Ib{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Ib(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(o,l,cA(l,p)),this.matchTNodeWithReadOption(o,l,Ir(l,o,p,!1,!1))}else d===cd?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Ir(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===wf||h===Dl||h===cd&&4&l.type)this.addMatch(l.index,-2);else{const p=Ir(l,o,h,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function cA(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function Db(s,o,l,d){return-1===l?function Tf(s,o){return 11&s.type?Rc(s,o):4&s.type?Eg(s,o):null}(o,s):-2===l?function uA(s,o,l){return l===wf?Rc(o,s):l===cd?Eg(o,s):l===Dl?ud(o,s):void 0}(s,o,d):Bs(s,s[1],l,o)}function Tb(s,o,l,d){const h=o[19].queries[d];if(null===h.matches){const p=s.data,y=l.matches,w=[];for(let C=0;C<y.length;C+=2){const T=y[C];w.push(T<0?null:Db(o,p[T],y[C+1],l.metadata.read))}h.matches=w}return h.matches}function Sg(s,o,l,d){const h=s.queries.getByIndex(l),p=h.matches;if(null!==p){const y=Tb(s,o,h,l);for(let w=0;w<p.length;w+=2){const C=p[w];if(C>0)d.push(y[w/2]);else{const T=p[w+1],A=o[-C];for(let O=10;O<A.length;O++){const q=A[O];q[17]===q[3]&&Sg(q[1],q,T,d)}if(null!==A[9]){const O=A[9];for(let q=0;q<O.length;q++){const ce=O[q];Sg(ce[1],ce,T,d)}}}}}return d}function Sb(s){const o=Ge(),l=pn(),d=hu();fu(d+1);const h=YC(l,d);if(s.dirty&&Gd(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Sg(l,o,d,[]):Tb(l,o,h,d);s.reset(p,FC),s.notifyOnChanges()}return!0}return!1}function KC(s,o,l){const d=pn();d.firstCreatePass&&(Fc(d,new Cb(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),Nc(d,Ge(),o)}function Ab(s,o,l,d){const h=pn();if(h.firstCreatePass){const p=Ii();Fc(h,new Cb(o,l,d),p.index),function hA(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}Nc(h,Ge(),l)}function ZC(){return function dA(s,o){return s[19].queries[o].queryList}(Ge(),hu())}function Nc(s,o,l){const d=new wg(4==(4&l));ev(s,o,d,d.destroy),null===o[19]&&(o[19]=new Dg),o[19].queries.push(new Pc(d))}function Fc(s,o,l){null===s.queries&&(s.queries=new Tg),s.queries.track(new Ib(o,l))}function YC(s,o){return s.queries.getByIndex(o)}function QC(s,o){return Eg(s,o)}function dd(s){const o=V(s)||j(s)||_e(s);return null!==o&&o.standalone}function Rf(...s){}const lI=new mn("Application Initializer");let pd=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Rf,this.reject=Rf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Oo(p))l.push(p);else if(Av(p)){const y=new Promise((w,C)=>{p.subscribe({complete:w,error:C})});l.push(y)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(li(lI,8))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const kf=new mn("AppId",{providedIn:"root",factory:function cI(){return`${Bc()}${Bc()}${Bc()}`}});function Bc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Of=new mn("Platform Initializer"),Pf=new mn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Hb=new mn("appBootstrapListener"),Gr=new mn("AnimationModuleType");let uI=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Uc=new mn("LocaleId",{providedIn:"root",factory:()=>ah(Uc,bt.Optional|bt.SkipSelf)||function Pg(){return typeof $localize<"u"&&$localize.locale||Po}()}),dI=new mn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class jc{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let SA=(()=>{class s{compileModuleSync(l){return new Oc(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),p=Io(Ye(l).declarations).reduce((y,w)=>{const C=V(w);return C&&y.push(new mb(C)),y},[]);return new jc(d,p)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const xl=(()=>Promise.resolve(0))();function Ng(s){typeof Zone>"u"?xl.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class as{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new no(!1),this.onMicrotaskEmpty=new no(!1),this.onStable=new no(!1),this.onError=new no(!1),typeof Zone>"u")throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function MA(){let s=et.requestAnimationFrame,o=et.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function hI(s){const o=()=>{!function Fg(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(et,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,$b(s),s.isCheckStableRunning=!0,jb(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),$b(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,p,y,w)=>{try{return zb(s),l.invokeTask(h,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),fI(s)}},onInvoke:(l,d,h,p,y,w,C)=>{try{return zb(s),l.invoke(h,p,y,w,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),fI(s)}},onHasTask:(l,d,h,p)=>{l.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,$b(s),jb(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,d,h,p)=>(l.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!as.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(as.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,xA,Rf,Rf);try{return p.runTask(y,l,d)}finally{p.cancelTask(y)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const xA={};function jb(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function $b(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function zb(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function fI(s){s._nesting--,jb(s)}class pI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new no,this.onMicrotaskEmpty=new no,this.onStable=new no,this.onError=new no}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}const Rl=new mn(""),gd=new mn("");let Lg,mI=(()=>{class s{constructor(l,d,h){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Lg||(function RA(s){Lg=s}(h),h.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{as.assertNotInAngularZone(),Ng(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ng(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:p,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(li(as),li(Gb),li(gd))},s.\u0275prov=tn({token:s,factory:s.\u0275fac}),s})(),Gb=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return Lg?.findTestabilityInTree(this,l,d)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),kl=null;const gI=new mn("AllowMultipleToken"),Vg=new mn("PlatformOnDestroy");class PA{constructor(o,l){this.name=o,this.token=l}}function qb(s,o,l=[]){const d=`Platform: ${o}`,h=new mn(d);return(p=[])=>{let y=_d();if(!y||y.injector.get(gI,!1)){const w=[...l,...p,{provide:h,useValue:!0}];s?s(w):function _I(s){if(kl&&!kl.get(gI,!1))throw new Ne(400,!1);kl=s;const o=s.get(Hg);(function Ff(s){const o=s.get(Of,null);o&&o.forEach(l=>l())})(s)}(function Bg(s=[],o){return Ws.create({name:o,providers:[{provide:wy,useValue:"platform"},{provide:Vg,useValue:()=>kl=null},...s]})}(w,d))}return function Wb(s){const o=_d();if(!o)throw new Ne(401,!1);return o}()}}function _d(){return kl?.get(Hg)??null}let Hg=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const h=function yI(s,o){let l;return l="noop"===s?new pI:("zone.js"===s?void 0:s)||new as(o),l}(d?.ngZone,function jg(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),p=[{provide:as,useValue:h}];return h.run(()=>{const y=Ws.create({providers:p,parent:this.injector,name:l.moduleType.name}),w=l.create(y),C=w.injector.get(Ru,null);if(!C)throw new Ne(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:A=>{C.handleError(A)}});w.onDestroy(()=>{yd(this._modules,w),T.unsubscribe()})}),function vI(s,o,l){try{const d=l();return Oo(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(C,h,()=>{const T=w.injector.get(pd);return T.runInitializers(),T.donePromise.then(()=>(function ga(s){Lt(s,"Expected localeId to be defined"),"string"==typeof s&&(Zv=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Uc,Po)||Po),this._moduleDoBootstrap(w),w))})})}bootstrapModule(l,d=[]){const h=Kb({},d);return function kA(s,o,l){const d=new Oc(l);return Promise.resolve(d)}(0,0,l).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(l){const d=l.injector.get(Lf);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Ne(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d()),this._injector.get(Vg,null)?.(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(li(Ws))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Kb(s,o){return Array.isArray(o)?o.reduce(Kb,s):{...s,...o}}let Lf=(()=>{class s{constructor(l,d,h,p){this._zone=l,this._injector=d,this._exceptionHandler=h,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new R.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),w=new R.y(C=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{as.assertNotInAngularZone(),Ng(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{as.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{T.unsubscribe(),A.unsubscribe()}});this.isStable=(0,oe.T)(y,w.pipe((0,be.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const h=l instanceof hg;if(!this._initStatus.done)throw!h&&dd(l),new Ne(405,false);let p;p=h?l:this._injector.get(id).resolveComponentFactory(l),this.componentTypes.push(p.componentType);const y=function OA(s){return s.isBoundToModule}(p)?void 0:this._injector.get(eo),C=p.create(Ws.NULL,[],d||p.selector,y),T=C.location.nativeElement,A=C.injector.get(Rl,null);return A?.registerApplication(T),C.onDestroy(()=>{this.detachView(C.hostView),yd(this.components,C),A?.unregisterApplication(T)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Ne(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;yd(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Hb,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>yd(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Ne(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(li(as),li(Ws),li(Ru),li(pd))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function yd(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let EI=!0,Zb=!1;function FA(){return Zb=!0,EI}function vd(){if(Zb)throw new Error("Cannot enable prod mode after platform setup.");EI=!1}let II=(()=>{class s{}return s.__NG_ELEMENT_ID__=DI,s})();function DI(s){return function TI(s,o,l){if(Os(s)&&!l){const d=er(s.index,o);return new rd(d,d)}return 47&s.type?new rd(o[16],o):null}(Ii(),Ge(),16==(16&s))}class Zg{constructor(){}supports(o){return Ec(o)}create(o){return new UA(o)}}const xI=(s,o)=>o;class UA{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||xI}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,p=null;for(;l||d;){const y=!d||l&&l.currentIndex<kI(d,h,p)?l:d,w=kI(y,h,p),C=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(l=l._next,null==y.previousIndex)h++;else{p||(p=[]);const T=w-h,A=C-h;if(T!=A){for(let q=0;q<T;q++){const ce=q<p.length?p[q]:p[q]=0,Fe=ce+q;A<=Fe&&Fe<T&&(p[q]=ce+1)}p[y.previousIndex]=A-T}}w!==C&&o(y,w,C)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Ec(o))throw new Ne(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],y=this._trackByFn(w,p),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,p,y,w)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,y,w),d=!0),l=l._next}else h=0,function Nm(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Qs()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,w=>{y=this._trackByFn(h,w),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,w,y,h)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,y,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,p,h)):o=this._addAfter(new HA(l,d),p,h),o}_verifyReinsertion(o,l,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new RI),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new RI),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class HA{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jA{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class RI{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new jA,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kI(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class wd{constructor(){}supports(o){return o instanceof Map||Cc(o)}create(){return new Xb}}class Xb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Cc(o)))throw new Ne(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new Ed(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class Ed{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Yg(){return new Cd([new Zg])}let Cd=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||Yg()),deps:[[s,new sa,new qa]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Ne(901,!1)}}return s.\u0275prov=tn({token:s,providedIn:"root",factory:Yg}),s})();function Xg(){return new Jg([new wd])}let Jg=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||Xg()),deps:[[s,new sa,new qa]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new Ne(901,!1)}}return s.\u0275prov=tn({token:s,providedIn:"root",factory:Xg}),s})();const zA=qb(null,"core",[]);let tw=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(li(Lf))},s.\u0275mod=Ue({type:s}),s.\u0275inj=Vt({}),s})();function GA(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(Dt,Le,M)=>{M.d(Le,{Z:()=>Ne});var c=M(2090),F=M(4859),R=M(9681),oe=M(1877);class be{constructor(Ie,pe){this._delegate=Ie,this.firebase=pe,(0,R._addComponent)(Ie,new F.wA("app-compat",()=>this,"PUBLIC")),this.container=Ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this._delegate.automaticDataCollectionEnabled=Ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ie=>{this._delegate.checkDestroyed(),Ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(Ie,pe=R._DEFAULT_ENTRY_NAME){var ut;this._delegate.checkDestroyed();const tt=this._delegate.container.getProvider(Ie);return!tt.isInitialized()&&"EXPLICIT"===(null===(ut=tt.getComponent())||void 0===ut?void 0:ut.instantiationMode)&&tt.initialize(),tt.getImmediate({identifier:pe})}_removeServiceInstance(Ie,pe=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ie).clearInstance(pe)}_addComponent(Ie){(0,R._addComponent)(this._delegate,Ie)}_addOrOverwriteComponent(Ie){(0,R._addOrOverwriteComponent)(this._delegate,Ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function we(){const Je=function fe(Je){const Ie={},pe={__esModule:!0,initializeApp:function He(ie,me={}){const Ae=R.initializeApp(ie,me);if((0,c.r3)(Ie,Ae.name))return Ie[Ae.name];const Y=new Je(Ae,pe);return Ie[Ae.name]=Y,Y},app:tt,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function Se(ie){const me=ie.name,Ae=me.replace("-compat","");if(R._registerComponent(ie)&&"PUBLIC"===ie.type){const Y=(ae=tt())=>{if("function"!=typeof ae[Ae])throw se.create("invalid-app-argument",{appName:me});return ae[Ae]()};void 0!==ie.serviceProps&&(0,c.ZB)(Y,ie.serviceProps),pe[Ae]=Y,Je.prototype[Ae]=function(...ae){return this._getService.bind(this,me).apply(this,ie.multipleInstances?ae:[])}}return"PUBLIC"===ie.type?pe[Ae]:null},removeApp:function ut(ie){delete Ie[ie]},useAsService:function nt(ie,me){return"serverAuth"===me?null:me},modularAPIs:R}};function tt(ie){if(!(0,c.r3)(Ie,ie=ie||R._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:ie});return Ie[ie]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function Be(){return Object.keys(Ie).map(ie=>Ie[ie])}}),tt.App=Je,pe}(be);return Je.INTERNAL=Object.assign(Object.assign({},Je.INTERNAL),{createFirebaseNamespace:we,extendNamespace:function Ie(pe){(0,c.ZB)(Je,pe)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Je}(),$=new oe.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Je=self.firebase.SDK_VERSION;Je&&Je.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=z;!function ke(Je){(0,R.registerVersion)("@firebase/app-compat","0.1.28",Je)}()},9681:(Dt,Le,M)=>{M.r(Le),M.d(Le,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Kn,_DEFAULT_ENTRY_NAME:()=>Lt,_addComponent:()=>yn,_addOrOverwriteComponent:()=>tn,_apps:()=>Nt,_clearComponents:()=>Tn,_components:()=>Un,_getProvider:()=>Vt,_registerComponent:()=>Ht,_removeServiceInstance:()=>sn,deleteApp:()=>bt,getApp:()=>In,getApps:()=>Zn,initializeApp:()=>ei,onLog:()=>Xt,registerVersion:()=>hn,setLogLevel:()=>On});var c=M(5861),F=M(4859),R=M(1877),oe=M(2090),be=M(8766);class Ce{constructor(L){this.container=L}getPlatformInfoString(){return this.container.getProviders().map(B=>{if(function se(ee){return"VERSION"===ee.getComponent()?.type}(B)){const K=B.getImmediate();return`${K.library}/${K.version}`}return null}).filter(B=>B).join(" ")}}const fe="@firebase/app",z=new R.Yd("@firebase/app"),Lt="[DEFAULT]",Xe={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Nt=new Map,Un=new Map;function yn(ee,L){try{ee.container.addComponent(L)}catch(B){z.debug(`Component ${L.name} failed to register with FirebaseApp ${ee.name}`,B)}}function tn(ee,L){ee.container.addOrOverwriteComponent(L)}function Ht(ee){const L=ee.name;if(Un.has(L))return z.debug(`There were multiple attempts to register component ${L}.`),!1;Un.set(L,ee);for(const B of Nt.values())yn(B,ee);return!0}function Vt(ee,L){const B=ee.container.getProvider("heartbeat").getImmediate({optional:!0});return B&&B.triggerHeartbeat(),ee.container.getProvider(L)}function sn(ee,L,B=Lt){Vt(ee,L).clearInstance(B)}function Tn(){Un.clear()}const gn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class kn{constructor(L,B,K){this._isDeleted=!1,this._options=Object.assign({},L),this._config=Object.assign({},B),this._name=B.name,this._automaticDataCollectionEnabled=B.automaticDataCollectionEnabled,this._container=K,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(L){this.checkDestroyed(),this._automaticDataCollectionEnabled=L}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(L){this._isDeleted=L}checkDestroyed(){if(this.isDeleted)throw gn.create("app-deleted",{appName:this._name})}}const Kn="9.8.4";function ei(ee,L={}){"object"!=typeof L&&(L={name:L});const B=Object.assign({name:Lt,automaticDataCollectionEnabled:!1},L),K=B.name;if("string"!=typeof K||!K)throw gn.create("bad-app-name",{appName:String(K)});const ge=Nt.get(K);if(ge){if((0,oe.vZ)(ee,ge.options)&&(0,oe.vZ)(B,ge.config))return ge;throw gn.create("duplicate-app",{appName:K})}const Ue=new F.H0(K);for(const at of Un.values())Ue.addComponent(at);const We=new kn(ee,B,Ue);return Nt.set(K,We),We}function In(ee=Lt){const L=Nt.get(ee);if(!L)throw gn.create("no-app",{appName:ee});return L}function Zn(){return Array.from(Nt.values())}function bt(ee){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,c.Z)(function*(ee){const L=ee.name;Nt.has(L)&&(Nt.delete(L),yield Promise.all(ee.container.getProviders().map(B=>B.delete())),ee.isDeleted=!0)})).apply(this,arguments)}function hn(ee,L,B){var K;let ge=null!==(K=Xe[ee])&&void 0!==K?K:ee;B&&(ge+=`-${B}`);const Ue=ge.match(/\s|\//),We=L.match(/\s|\//);if(Ue||We){const at=[`Unable to register library "${ge}" with version "${L}":`];return Ue&&at.push(`library name "${ge}" contains illegal characters (whitespace or "/")`),Ue&&We&&at.push("and"),We&&at.push(`version name "${L}" contains illegal characters (whitespace or "/")`),void z.warn(at.join(" "))}Ht(new F.wA(`${ge}-version`,()=>({library:ge,version:L}),"VERSION"))}function Xt(ee,L){if(null!==ee&&"function"!=typeof ee)throw gn.create("invalid-log-argument");(0,R.Am)(ee,L)}function On(ee){(0,R.Ub)(ee)}const Dn="firebase-heartbeat-store";let Nn=null;function Fi(){return Nn||(Nn=(0,be.X3)("firebase-heartbeat-database",1,{upgrade:(ee,L)=>{0===L&&ee.createObjectStore(Dn)}}).catch(ee=>{throw gn.create("storage-open",{originalErrorMessage:ee.message})})),Nn}function et(){return(et=(0,c.Z)(function*(ee){var L;try{return(yield Fi()).transaction(Dn).objectStore(Dn).get(Ln(ee))}catch(B){throw gn.create("storage-get",{originalErrorMessage:null===(L=B)||void 0===L?void 0:L.message})}})).apply(this,arguments)}function pt(ee,L){return ti.apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(ee,L){var B;try{const ge=(yield Fi()).transaction(Dn,"readwrite");return yield ge.objectStore(Dn).put(L,Ln(ee)),ge.done}catch(K){throw gn.create("storage-set",{originalErrorMessage:null===(B=K)||void 0===B?void 0:B.message})}})).apply(this,arguments)}function Ln(ee){return`${ee.name}!${ee.options.appId}`}class _n{constructor(L){this.container=L,this._heartbeatsCache=null;const B=this.container.getProvider("app").getImmediate();this._storage=new W(B),this._heartbeatsCachePromise=this._storage.read().then(K=>(this._heartbeatsCache=K,K))}triggerHeartbeat(){var L=this;return(0,c.Z)(function*(){const K=L.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ge=ln();if(null===L._heartbeatsCache&&(L._heartbeatsCache=yield L._heartbeatsCachePromise),L._heartbeatsCache.lastSentHeartbeatDate!==ge&&!L._heartbeatsCache.heartbeats.some(Ue=>Ue.date===ge))return L._heartbeatsCache.heartbeats.push({date:ge,agent:K}),L._heartbeatsCache.heartbeats=L._heartbeatsCache.heartbeats.filter(Ue=>{const We=new Date(Ue.date).valueOf();return Date.now()-We<=2592e6}),L._storage.overwrite(L._heartbeatsCache)})()}getHeartbeatsHeader(){var L=this;return(0,c.Z)(function*(){if(null===L._heartbeatsCache&&(yield L._heartbeatsCachePromise),null===L._heartbeatsCache||0===L._heartbeatsCache.heartbeats.length)return"";const B=ln(),{heartbeatsToSend:K,unsentEntries:ge}=function on(ee,L=1024){const B=[];let K=ee.slice();for(const ge of ee){const Ue=B.find(We=>We.agent===ge.agent);if(Ue){if(Ue.dates.push(ge.date),U(B)>L){Ue.dates.pop();break}}else if(B.push({agent:ge.agent,dates:[ge.date]}),U(B)>L){B.pop();break}K=K.slice(1)}return{heartbeatsToSend:B,unsentEntries:K}}(L._heartbeatsCache.heartbeats),Ue=(0,oe.L)(JSON.stringify({version:2,heartbeats:K}));return L._heartbeatsCache.lastSentHeartbeatDate=B,ge.length>0?(L._heartbeatsCache.heartbeats=ge,yield L._storage.overwrite(L._heartbeatsCache)):(L._heartbeatsCache.heartbeats=[],L._storage.overwrite(L._heartbeatsCache)),Ue})()}}function ln(){return(new Date).toISOString().substring(0,10)}class W{constructor(L){this.app=L,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var L=this;return(0,c.Z)(function*(){return(yield L._canUseIndexedDBPromise)&&(yield function $t(ee){return et.apply(this,arguments)}(L.app))||{heartbeats:[]}})()}overwrite(L){var B=this;return(0,c.Z)(function*(){var K;if(yield B._canUseIndexedDBPromise){const Ue=yield B.read();return pt(B.app,{lastSentHeartbeatDate:null!==(K=L.lastSentHeartbeatDate)&&void 0!==K?K:Ue.lastSentHeartbeatDate,heartbeats:L.heartbeats})}})()}add(L){var B=this;return(0,c.Z)(function*(){var K;if(yield B._canUseIndexedDBPromise){const Ue=yield B.read();return pt(B.app,{lastSentHeartbeatDate:null!==(K=L.lastSentHeartbeatDate)&&void 0!==K?K:Ue.lastSentHeartbeatDate,heartbeats:[...Ue.heartbeats,...L.heartbeats]})}})()}}function U(ee){return(0,oe.L)(JSON.stringify({version:2,heartbeats:ee})).length}!function Q(ee){Ht(new F.wA("platform-logger",L=>new Ce(L),"PRIVATE")),Ht(new F.wA("heartbeat",L=>new _n(L),"PRIVATE")),hn(fe,"0.7.27",ee),hn(fe,"0.7.27","esm2017"),hn("fire-js","")}("")},4859:(Dt,Le,M)=>{M.d(Le,{H0:()=>fe,wA:()=>R});var c=M(5861),F=M(2090);class R{constructor(z,$,X){this.name=z,this.instanceFactory=$,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const oe="[DEFAULT]";class be{constructor(z,$){this.name=z,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const $=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has($)){const X=new F.BH;if(this.instancesDeferred.set($,X),this.isInitialized($)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:$});je&&X.resolve(je)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(z){var $;const X=this.normalizeInstanceIdentifier(z?.identifier),je=null!==($=z?.optional)&&void 0!==$&&$;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(ke){if(je)return null;throw ke}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function se(we){return"EAGER"===we.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[$,X]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier($);try{const ke=this.getOrInitializeService({instanceIdentifier:je});X.resolve(ke)}catch{}}}}clearInstance(z=oe){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,c.Z)(function*(){const $=Array.from(z.instances.values());yield Promise.all([...$.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...$.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=oe){return this.instances.has(z)}getOptions(z=oe){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:$={}}=z,X=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:X,options:$});for(const[ke,Ne]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(ke)&&Ne.resolve(je);return je}onInit(z,$){var X;const je=this.normalizeInstanceIdentifier($),ke=null!==(X=this.onInitCallbacks.get(je))&&void 0!==X?X:new Set;ke.add(z),this.onInitCallbacks.set(je,ke);const Ne=this.instances.get(je);return Ne&&z(Ne,je),()=>{ke.delete(z)}}invokeOnInitCallbacks(z,$){const X=this.onInitCallbacks.get($);if(X)for(const je of X)try{je(z,$)}catch{}}getOrInitializeService({instanceIdentifier:z,options:$={}}){let X=this.instances.get(z);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(we=z,we===oe?void 0:we),options:$}),this.instances.set(z,X),this.instancesOptions.set(z,$),this.invokeOnInitCallbacks(X,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,X)}catch{}var we;return X||null}normalizeInstanceIdentifier(z=oe){return this.component?this.component.multipleInstances?z:oe:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const $=this.getProvider(z.name);if($.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);$.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const $=new be(z,this);return this.providers.set(z,$),$}getProviders(){return Array.from(this.providers.values())}}},2833:(Dt,Le,M)=>{var c=M(5861),F=M(9681),R=M(4859),oe=M(2090),be=M(8766);const Ce="@firebase/installations",se="0.5.11",we=`w:${se}`,z="FIS_v2",Je=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ie(G){return G instanceof oe.ZR&&G.code.includes("request-failed")}function pe({projectId:G}){return`https://firebaseinstallations.googleapis.com/v1/projects/${G}/installations`}function ut(G){return{token:G.token,requestStatus:2,expiresIn:me(G.expiresIn),creationTime:Date.now()}}function tt(G,ue){return He.apply(this,arguments)}function He(){return(He=(0,c.Z)(function*(G,ue){const it=(yield ue.json()).error;return Je.create("request-failed",{requestName:G,serverCode:it.code,serverMessage:it.message,serverStatus:it.status})})).apply(this,arguments)}function Be({apiKey:G}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":G})}function Se(G,{refreshToken:ue}){const Me=Be(G);return Me.append("Authorization",function Ae(G){return`${z} ${G}`}(ue)),Me}function nt(G){return ie.apply(this,arguments)}function ie(){return(ie=(0,c.Z)(function*(G){const ue=yield G();return ue.status>=500&&ue.status<600?G():ue})).apply(this,arguments)}function me(G){return Number(G.replace("s","000"))}function Y(G,ue){return ae.apply(this,arguments)}function ae(){return(ae=(0,c.Z)(function*({appConfig:G,heartbeatServiceProvider:ue},{fid:Me}){const it=pe(G),fn=Be(G),Jt=ue.getImmediate({optional:!0});if(Jt){const nn=yield Jt.getHeartbeatsHeader();nn&&fn.append("x-firebase-client",nn)}const Sn={method:"POST",headers:fn,body:JSON.stringify({fid:Me,authVersion:z,appId:G.appId,sdkVersion:we})},ur=yield nt(()=>fetch(it,Sn));if(ur.ok){const nn=yield ur.json();return{fid:nn.fid||Me,registrationStatus:2,refreshToken:nn.refreshToken,authToken:ut(nn.authToken)}}throw yield tt("Create Installation",ur)})).apply(this,arguments)}function de(G){return new Promise(ue=>{setTimeout(ue,G)})}const he=/^[cdef][\w-]{21}$/;function Tt(){try{const G=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(G),G[0]=112+G[0]%16;const Me=function Yt(G){return function Ee(G){return btoa(String.fromCharCode(...G)).replace(/\+/g,"-").replace(/\//g,"_")}(G).substr(0,22)}(G);return he.test(Me)?Me:""}catch{return""}}function Lt(G){return`${G.appName}!${G.appId}`}const Xe=new Map;function Nt(G,ue){const Me=Lt(G);tn(Me,ue),function Ht(G,ue){const Me=function sn(){return!Vt&&"BroadcastChannel"in self&&(Vt=new BroadcastChannel("[Firebase] FID Change"),Vt.onmessage=G=>{tn(G.data.key,G.data.fid)}),Vt}();Me&&Me.postMessage({key:G,fid:ue}),function Tn(){0===Xe.size&&Vt&&(Vt.close(),Vt=null)}()}(Me,ue)}function tn(G,ue){const Me=Xe.get(G);if(Me)for(const it of Me)it(ue)}let Vt=null;const kn="firebase-installations-store";let Kn=null;function ei(){return Kn||(Kn=(0,be.X3)("firebase-installations-database",1,{upgrade:(G,ue)=>{0===ue&&G.createObjectStore(kn)}})),Kn}function In(G,ue){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,c.Z)(function*(G,ue){const Me=Lt(G),fn=(yield ei()).transaction(kn,"readwrite"),Jt=fn.objectStore(kn),wt=yield Jt.get(Me);return yield Jt.put(ue,Me),yield fn.done,(!wt||wt.fid!==ue.fid)&&Nt(G,ue.fid),ue})).apply(this,arguments)}function bt(G){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,c.Z)(function*(G){const ue=Lt(G),it=(yield ei()).transaction(kn,"readwrite");yield it.objectStore(kn).delete(ue),yield it.done})).apply(this,arguments)}function hn(G,ue){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,c.Z)(function*(G,ue){const Me=Lt(G),fn=(yield ei()).transaction(kn,"readwrite"),Jt=fn.objectStore(kn),wt=yield Jt.get(Me),Sn=ue(wt);return void 0===Sn?yield Jt.delete(Me):yield Jt.put(Sn,Me),yield fn.done,Sn&&(!wt||wt.fid!==Sn.fid)&&Nt(G,Sn.fid),Sn})).apply(this,arguments)}function On(G){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,c.Z)(function*(G){let ue;const Me=yield hn(G.appConfig,it=>{const fn=Hn(it),Jt=Dn(G,fn);return ue=Jt.registrationPromise,Jt.installationEntry});return""===Me.fid?{installationEntry:yield ue}:{installationEntry:Me,registrationPromise:ue}})).apply(this,arguments)}function Hn(G){return ti(G||{fid:Tt(),registrationStatus:0})}function Dn(G,ue){if(0===ue.registrationStatus){if(!navigator.onLine)return{installationEntry:ue,registrationPromise:Promise.reject(Je.create("app-offline"))};const Me={fid:ue.fid,registrationStatus:1,registrationTime:Date.now()},it=function Nn(G,ue){return Fi.apply(this,arguments)}(G,Me);return{installationEntry:Me,registrationPromise:it}}return 1===ue.registrationStatus?{installationEntry:ue,registrationPromise:$t(G)}:{installationEntry:ue}}function Fi(){return(Fi=(0,c.Z)(function*(G,ue){try{const Me=yield Y(G,ue);return In(G.appConfig,Me)}catch(Me){throw Ie(Me)&&409===Me.customData.serverCode?yield bt(G.appConfig):yield In(G.appConfig,{fid:ue.fid,registrationStatus:0}),Me}})).apply(this,arguments)}function $t(G){return et.apply(this,arguments)}function et(){return(et=(0,c.Z)(function*(G){let ue=yield pt(G.appConfig);for(;1===ue.registrationStatus;)yield de(100),ue=yield pt(G.appConfig);if(0===ue.registrationStatus){const{installationEntry:Me,registrationPromise:it}=yield On(G);return it||Me}return ue})).apply(this,arguments)}function pt(G){return hn(G,ue=>{if(!ue)throw Je.create("installation-not-found");return ti(ue)})}function ti(G){return function Ln(G){return 1===G.registrationStatus&&G.registrationTime+1e4<Date.now()}(G)?{fid:G.fid,registrationStatus:0}:G}function Ot(G,ue){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*({appConfig:G,heartbeatServiceProvider:ue},Me){const it=_n(G,Me),fn=Se(G,Me),Jt=ue.getImmediate({optional:!0});if(Jt){const nn=yield Jt.getHeartbeatsHeader();nn&&fn.append("x-firebase-client",nn)}const Sn={method:"POST",headers:fn,body:JSON.stringify({installation:{sdkVersion:we,appId:G.appId}})},ur=yield nt(()=>fetch(it,Sn));if(ur.ok)return ut(yield ur.json());throw yield tt("Generate Auth Token",ur)})).apply(this,arguments)}function _n(G,{fid:ue}){return`${pe(G)}/${ue}/authTokens:generate`}function ln(G){return on.apply(this,arguments)}function on(){return(on=(0,c.Z)(function*(G,ue=!1){let Me;const it=yield hn(G.appConfig,Jt=>{if(!B(Jt))throw Je.create("not-registered");const wt=Jt.authToken;if(!ue&&K(wt))return Jt;if(1===wt.requestStatus)return Me=W(G,ue),Jt;{if(!navigator.onLine)throw Je.create("app-offline");const Sn=Ue(Jt);return Me=ee(G,Sn),Sn}});return Me?yield Me:it.authToken})).apply(this,arguments)}function W(G,ue){return U.apply(this,arguments)}function U(){return(U=(0,c.Z)(function*(G,ue){let Me=yield Q(G.appConfig);for(;1===Me.authToken.requestStatus;)yield de(100),Me=yield Q(G.appConfig);const it=Me.authToken;return 0===it.requestStatus?ln(G,ue):it})).apply(this,arguments)}function Q(G){return hn(G,ue=>{if(!B(ue))throw Je.create("not-registered");return function We(G){return 1===G.requestStatus&&G.requestTime+1e4<Date.now()}(ue.authToken)?Object.assign(Object.assign({},ue),{authToken:{requestStatus:0}}):ue})}function ee(G,ue){return L.apply(this,arguments)}function L(){return(L=(0,c.Z)(function*(G,ue){try{const Me=yield Ot(G,ue),it=Object.assign(Object.assign({},ue),{authToken:Me});return yield In(G.appConfig,it),Me}catch(Me){if(!Ie(Me)||401!==Me.customData.serverCode&&404!==Me.customData.serverCode){const it=Object.assign(Object.assign({},ue),{authToken:{requestStatus:0}});yield In(G.appConfig,it)}else yield bt(G.appConfig);throw Me}})).apply(this,arguments)}function B(G){return void 0!==G&&2===G.registrationStatus}function K(G){return 2===G.requestStatus&&!function ge(G){const ue=Date.now();return ue<G.creationTime||G.creationTime+G.expiresIn<ue+36e5}(G)}function Ue(G){const ue={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},G),{authToken:ue})}function st(){return(st=(0,c.Z)(function*(G){const ue=G,{installationEntry:Me,registrationPromise:it}=yield On(ue);return it?it.catch(console.error):ln(ue).catch(console.error),Me.fid})).apply(this,arguments)}function V(){return(V=(0,c.Z)(function*(G,ue=!1){const Me=G;return yield j(Me),(yield ln(Me,ue)).token})).apply(this,arguments)}function j(G){return _e.apply(this,arguments)}function _e(){return(_e=(0,c.Z)(function*(G){const{registrationPromise:ue}=yield On(G);ue&&(yield ue)})).apply(this,arguments)}function ze(G){return Je.create("missing-app-config-values",{valueName:G})}const N="installations",Oe=G=>{const ue=G.getProvider("app").getImmediate(),Me=function re(G){if(!G||!G.options)throw ze("App Configuration");if(!G.name)throw ze("App Name");const ue=["projectId","apiKey","appId"];for(const Me of ue)if(!G.options[Me])throw ze(Me);return{appName:G.name,projectId:G.options.projectId,apiKey:G.options.apiKey,appId:G.options.appId}}(ue);return{app:ue,appConfig:Me,heartbeatServiceProvider:(0,F._getProvider)(ue,"heartbeat"),_delete:()=>Promise.resolve()}},Pe=G=>{const ue=G.getProvider("app").getImmediate(),Me=(0,F._getProvider)(ue,N).getImmediate();return{getId:()=>function at(G){return st.apply(this,arguments)}(Me),getToken:fn=>function J(G){return V.apply(this,arguments)}(Me,fn)}};(function vt(){(0,F._registerComponent)(new R.wA(N,Oe,"PUBLIC")),(0,F._registerComponent)(new R.wA("installations-internal",Pe,"PRIVATE"))})(),(0,F.registerVersion)(Ce,se),(0,F.registerVersion)(Ce,se,"esm2017")},1877:(Dt,Le,M)=>{M.d(Le,{Am:()=>we,Ub:()=>fe,Yd:()=>se,in:()=>F});const c=[];var F=(()=>{return(z=F||(F={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",F;var z})();const R={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},oe=F.INFO,be={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},Ce=(z,$,...X)=>{if($<z.logLevel)return;const je=(new Date).toISOString(),ke=be[$];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[ke](`[${je}]  ${z.name}:`,...X)};class se{constructor($){this.name=$,this._logLevel=oe,this._logHandler=Ce,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in F))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?R[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...$),this._logHandler(this,F.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...$),this._logHandler(this,F.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,F.INFO,...$),this._logHandler(this,F.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,F.WARN,...$),this._logHandler(this,F.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...$),this._logHandler(this,F.ERROR,...$)}}function fe(z){c.forEach($=>{$.setLogLevel(z)})}function we(z,$){for(const X of c){let je=null;$&&$.level&&(je=R[$.level]),X.userLogHandler=null===z?null:(ke,Ne,...Je)=>{const Ie=Je.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch{return null}}).filter(pe=>pe).join(" ");Ne>=(je??ke.logLevel)&&z({level:F[Ne].toLowerCase(),message:Ie,args:Je,type:ke.name})}}}},8766:(Dt,Le,M)=>{M.d(Le,{Lj:()=>He,X3:()=>tt});var c=M(5861);let R,oe;const se=new WeakMap,fe=new WeakMap,we=new WeakMap,z=new WeakMap,$=new WeakMap;let ke={get(me,Ae,Y){if(me instanceof IDBTransaction){if("done"===Ae)return fe.get(me);if("objectStoreNames"===Ae)return me.objectStoreNames||we.get(me);if("store"===Ae)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return pe(me[Ae])},set:(me,Ae,Y)=>(me[Ae]=Y,!0),has:(me,Ae)=>me instanceof IDBTransaction&&("done"===Ae||"store"===Ae)||Ae in me};function Ie(me){return"function"==typeof me?function Je(me){return me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(me)?function(...Ae){return me.apply(ut(this),Ae),pe(se.get(this))}:function(...Ae){return pe(me.apply(ut(this),Ae))}:function(Ae,...Y){const ae=me.call(ut(this),Ae,...Y);return we.set(ae,Ae.sort?Ae.sort():[Ae]),pe(ae)}}(me):(me instanceof IDBTransaction&&function je(me){if(fe.has(me))return;const Ae=new Promise((Y,ae)=>{const de=()=>{me.removeEventListener("complete",Ee),me.removeEventListener("error",he),me.removeEventListener("abort",he)},Ee=()=>{Y(),de()},he=()=>{ae(me.error||new DOMException("AbortError","AbortError")),de()};me.addEventListener("complete",Ee),me.addEventListener("error",he),me.addEventListener("abort",he)});fe.set(me,Ae)}(me),((me,Ae)=>Ae.some(Y=>me instanceof Y))(me,function be(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(me,ke):me)}function pe(me){if(me instanceof IDBRequest)return function X(me){const Ae=new Promise((Y,ae)=>{const de=()=>{me.removeEventListener("success",Ee),me.removeEventListener("error",he)},Ee=()=>{Y(pe(me.result)),de()},he=()=>{ae(me.error),de()};me.addEventListener("success",Ee),me.addEventListener("error",he)});return Ae.then(Y=>{Y instanceof IDBCursor&&se.set(Y,me)}).catch(()=>{}),$.set(Ae,me),Ae}(me);if(z.has(me))return z.get(me);const Ae=Ie(me);return Ae!==me&&(z.set(me,Ae),$.set(Ae,me)),Ae}const ut=me=>$.get(me);function tt(me,Ae,{blocked:Y,upgrade:ae,blocking:de,terminated:Ee}={}){const he=indexedDB.open(me,Ae),$e=pe(he);return ae&&he.addEventListener("upgradeneeded",Tt=>{ae(pe(he.result),Tt.oldVersion,Tt.newVersion,pe(he.transaction))}),Y&&he.addEventListener("blocked",()=>Y()),$e.then(Tt=>{Ee&&Tt.addEventListener("close",()=>Ee()),de&&Tt.addEventListener("versionchange",()=>de())}).catch(()=>{}),$e}function He(me,{blocked:Ae}={}){const Y=indexedDB.deleteDatabase(me);return Ae&&Y.addEventListener("blocked",()=>Ae()),pe(Y).then(()=>{})}const Be=["get","getKey","getAll","getAllKeys","count"],Se=["put","add","delete","clear"],nt=new Map;function ie(me,Ae){if(!(me instanceof IDBDatabase)||Ae in me||"string"!=typeof Ae)return;if(nt.get(Ae))return nt.get(Ae);const Y=Ae.replace(/FromIndex$/,""),ae=Ae!==Y,de=Se.includes(Y);if(!(Y in(ae?IDBIndex:IDBObjectStore).prototype)||!de&&!Be.includes(Y))return;const Ee=function(){var he=(0,c.Z)(function*($e,...Tt){const Yt=this.transaction($e,de?"readwrite":"readonly");let Lt=Yt.store;return ae&&(Lt=Lt.index(Tt.shift())),(yield Promise.all([Lt[Y](...Tt),de&&Yt.done]))[0]});return function(Tt){return he.apply(this,arguments)}}();return nt.set(Ae,Ee),Ee}!function Ne(me){ke=me(ke)}(me=>({...me,get:(Ae,Y,ae)=>ie(Ae,Y)||me.get(Ae,Y,ae),has:(Ae,Y)=>!!ie(Ae,Y)||me.has(Ae,Y)}))},5861:(Dt,Le,M)=>{function c(R,oe,be,Ce,se,fe,we){try{var z=R[fe](we),$=z.value}catch(X){return void be(X)}z.done?oe($):Promise.resolve($).then(Ce,se)}function F(R){return function(){var oe=this,be=arguments;return new Promise(function(Ce,se){var fe=R.apply(oe,be);function we($){c(fe,Ce,se,we,z,"next",$)}function z($){c(fe,Ce,se,we,z,"throw",$)}we(void 0)})}}M.d(Le,{Z:()=>F})}},Dt=>{Dt(Dt.s=6873)}]);